var xr=Object.defineProperty;var Cr=(t,e,s)=>e in t?xr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var c=(t,e,s)=>(Cr(t,typeof e!="symbol"?e+"":e,s),s);import{r as y,j as o,c as _,R as vs,i as T,a as H,b as Tr,m as Ze,d as O,e as xt,t as Ct,f as Ir,o as q,u as W,C as Rr,g as Ar,A as kr,L as Lr,S as Ls,h as Pr,T as Ps,k as ys,l as ue,n as Qe,B as Nr,p as Dr,q as jr,s as kt,v as Lt,w as Pt,X as Nt,Y as Dt,x as jt,y as Ce,z as Or,D as Er,E as bs,F as Fr,G as Yt,N as Ns,H as $r}from"./vendor-e59bfd4a.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const Xm=["path"],Ym=["path"],Ot=13,Mr=t=>t==null?t===void 0?"[object Undefined]":"[object Null]":toString.call(t),sr=t=>{const e=typeof t;return e=="symbol"||e==="object"&&t!=null&&Mr(t)=="[object Symbol]"},Gr=t=>{if(typeof t=="string"||sr(t))return t;const e=`${t}`;return e=="0"&&1/t==-1/0?"-0":e},qr=(t,e)=>{const s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;if(Array.isArray(t))return!1;const n=typeof t;return n==="number"||n==="boolean"||t==null||sr(t)?!0:r.test(t)||!s.test(t)||e!=null&&t in Object(e)},Br=t=>{const e=[];return t==null||t.split(/[.[\]]/g).forEach(s=>{s!==""&&e.push(s)}),e},zr=(t,e)=>Array.isArray(t)?t:qr(t,e)?[t]:Br(t),Vr=(t,e)=>{e=zr(e,t);let s=0;const r=e.length;for(;t!=null&&s<r;)t=t[Gr(e[s++])];return s&&s==r?t:void 0},Ds=(t,e,s)=>{const r=t==null?void 0:Vr(t,e);return r===void 0?s:r},ve=t=>({clone:()=>t,get:(e,s)=>Ds(t,e,s),isEmpty:e=>e?e.map(s=>!!Ds(t,String(s))):Object.keys(t).length===0,isEqual:e=>ds(t,e)}),Ur=t=>typeof t=="function",rr=(t,...e)=>Ur(t)?t.apply(t,e):void 0,te=(t,e)=>e?t.endsWith(e)?t:e.substr(0,7)==="http://"||e.substr(0,8)==="https://"?e:(e.substr(0,1)!=="/"&&(e="/"+e),e.length===1&&(e="/"),t?t+e:e):t,at=(t,e)=>{const s=[];if(t){const r={};for(const i of e)if(t[i]!=null)for(const a in t[i])t[i].hasOwnProperty(a)&&(r[a]=null);const n=Hr(r).sort();for(const i of n){const a={x:new Date(parseInt(i,10))};for(const l of e){const d=t[l],h=d!=null&&d[i]!=null?d[i]:0;a[l]=Math.floor(h)}s.push(a)}}return s},Hr=t=>{const e=[];if(t!==null)for(const s in t)t.hasOwnProperty(s)&&e.push(s);return e},Oe=t=>{if(!t)return"N/A";const e={hour12:!1,hour:"numeric",minute:"2-digit",second:"2-digit",day:"numeric",month:"numeric",year:"numeric"};return new Date(t).toLocaleString("en-US",e)},ut=(t,e)=>{if(e=t.data||e,t!=null&&t.fields!=null){const s=e||{};for(const r of t.fields)if(r.value==null)s[r.name]=null;else if(r.type==="Object")s[r.name]=ut(r.value,s[r.name]);else if(r.type==="ObjectList"){const n=[];for(const i of r.value)n.push(ut(i));s[r.name]=n}else if(r.type==="ObjectMap"){const n={};for(const i in r.value)r.value.hasOwnProperty(i)&&(n[i]=ut(r.value[i]));s[r.name]=n}else s[r.name]=r.value;return s}else return null},Et=t=>{const e={};if(t.hasOwnProperty("webConfig")&&(e.webConfig={data:ut(t.webConfig)}),t.hasOwnProperty("appConfig")){e.appConfig={};for(const[s,r]of Object.entries(t.appConfig))e.appConfig[s]={data:ut(r)}}return e},Ft=t=>({data:ut(t)}),Wr=t=>{let e=0,s=0,r=0;if(t)for(const n of t)switch(n.status){case"Running":{e++;break}case"Error":{s++;break}case"Stopped":{r++;break}}return{Running:e,Error:s,Stopped:r}},es=t=>t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),Jr=t=>{let s=0,r=`:root {
`;for(let n in t){if(s>=0){let i=t[n];!isNaN(i)&&i!==0&&(i+="px"),r+=`	--${n}: ${i};
`}s++}return r+="}",r},Ss=t=>{if(!t)return"0 B";const e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)+" "+["B","kB","MB","GB","TB"][e]},Jt=function(t,e=300,s=!1){let r;return function(...n){const i=this;s&&!r&&t.apply(i,n),typeof r=="number"&&clearTimeout(r),r=setTimeout(()=>{r=null,s||t.apply(i,n)},e)}},ef=(t,e,s)=>{if(!t)return t;const r=Array.isArray(e)?e:[e],n=Array.isArray(s)?s:s?[s]:[],i=(a,l,d)=>{const h=r[d],m=n[d]||"ASC",g=typeof a[h]=="function"?a[h]():a[h],f=typeof l[h]=="function"?l[h]():l[h];return g===f?d===r.length-1?0:i(a,l,d+1):m==="ASC"?g<f?-1:1:g>f?-1:1};return t.sort((a,l)=>i(a,l,0))};function ds(t,e,s=[],r=[]){if(t===e)return!0;const n=typeof t,i=typeof e;if(n!==i||t==null||e==null)return!1;if(n==="symbol"||i==="symbol")return t.valueOf()===e.valueOf();if(n==="function")return t.toString()===e.toString();if(n==="object"&&i==="object"){let a=s.length;for(;a--;)if(s[a]===t)return r[a]===e;s.push(t),r.push(e);const l=Array.isArray(t),d=Array.isArray(e);if(l!==d)return!1;if(l){const h=t.length;if(h!==e.length)return!1;for(let m=0;m<h;m++)if(!ds(t[m],e[m],s,r))return!1;return!0}else{const h=Object.keys(t).sort(),m=Object.keys(e).sort(),g=h.length;if(g!==m.length)return!1;for(let f=0;f<g;f++){const p=h[f];if(p!==m[f]||!ds(t[p],e[p],s,r))return!1}return!0}}return t===e}const tf=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),js=(t,e,s,r)=>{const n=window.URL.createObjectURL(t);if(s){const i=window.open(n,"_blank");setTimeout(()=>window.URL.revokeObjectURL(n),1e3),!i&&r&&r()}else{const i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}},Kr=[{label:"Audit",url:"audit",delimiter:"|",lineDelimiter:`
`,downloadEnabled:!0},{label:"Server",url:"server",delimiter:null,lineDelimiter:/\n(?=\d{4})/g,downloadEnabled:!0},{label:"Admin",url:"admin",delimiter:null,lineDelimiter:/\n(?=\d{4})/g,downloadEnabled:!0},{label:"Scaling",url:"scaling",delimiter:null,lineDelimiter:/\n(?=\d{4})/g,downloadEnabled:!0},{label:"Session Pool",url:"sessionpool",delimiter:null,lineDelimiter:/\n(?=\d{4})/g,downloadEnabled:!0},{label:"Session",url:"session",delimiter:null,lineDelimiter:/\n(?=\d{4})/g,downloadEnabled:!1,hide:!0}];function Zr(t,e){const s=y.useRef(null);y.useEffect(()=>{s.current=t}),y.useEffect(()=>{function r(){s.current!==null&&s.current()}const n=setInterval(r,e);return()=>clearInterval(n)},[e])}const xs=()=>{y.useEffect(()=>{const t=document.getElementById("root");return t.style.overflow="hidden",()=>{t.style.overflow=""}},[])},Qr=typeof window<"u"?y.useLayoutEffect:y.useEffect,Xr=typeof window>"u";function or(t,{defaultValue:e=!1,initializeWithValue:s=!0}={}){const r=l=>Xr?e:window.matchMedia(l).matches,[n,i]=y.useState(()=>s?r(t):e);function a(){i(r(t))}return Qr(()=>{const l=window.matchMedia(t);return a(),l.addListener?l.addListener(a):l.addEventListener("change",a),()=>{l.removeListener?l.removeListener(a):l.removeEventListener("change",a)}},[t]),n}const Yr="_toastContainer_1bgy0_1",eo="_toast_1bgy0_1",to="_slideIn_1bgy0_1",so="_toastContent_1bgy0_32",ro="_slideOut_1bgy0_1",oo="_closeButton_1bgy0_71",Me={toastContainer:Yr,toast:eo,slideIn:to,"toast--download":"_toast--download_1bgy0_29",toastContent:so,"toast--info":"_toast--info_1bgy0_36","toast--success":"_toast--success_1bgy0_40","toast--warning":"_toast--warning_1bgy0_44","toast--error":"_toast--error_1bgy0_48","toast--exit":"_toast--exit_1bgy0_52",slideOut:ro,closeButton:oo},no="_root_1acmy_1",io="_primary_1acmy_7",ao="_white_1acmy_10",lo="_light_1acmy_13",co="_txt_1acmy_16",uo="_blue_1acmy_19",ho="_neutral_1acmy_22",po="_success_1acmy_25",go="_warning_1acmy_28",mo="_danger_1acmy_31",fo="_mini_1acmy_34",wo="_small_1acmy_37",_o="_medium_1acmy_40",vo="_large_1acmy_43",yo="_extraLarge_1acmy_46",ts={root:no,primary:io,white:ao,light:lo,txt:co,blue:uo,neutral:ho,success:po,warning:go,danger:mo,mini:fo,small:wo,medium:_o,large:vo,extraLarge:yo},D=y.memo(function({className:e,name:s,title:r,color:n,size:i="medium",progress:a,onClick:l,dataTest:d}){const h=y.useCallback(()=>rr(l),[l]),m={"--progress-height":`${Number(a)}%`};return o.jsx("i",{"data-test":d||s,title:r,style:a?m:{},className:_("material-symbols-rounded",ts.root,n?ts[n]:"",ts[i],e),onClick:h,children:s})}),bo="_progressContainer_1m2bu_1",So="_progressTrack_1m2bu_12",xo="_progressBar_1m2bu_21",Co="_shine_1m2bu_1",To="_indefiniteProgress_1m2bu_1",Io="_indefiniteShine_1m2bu_1",Ro="_progressText_1m2bu_60",Ao="_progressLabel_1m2bu_68",Xe={progressContainer:bo,progressTrack:So,progressBar:xo,shine:Co,"progressBar--indefinite":"_progressBar--indefinite_1m2bu_38",indefiniteProgress:To,indefiniteShine:Io,progressText:Ro,progressLabel:Ao},ko=({progress:t=0,progressLabel:e,type:s="info",indefinite:r=!1,className:n})=>{const i=()=>!r&&t===100?"#4caf50":s==="error"?"#f44336":s==="warning"?"#ff9800":"#2196f3",a=()=>!r&&t===100?"76, 175, 80":s==="error"?"244, 67, 54":s==="warning"?"255, 152, 0":"33, 150, 243";return o.jsxs("div",{className:_(Xe.progressContainer,n),children:[o.jsx("div",{className:Xe.progressTrack,children:o.jsx("div",{className:_(Xe.progressBar,r&&Xe["progressBar--indefinite"]),style:{width:r?"100%":`${Math.min(Math.max(t,0),100)}%`,backgroundColor:i(),"--progress-color":i(),"--progress-rgb":a()}})}),o.jsx("div",{className:Xe.progressText,children:r?"":`${Math.round(t)}%`}),e&&o.jsx("div",{className:Xe.progressLabel,children:e})]})};class Lo{constructor(){c(this,"containerRef",null);c(this,"state",{toasts:[]});c(this,"renderSubscribers",[]);c(this,"downloadPollers",new Map)}truncateContent(e,s=800){if(typeof e!="string"||e.length<=s)return e;const n=e.substring(0,s).lastIndexOf(" "),i=n>s*.8?n:s;return o.jsxs("span",{children:[e.substring(0,i),o.jsx("span",{style:{opacity:.7,fontStyle:"italic"},children:"..."})]})}createContainer(){if(this.containerRef)return;const e=document.body,s=document.createElement("div");s.id="toast-container",e.appendChild(s),this.containerRef=s,this.render()}notify(){this.renderSubscribers.forEach(e=>e()),this.render()}render(){this.containerRef&&vs.render(o.jsx(Po,{toasts:this.state.toasts}),this.containerRef)}subscribe(e){return this.renderSubscribers.push(e),()=>{this.renderSubscribers=this.renderSubscribers.filter(s=>s!==e)}}show(e,s={}){this.createContainer();const r=Math.random().toString(36).substring(2,11),n={type:"info",position:"top-right",autoClose:2500,closeOnClick:!0,pauseOnHover:!0,closeButton:!0,maxLength:800,...s},i=this.truncateContent(e,n.maxLength),a={id:r,content:i,options:n,onClose:()=>this.close(r)};return this.state={toasts:[...this.state.toasts,a]},this.notify(),a.options.autoClose!==!1&&setTimeout(()=>{this.close(r)},a.options.autoClose),r}showDownload(e,s,r={}){this.createContainer();const n=Math.random().toString(36).substring(2,11),a={id:n,content:o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:o.jsxs("span",{children:["Downloading ",e]})}),options:{type:"info",position:"bottom-right",autoClose:!1,closeOnClick:!1,closeButton:!0,maxLength:800,isDownload:!0,progress:0,progressLabel:"",progressGetter:s,indefinite:r.indefinite||!s,onAbort:r.onAbort,...r},onClose:()=>this.close(n)};return this.state={toasts:[...this.state.toasts,a]},this.notify(),s&&!a.options.indefinite&&this.startDownloadPolling(n,s),n}startDownloadPolling(e,s){const r=this.downloadPollers.get(e);r&&clearInterval(r);const n=setInterval(()=>{const i=this.state.toasts.find(a=>a.id===e);if(!i||!i.options.isDownload){clearInterval(n),this.downloadPollers.delete(e);return}try{const{progress:a,label:l}=s(),d=Math.min(Math.max(a,0),100);i.options.progress=d,l!==void 0&&(i.options.progressLabel=l),d>=100&&(setTimeout(()=>{this.close(e)},300),clearInterval(n),this.downloadPollers.delete(e)),this.notify()}catch(a){console.error("Error getting download progress:",a),clearInterval(n),this.downloadPollers.delete(e)}},100);this.downloadPollers.set(e,n)}close(e){const s=this.state.toasts.find(i=>i.id===e);s&&"isDownload"in s.options&&s.options.isDownload&&s.options.onAbort&&s.options.onAbort();const n=this.downloadPollers.get(e);n&&(clearInterval(n),this.downloadPollers.delete(e)),this.state={toasts:this.state.toasts.filter(i=>i.id!==e)},this.notify()}closeAll(){this.downloadPollers.forEach(e=>clearInterval(e)),this.downloadPollers.clear(),this.state={toasts:[]},this.notify()}}const Ge=new Lo,Po=({toasts:t})=>{const e=r=>({"top-left":{top:"1rem",left:"1rem"},"top-center":{top:"1rem",left:"50%",transform:"translateX(-50%)"},"top-right":{top:"1rem",right:"1rem"},"bottom-left":{bottom:"1rem",left:"1rem"},"bottom-center":{bottom:"1rem",left:"50%",transform:"translateX(-50%)"},"bottom-right":{bottom:"1rem",right:"1rem"}})[r],s={"top-left":[],"top-center":[],"top-right":[],"bottom-left":[],"bottom-center":[],"bottom-right":[]};return t.forEach(r=>{const n=r.options.position;s[n].push(r)}),o.jsx(o.Fragment,{children:Object.entries(s).map(([r,n])=>n.length>0&&o.jsx("div",{className:Me.toastContainer,style:e(r),"aria-live":"polite",children:n.map(i=>o.jsx(No,{toast:i},i.id))},r))})},No=({toast:t})=>{const[e,s]=y.useState(!1),[r,n]=y.useState(!1),i="isDownload"in t.options&&t.options.isDownload,a=y.useCallback(()=>{s(!0),setTimeout(()=>{t.onClose()},300)},[t.onClose]);y.useEffect(()=>{if(t.options.autoClose!==!1&&!i){const h=setTimeout(()=>{r||a()},t.options.autoClose);return()=>clearTimeout(h)}},[t.options.autoClose,i,a,r]);const l=()=>{t.options.pauseOnHover&&n(!0)},d=()=>{t.options.pauseOnHover&&n(!1)};return o.jsxs("div",{className:_(Me.toast,Me[`toast--${t.options.type}`],e&&Me["toast--exit"],i&&Me["toast--download"],t.options.className),onClick:!i&&t.options.closeOnClick?a:void 0,onMouseEnter:l,onMouseLeave:d,role:"alert",children:[o.jsx("div",{className:Me.toastContent,children:typeof t.content=="string"?o.jsx("span",{children:t.content}):t.content}),i&&"progress"in t.options&&o.jsx(ko,{progress:t.options.progress,progressLabel:t.options.progressLabel,type:t.options.type,indefinite:t.options.indefinite}),t.options.closeButton&&o.jsx("button",{className:Me.closeButton,onClick:h=>{h.stopPropagation(),a()},"aria-label":"Close",children:o.jsx(D,{name:"close",size:"mini"})})]})},nr=(t="",e)=>t&&Ge.show(t,{type:"info",maxLength:600,...e}),Z=(t,e)=>nr(t,{...e,autoClose:5e3,type:"error",position:"bottom-right",maxLength:1e3}),U=(t,e)=>nr(t,{...e,autoClose:2500,type:"success",position:"bottom-right",maxLength:400}),Os=(t,e,s)=>Ge.showDownload(t,e,s),Do=()=>null,Be=class Be{constructor(){c(this,"accessToken");c(this,"refreshing",!1);if(Be._instance)throw new Error("Error: Instantiation failed: Use AccessHandlerService.getInstance() instead of new.");Be._instance=this,this.init()}static getInstance(){return Be._instance}async getAccessToken(e){if(!this.accessToken||this.accessToken==null||!this.accessToken.length||e){if(this.refreshing&&(await this.refreshingFinished(),this.accessToken&&this.accessToken!=null&&this.accessToken.length))return this.accessToken;await this.refreshToken()}return this.accessToken||""}setAccessToken(e){this.accessToken=e}getAccessSecuritySuffix(){return zt()}clearTokens(){this.accessToken=null}async displayLogin(){const e=[],s=new URLSearchParams(window.location.search),r=s.get("securityToken");r!==void 0&&r!=null&&e.push("securityToken="+r);const n=s.get("realm");n!==void 0&&n!=null&&e.push("realm="+n),e.push("securitySuffix="+zt());const i=s.get("route");i!=null&&sessionStorage.setItem("wsa_lastRoute",i);const a=await fe.getServerUrl();a&&(window.location.href=a+"/adminConsoleLogin.html?"+e.join("&"))}async logout(){this.clearTokens(),window.location.href=z+"/rest/logout?X-webswing-securitySuffix="+zt()}async healthCheck(){try{return await Ks({}).health()||"error"}catch(e){N(T.t("error.healthCheck"),e)}return"error"}init(){setInterval(()=>{this.getAccessToken(!0)},6e4)}async refreshingFinished(){let e=0;for(;this.refreshing&&e<100;)e++,await new Promise(s=>setTimeout(s,500))}async refreshToken(){this.refreshing=!0;try{const s=await Ks({}).refreshToken().catch(()=>{});s&&s.accessToken&&s.accessToken!=null&&s.accessToken.length?this.setAccessToken(s.accessToken):(this.clearTokens(),this.displayLogin())}catch(e){N(T.t("error.refreshToken"),e)}finally{this.refreshing=!1}}};c(Be,"_instance",new Be);let us=Be;const ie=us.getInstance(),ze=class ze{constructor(){c(this,"serverUrl");if(ze._instance)throw new Error("Error: Instantiation failed: Use ConfigRestService.getInstance() instead of new.");ze._instance=this}static getInstance(){return ze._instance}async getAccessToken(){return await ie.getAccessToken()}async getServerUrl(){return(!this.serverUrl||this.serverUrl===null)&&await this.getUrl().then(e=>{e&&(this.serverUrl=e)}),this.serverUrl}async getPaths(e){try{return await Je(j(await this.getAccessToken())).getPaths(e??{})}catch(s){N(T.t("error.getPath"),s)}}async getUrl(){try{return await Je({}).getUrl()}catch(e){N(T.t("error.getUrl"),e)}}async getInfo(e){try{return await Je(j(await this.getAccessToken()),e).getInfo()}catch(s){N(T.t("error.getInfo"),s)}}async getConfig(e){try{return await $e(e,j(await this.getAccessToken())).getConfig()}catch(s){N(T.t("error.getConfig"),s)}}async setConfig(e,s){try{await $e(s,j(await this.getAccessToken())).saveConfig({config:e})}catch(r){N(T.t("error.setConfig"),r)}}async start(e){try{return await wt(j(await this.getAccessToken())).startApp({appPath:te("",e)})}catch(s){N(T.t("error.startApp"),s)}}async stop(e){try{return await wt(j(await this.getAccessToken())).stopApp({appPath:te("",e)})}catch(s){N(T.t("error.stopApp"),s)}}async create(e,s){try{return await wt(j(await this.getAccessToken())).createApp({appPath:te("",e),appName:s})}catch(r){N(`${T.t("apps.toastCreateFailed")} ${s}`,r)}}async duplicate(e,s,r){try{return await wt(j(await this.getAccessToken())).duplicateApp({appPath:te("",e),appName:s,duplicateApp:r})}catch(n){N(`${T.t("apps.toastDuplicateFailed")} ${r}`,n)}}async remove(e){try{return await wt(j(await this.getAccessToken())).removeApp({appPath:te("",e)})}catch(s){N(`${T.t("error.removeApp",{app:e})}`,s)}}async getVariables(e,s,r,n){try{return await $e(e,j(await this.getAccessToken())).searchVariables({type:s,search:r,sessionPoolId:n})}catch(i){N(T.t("error.getVar"),i)}}async resolve(e,s,r,n){try{return await $e(e,j(await this.getAccessToken())).resolve({type:s,resolve:r,sessionPoolId:n})}catch(i){N(T.t("error.resolve"),i)}}async getMeta(e,s){try{return await $e(e,j(await this.getAccessToken())).getMeta({config:s})}catch(r){N(T.t("error.getMeta"),r)}}async createWebFolder(e){try{return await $e(e,j(await this.getAccessToken())).createWebFolder()}catch(s){N(T.t("error.createWebFolder"),s)}}async configureOracleForms(e,s,r){try{return await $e(e,j(await this.getAccessToken())).configureOracleForms({configureOracleFormsRequest:{url:s,version:r}})}catch(n){N(T.t("error.configureOracleForms"),n)}}async getVersion(){try{return await Je(j(await this.getAccessToken())).getVersion()}catch(e){N(T.t("error.getVersion"),e)}}};c(ze,"_instance",new ze);let hs=ze;const fe=hs.getInstance(),Ve=class Ve{constructor(){if(Ve._instance)throw new Error("Error: Instantiation failed: Use LogRestService.getInstance() instead of new.");Ve._instance=this}static getInstance(){return Ve._instance}async getLogsOverview(e){try{return await nt(j(await this.getAccessToken())).getLogsOverview(e||{})}catch(s){N(T.t("error.loadLogsOverview"),s)}}async getServerLogs(e,s,r){try{return await nt(j(await this.getAccessToken())).getServerLogs({id:e,type:s,logRequest:r})}catch(n){N(`${T.t("error.loadLog",{type:s})}`,n)}}async getAdminConsoleLogs(e){try{return await nt(j(await this.getAccessToken())).getAdminConsoleLogs({logRequest:e})}catch(s){N(`${T.t("error.loadLog",{type:"admin"})}`,s)}}async getScalingLogs(e){try{return await nt(j(await this.getAccessToken())).getAutoScalingLogs({logRequest:e})}catch(s){N(`${T.t("error.loadLog",{type:"scaling"})}`,s)}}async getSessionPoolLogs(e,s){try{return await nt(j(await this.getAccessToken())).getSessionPoolLogs({id:e,logRequest:s})}catch(r){N(T.t("error.sessionPoolLogs"),r)}}async getSessionLog(e,s,r,n){try{return await nt(j(await this.getAccessToken())).getSessionLogs({sessionPoolId:e,instanceId:s,appPath:r,logRequest:n})}catch(i){N(T.t("error.sessionLog"),i)}}async getAccessToken(){return await ie.getAccessToken()}};c(Ve,"_instance",new Ve);let ps=Ve;const Fe=ps.getInstance(),jo="http://localhost:8080/admin".replace(/\/+$/,""),Oo=t=>typeof Blob<"u"&&t instanceof Blob;class Ie{constructor(e=new Se){c(this,"middleware");c(this,"fetchApi",async(e,s)=>{let r={url:e,init:s};for(const i of this.middleware)i.pre&&(r=await i.pre({fetch:this.fetchApi,...r})||r);let n=await this.configuration.fetchApi(r.url,r.init);for(const i of this.middleware)i.post&&(n=await i.post({fetch:this.fetchApi,url:e,init:s,response:n.clone()})||n);return n});this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const s=this.clone();return s.middleware=s.middleware.concat(...e),s}withPreMiddleware(...e){const s=e.map(r=>({pre:r}));return this.withMiddleware(...s)}withPostMiddleware(...e){const s=e.map(r=>({post:r}));return this.withMiddleware(...s)}async request(e){const{url:s,init:r}=this.createFetchParams(e),n=await this.fetchApi(s,r);if(n.status>=200&&n.status<300)return n;throw n}createFetchParams(e){let s=this.configuration.basePath+e.path;e.query!==void 0&&Object.keys(e.query).length!==0&&(s+="?"+this.configuration.queryParamsStringify(e.query));const r=e.body instanceof FormData||e.body instanceof URLSearchParams||Oo(e.body)?e.body:JSON.stringify(e.body),n=Object.assign({},this.configuration.headers,e.headers),i={method:e.method,headers:n,body:r,credentials:this.configuration.credentials};return{url:s,init:i}}clone(){const e=this.constructor,s=new e(this.configuration);return s.middleware=this.middleware.slice(),s}}class k extends Error{constructor(s,r){super(r);c(this,"name","RequiredError");this.field=s}}class Se{constructor(e={}){this.configuration=e}get basePath(){return this.configuration.basePath||jo}get fetchApi(){return this.configuration.fetchApi||window.fetch.bind(window)}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||ir}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return typeof e=="function"?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return typeof e=="function"?e:()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}function u(t,e){const s=t[e];return s!=null}function ir(t,e=""){return Object.keys(t).map(s=>{const r=e+(e.length?`[${s}]`:s),n=t[s];if(n instanceof Array){const i=n.map(a=>encodeURIComponent(String(a))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${i}`}return n instanceof Object?ir(n,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(n))}`}).filter(s=>s.length>0).join("&")}function ar(t,e){return Object.keys(t).reduce((s,r)=>({...s,[r]:e(t[r])}),{})}class F{constructor(e,s=r=>r){this.raw=e,this.transformer=s}async value(){return this.transformer(await this.raw.json())}}class re{constructor(e){this.raw=e}async value(){}}class Eo{constructor(e){this.raw=e}async value(){return await this.raw.blob()}}class ht{constructor(e){this.raw=e}async value(){return await this.raw.text()}}function Fo(t){if(t!==void 0)return t===null?null:{id:t.id,type:t.type,enable:t.enable}}var gs=(t=>(t.SESSIONPOOL="SESSION_POOL",t.SERVER="SERVER",t))(gs||{});const Ue=class Ue{constructor(){if(Ue._instance)throw new Error("Error: Instantiation failed: Use OverviewRestService.getInstance() instead of new.");Ue._instance=this}static getInstance(){return Ue._instance}async getOverview(){try{return await _t(j(await this.getAccessToken())).getOverview()}catch(e){N(T.t("error.getOverview"),e)}}async setVerboseMode(e,s,r){try{await _t(j(await this.getAccessToken())).setVerboseMode({verboseModeRequest:{enable:s,id:e,type:r==="server"?gs.SERVER:gs.SESSIONPOOL}}),U(T.t("overview.verboseMode")+" "+(s?T.t("general.enabled"):T.t("general.disabled")))}catch(n){N(T.t("error.updateVerboseFailed"),n)}}async requestSessionPoolDrainMode(e,s=!0){try{let n=await _t(j(await this.getAccessToken())).requestSessionPoolDrainMode({id:e});return s&&U(T.t("ok.spDrainActivated")),n}catch(r){N(T.t("error.cannotSetDrain"),r)}}async requestSessionPoolResume(e,s=!0){try{let n=await _t(j(await this.getAccessToken())).requestSessionPoolResume({id:e});return s&&U(T.t("ok.spResumed")),n}catch(r){N(T.t("error.cannotResumeSP"),r)}}async requestSessionPoolStop(e,s=!0){try{let n=await _t(j(await this.getAccessToken())).requestSessionPoolStop({id:e});return s&&U(T.t("ok.spStopped")),n}catch(r){N(T.t("error.cannotStopSP"),r)}}async getAccessToken(){return await ie.getAccessToken()}};c(Ue,"_instance",new Ue);let ms=Ue;const ke=ms.getInstance(),$o="_wAvatar_lh4l3_1",Mo="_wImg_lh4l3_12",Go="_wAvatarGroup_lh4l3_21",qo="_wAvatarStack_lh4l3_24",Bo="_circle_lh4l3_28",zo="_round_lh4l3_32",Vo="_square_lh4l3_36",Uo="_expandableCircle_lh4l3_40",Ho="_small_lh4l3_44",Wo="_medium_lh4l3_49",Jo="_large_lh4l3_54",Ko="_huge_lh4l3_59",Zo="_expanded_lh4l3_64",pt={wAvatar:$o,wImg:Mo,wAvatarGroup:Go,wAvatarStack:qo,circle:Bo,round:zo,square:Vo,expandableCircle:Uo,small:Ho,medium:Wo,large:Jo,huge:Ko,expanded:Zo},Qo=H.forwardRef(({className:t,icon:e,label:s,size:r="medium",src:n,shape:i="circle",style:a,onClick:l,bExpanded:d=!1},h)=>o.jsxs("div",{"data-test":s||"avatar",ref:h,className:_(pt.wAvatar,pt[i],pt[r],t,{[pt.expanded]:d}),style:a,onClick:l,children:[e&&!n&&o.jsx(D,{name:e}),s&&!e&&!n&&o.jsx("span",{children:s}),n&&!e&&o.jsx("img",{alt:s||"avatar",className:pt.wImg,src:n}),!n&&!s&&!e&&o.jsx(D,{name:"person"})]})),Xo="_wChip_oyp7x_1",Yo="_bDisabled_oyp7x_20",en="_small_oyp7x_24",tn="_medium_oyp7x_29",sn="_large_oyp7x_34",rn="_fill_oyp7x_39",on="_white_oyp7x_39",nn="_neutral_oyp7x_43",an="_blue_oyp7x_47",ln="_primary_oyp7x_51",cn="_success_oyp7x_55",dn="_danger_oyp7x_59",un="_warning_oyp7x_63",hn="_outline_oyp7x_68",Ye={wChip:Xo,bDisabled:Yo,small:en,medium:tn,large:sn,fill:rn,white:on,neutral:nn,blue:an,primary:ln,success:cn,danger:dn,warning:un,outline:hn},ee=({bUnmountOnClose:t=!0,children:e,className:s,content:r,delay:n=250,offsetX:i=0,offsetY:a=0,position:l="bottom",trigger:d="hover"})=>{const[h,m]=y.useState(!1),[g,f]=y.useState({}),[p,v]=y.useState(!1),C=y.useRef(null),R=y.useRef(null),x=y.useRef(null),w=y.useRef(null);!w.current&&typeof document<"u"&&(w.current=document.createElement("div"),w.current.className="tooltip-container",document.body.appendChild(w.current));const b=()=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{m(!0),setTimeout(()=>P(),0)},n)},S=()=>{x.current&&clearTimeout(x.current),m(!1)},E=()=>{switch(l){case"top":return"bottom-0 left-1/2 -translate-x-1/2 translate-y-full border-t-white border-x-transparent border-b-transparent";case"bottom":return"top-0 left-1/2 -translate-x-1/2 -translate-y-full border-b-white border-x-transparent border-t-transparent";case"left":return"right-0 top-1/2 translate-x-full -translate-y-1/2 border-l-white border-y-transparent border-r-transparent";case"right":return"left-0 top-1/2 -translate-x-full -translate-y-1/2 border-r-white border-y-transparent border-l-transparent";case"topLeft":return"bottom-0 left-4 translate-y-full border-t-white border-x-transparent border-b-transparent";case"topRight":return"bottom-0 right-4 translate-y-full border-t-white border-x-transparent border-b-transparent";case"bottomLeft":return"top-0 left-4 -translate-y-full border-b-white border-x-transparent border-t-transparent";case"bottomRight":return"top-0 right-4 -translate-y-full border-b-white border-x-transparent border-t-transparent";default:return"top-0 left-1/2 -translate-x-1/2 -translate-y-full border-b-white border-x-transparent border-t-transparent"}},Q=()=>{switch(l){case"top":return"bottom-0 left-1/2 -translate-x-1/2 translate-y-full border-t-gray-300 border-x-transparent border-b-transparent";case"bottom":return"top-0 left-1/2 -translate-x-1/2 -translate-y-full border-b-gray-300 border-x-transparent border-t-transparent";case"left":return"right-0 top-1/2 translate-x-full -translate-y-1/2 border-l-gray-300 border-y-transparent border-r-transparent";case"right":return"left-0 top-1/2 -translate-x-full -translate-y-1/2 border-r-gray-300 border-y-transparent border-l-transparent";case"topLeft":return"bottom-0 left-4 translate-y-full border-t-gray-300 border-x-transparent border-b-transparent";case"topRight":return"bottom-0 right-4 translate-y-full border-t-gray-300 border-x-transparent border-b-transparent";case"bottomLeft":return"top-0 left-4 -translate-y-full border-b-gray-300 border-x-transparent border-t-transparent";case"bottomRight":return"top-0 right-4 -translate-y-full border-b-gray-300 border-x-transparent border-t-transparent";default:return"top-0 left-1/2 -translate-x-1/2 -translate-y-full border-b-gray-300 border-x-transparent border-t-transparent"}},P=()=>{if(!C.current||!R.current)return;const V=C.current.getBoundingClientRect(),K=R.current.getBoundingClientRect(),Re=window.pageXOffset||document.documentElement.scrollLeft,Ae=window.pageYOffset||document.documentElement.scrollTop,As=document.documentElement.clientWidth,ks=document.documentElement.clientHeight;let ae=0,le=0;switch(l){case"top":ae=V.top-K.height-2-a+Ae,le=V.left+(V.width-K.width)/2+i+Re;break;case"topLeft":ae=V.top-K.height-2-a+Ae,le=V.left+i+Re;break;case"topRight":ae=V.top-K.height-2-a+Ae,le=V.right-K.width+i+Re;break;case"bottom":ae=V.bottom+2+a+Ae,le=V.left+(V.width-K.width)/2+i+Re;break;case"bottomLeft":ae=V.bottom+2+a+Ae,le=V.left+i+Re;break;case"bottomRight":ae=V.bottom+2+a+Ae,le=V.right-K.width+i+Re;break;case"left":ae=V.top+(V.height-K.height)/2+a+Ae,le=V.left-K.width-2-i+Re;break;case"right":ae=V.top+(V.height-K.height)/2+a+Ae,le=V.right+2+i+Re;break}le<10&&(le=10),ae<10&&(ae=10),le+K.width>As-10&&(le=As-K.width-10),ae+K.height>ks-10&&(ae=ks-K.height-10),f({position:"absolute",top:`${ae}px`,left:`${le}px`,zIndex:9999})};y.useEffect(()=>()=>{x.current&&clearTimeout(x.current),w.current&&t&&(document.body.removeChild(w.current),w.current=null)},[t]),y.useEffect(()=>{if(h)return window.addEventListener("scroll",P,!0),window.addEventListener("resize",P),()=>{window.removeEventListener("scroll",P,!0),window.removeEventListener("resize",P)}},[h]);const X=()=>{d==="hover"&&b()},J=()=>{d==="hover"&&!p&&S()},he=()=>{v(!0),x.current&&(clearTimeout(x.current),x.current=null)},oe=()=>{v(!1),d==="hover"&&S()},Ee=()=>{d==="click"&&(h?S():b())},At=o.jsx("div",{ref:C,className:"inline-block",onMouseEnter:X,onMouseLeave:J,onClick:Ee,children:e}),Xt=h&&w.current&&o.jsxs("div",{ref:R,className:`bg-white text-gray-800 shadow-lg rounded-md p-3 text-sm max-w-xs transition-opacity duration-200 opacity-100 border border-gray-300 select-text ${s||""}`,style:g,onMouseEnter:he,onMouseLeave:oe,children:[o.jsx("div",{className:"overflow-hidden break-words whitespace-normal w-full overflow-ellipsis",children:typeof r=="string"?o.jsx("span",{className:"inline-block max-w-full",children:r}):r}),o.jsx("div",{className:`absolute w-0 h-0 border-gray-300 border-[9px] z-[-1] ${Q()}`,"aria-hidden":"true"}),o.jsx("div",{className:`absolute w-0 h-0 border-gray-300 border-8 ${E()}`,"aria-hidden":"true"})]});return o.jsxs(o.Fragment,{children:[At,w.current&&Tr.createPortal(Xt,w.current)]})},lr=({children:t,bDisabled:e,className:s,color:r="blue",size:n="medium",label:i,tooltip:a,type:l="fill",onClick:d,toggleHover:h,onDelete:m})=>{const g=()=>{!e&&d&&d()},f=()=>{!e&&m&&m()},p=()=>o.jsxs("div",{"data-test":"chip-"+Ye[r],className:_(Ye.wChip,Ye[l],Ye[n],Ye[r],d&&"gClickable",e&&Ye.bDisabled,s),onMouseEnter:h,onMouseLeave:h,onClick:g,children:[i&&o.jsx("span",{children:i}),t||null,m&&o.jsx(D,{name:"x-circle",onClick:f})]});return a?o.jsx(ee,{content:a,children:o.jsx("span",{children:o.jsx(p,{})})}):o.jsx(p,{})},pn="_root_1v09k_1",gn="_small_1v09k_9",mn="_medium_1v09k_15",fn="_large_1v09k_21",wn="_white_1v09k_27",_n="_neutral_1v09k_31",vn="_blue_1v09k_34",yn="_primary_1v09k_37",bn="_success_1v09k_40",Sn="_warning_1v09k_43",xn="_danger_1v09k_46",ss={root:pn,small:gn,medium:mn,large:fn,white:wn,neutral:_n,blue:vn,primary:yn,success:bn,warning:Sn,danger:xn},Cn=({children:t,onClick:e,toggleHover:s,color:r="primary",className:n,size:i="medium",dataTest:a})=>o.jsx("div",{onClick:e,onMouseEnter:s,onMouseLeave:s,className:_(ss.root,ss[r],ss[i],n),"data-test":a,children:t}),Tn="_root_124pe_1",In="_badge_124pe_6",Rn="_top_124pe_10",An="_small_124pe_10",kn="_medium_124pe_13",Ln="_large_124pe_16",Pn="_bottom_124pe_19",Nn="_left_124pe_28",Dn="_right_124pe_40",et={root:Tn,badge:In,top:Rn,small:An,medium:kn,large:Ln,bottom:Pn,left:Nn,right:Dn},cr=({content:t,side:e="right",vertical:s="top",color:r="primary",size:n="medium",children:i,className:a,onClick:l,onHover:d,bOnBadge:h=!1,classes:m={},dataTest:g})=>{const p=!(typeof t=="string"&&t.length>=2)?Cn:lr;return o.jsxs("div",{className:_(et.root,et[e],et[s],et[r],a),onClick:h?void 0:l,children:[i,t?o.jsx(p,{className:_(et.badge,et[n],m.badge),color:r,size:n,onClick:h?l:void 0,toggleHover:d,dataTest:g,children:t}):null]})},jn="_root_1gonr_1",On="_dot_1gonr_10",En="_failed_1gonr_19",Fn="_danger_1gonr_19",$n="_error_1gonr_19",Mn="_force_killed_1gonr_19",Gn="_opened_1gonr_22",qn="_success_1gonr_25",Bn="_running_1gonr_25",zn="_warning_1gonr_28",Vn="_stopped_1gonr_28",Un="_assigned_1gonr_28",Hn="_resolved_1gonr_31",Wn="_exiting_1gonr_31",Jn="_finished_1gonr_31",Kn="_closed_1gonr_34",$t={root:jn,dot:On,failed:En,danger:Fn,error:$n,force_killed:Mn,opened:Gn,success:qn,running:Bn,warning:zn,stopped:Vn,assigned:Un,resolved:Hn,exiting:Wn,finished:Jn,closed:Kn};class Zn{constructor(){c(this,"permissionsL",this.newPermissions());c(this,"checkingPermissions",!0);c(this,"reload",async()=>{try{const e=await this.getAccessToken(),r=await Je(j(e)).getPermissions();r&&O(()=>{this.permissionsL={...this.permissionsL,...r},this.checkingPermissions=!1})}catch(e){N("failed to reload permissions",e)}});c(this,"get",xt(function(e){return this.permissionsL[e]}));Ze(this)}get permissions(){return this.permissionsL}isLoggedIn(){const e=this.permissions;return e!=null&&e.user!=null}newPermissions(){return{configEdit:!1,configSwingEdit:!1}}async getAccessToken(){return await ie.getAccessToken()}}class Qn{constructor(e){c(this,"serverUrl","");c(this,"loader",!1);c(this,"leftSideMenuOpen",!0);c(this,"rightSideMenuOpen",!1);c(this,"modalOpen",!1);c(this,"toggleSearch",!0);c(this,"toggleAddApp",!1);c(this,"appL","");c(this,"paths",[]);c(this,"info");c(this,"interval");c(this,"autoInterval");c(this,"filterTableToggle",!1);c(this,"showErrorView",!1);c(this,"errorView");c(this,"availableLangs",[]);c(this,"customization");c(this,"isDuplicate",!1);c(this,"isQuickStartView",!1);c(this,"searchTerm","");c(this,"orderBy","");c(this,"orderDir","");c(this,"pageSize",50);c(this,"loading",!1);c(this,"abortController",null);c(this,"pathsMeta",{});c(this,"reloadProgress",0);c(this,"autoRefreshProgress",0);c(this,"isAutoRefreshActive",!1);c(this,"downloadProgress",0);c(this,"isDownloading",!1);c(this,"downloadSize",0);c(this,"rootStore");c(this,"toggleModal",()=>{this.modalOpen=!this.modalOpen});c(this,"setIsDuplicate",e=>{this.isDuplicate=e});c(this,"setToggleSearch",e=>{this.toggleSearch||(this.leftSideMenuOpen=!0),this.toggleSearch=typeof e=="boolean"?e:!this.toggleSearch});c(this,"setToggleAddApp",e=>{this.toggleAddApp||(this.leftSideMenuOpen=!0),this.toggleAddApp=typeof e=="boolean"?e:!this.toggleAddApp});c(this,"toggleRightSideMenu",()=>{this.rightSideMenuOpen=!this.rightSideMenuOpen});c(this,"toggleLeftSideMenu",e=>{this.toggleAddApp&&(this.toggleAddApp=!1),this.leftSideMenuOpen=typeof e=="boolean"?e:!this.leftSideMenuOpen,this.toggleSearch=this.leftSideMenuOpen});c(this,"updateApp",e=>{this.appL=e||""});c(this,"createApp",async(e,s,r)=>{if(e)return this.isDuplicate&&r?fe.duplicate(e,s,r).then(async()=>{this.setIsDuplicate(!1),this.clearInterval(),this.loadPaths()}):fe.create(e,s).then(async()=>{this.clearInterval(),this.loadPaths()})});c(this,"loadAvailableLangs",async()=>{try{await fetch(te(z,"locales/select.json")).then(e=>e.json()).then(e=>{if(e&&(O(()=>{this.availableLangs=e}),!localStorage.getItem("langsWereLoaded")||e.length<=1))if(localStorage.setItem("langsWereLoaded","true"),e.filter(s=>s.code===navigator.language).length===0){if(T.changeLanguage(e[0].code),!T.getDataByLanguage(T.language)){const s=T.options.fallbackLng;T.changeLanguage(s[0])}}else T.changeLanguage(navigator.language);return e})}catch(e){console.log("apiError",e)}});c(this,"loadCustomizationConfig",async()=>{try{await fetch(te(z,"custom/settings.json")).then(e=>e.json()).then(e=>(e&&O(()=>{this.customization=e,this.customization.themeVariables=Jr(e.themeVariables)}),e))}catch(e){console.log("apiError",e)}});c(this,"loadServerUrl",async()=>{try{const e=await fe.getServerUrl();e&&O(()=>{this.serverUrl=e})}catch(e){console.log("apiError",e)}});c(this,"fakeLoad",async e=>{O(()=>{this.loading=!0}),await new Promise(s=>setTimeout(s,1e3)),!e&&O(()=>{this.loading=!1})});c(this,"loadPaths",async(e=!1)=>{const s=this.startLoading();if((this.paths==null||this.paths.length==0)&&(e=!0),s.aborted)return;e&&(this.paths=[]);const r=async(n,i)=>{try{const a=await fe.getPaths({...n});if(s.aborted)return i;if(a){if(n.page===1){const d=a.meta,h=d&&Number(d.currentPage)<Number(d.totalPages);this.fakeLoad(h)}i||(i={paths:[],meta:{}}),i.paths=[...i.paths,...a.paths||[]],i.meta=a.meta,e&&(this.paths=i.paths);const l=i.meta;return this.setReloadProgress(Math.round(n.page/Number(l==null?void 0:l.totalPages)*100)),l&&l.currentPage&&l.totalPages&&l.currentPage<l.totalPages?await r({...n,page:l.currentPage+1},i):(this.setReloadProgress(0),i)}}catch(a){return console.error("Error loading paths:",a),i}};try{this.loading=!0;const n={page:1,pageSize:this.pageSize};this.searchTerm&&(n.searchTerm=this.searchTerm),this.orderBy&&this.orderDir&&(n.orderBy=this.orderBy,n.orderDir=this.orderDir);const i=await r(n);O(()=>{i&&(this.paths=i.paths,this.pathsMeta=i.meta),this.loading=!1})}catch(n){console.error("Error in loadPaths:",n),this.loading=!1}});c(this,"loadInfo",async e=>{try{const s=await fe.getInfo(e||"");s&&O(()=>{this.info=s})}catch(s){console.log("apiError",s)}});c(this,"countStatuses",xt(function(s,r){const n=Wr(s);return n[r]?n[r]:null}));Ze(this),this.rootStore=e,Zt(this,"global",["leftSideMenuOpen"])}setIsAutoRefreshActive(e){this.isAutoRefreshActive=e}resetDownloadProgress(){this.downloadProgress=0,this.isDownloading=!1,this.downloadSize=0}setDownloadProgress(e,s,r){this.downloadProgress=e,this.downloadSize=s,this.isDownloading=r}setAutoInterval(e,s){this.autoInterval=setInterval(()=>{e()},s)}clearAutoInterval(){this.autoInterval&&clearInterval(this.autoInterval)}stopAutoReload(){this.clearAutoInterval(),O(()=>{this.autoRefreshProgress=0,this.isAutoRefreshActive=!1})}toggleAutoReload(e,s){if(typeof s=="boolean"){O(()=>{this.isAutoRefreshActive=s}),s?this.autoReload(e):this.stopAutoReload();return}this.isAutoRefreshActive?this.stopAutoReload():(O(()=>{this.isAutoRefreshActive=!0}),this.autoReload(e))}autoReload(e,s=!0){let r;const{sessionsStore:n}=this.rootStore;this.isAutoRefreshActive&&(this.clearAutoInterval(),location.pathname.includes("session")&&(e&&s?r=n.loadSession(e).then(()=>{var i;if(((i=n.session)==null?void 0:i.status)==="FINISHED"){this.stopAutoReload();return}}):e&&(r=n.loadSession(e))),location.pathname.includes("/apps")&&(r=this.loadPaths()),r&&r.then(()=>{this.clearAutoInterval(),O(()=>{this.autoRefreshProgress=0})}).then(()=>{let i=Date.now();this.setAutoInterval(()=>{O(()=>{let a=Date.now()-i;this.autoRefreshProgress=Math.min(100,a/5e3*100)}),this.autoRefreshProgress>=100&&this.autoReload(e,!1)},250)}).catch(()=>{this.clearAutoInterval()}))}setReloadProgress(e){this.reloadProgress=e}setSearchTerm(e){this.searchTerm!==e&&(this.searchTerm=e)}setOrder(e,s){this.orderBy!==e&&(this.orderBy=e),this.orderDir!==s&&(this.orderDir=s)}toggleErrorView(e,s){this.showErrorView=typeof e=="boolean"?e:!this.showErrorView,this.showErrorView?this.errorView=s:this.errorView=void 0}toggleQuickstartView(e){this.isQuickStartView=e}get app(){return this.appL?this.appL:""}removePath(e){var s;this.clearInterval(),this.paths=(s=this.paths)==null?void 0:s.filter(r=>r.path!=="/"+e)}get isInProgress(){return this.reloadProgress>0&&this.reloadProgress<100}stopLoading(){this.abortController&&(this.abortController.abort(),this.abortController=null),this.loading=!1,this.setReloadProgress(0)}startLoading(){return this.stopLoading(),this.abortController=new AbortController,this.abortController.signal}setInterval(e,s){this.interval=setInterval(()=>{e()},s)}clearInterval(){this.interval&&clearInterval(this.interval)}setEnabled(e){this.info.enabled=e}get isCluster(){var e;return!!((e=this.info)!=null&&e.cluster)}}class Xn{constructor(){c(this,"servers",[]);c(this,"sessionPools",[]);c(this,"spView","grid");c(this,"orderBy","sp");c(this,"showStopped",!0);c(this,"searchTerm","");c(this,"isLoading",!1);c(this,"minLoadingTime",750);c(this,"loadOverview",async()=>{try{this.isLoading=!0;const e=Date.now(),s=await ke.getOverview();s&&O(()=>{this.servers=s.servers,this.sessionPools=s.sessionPools});const r=Date.now()-e,n=Math.max(0,this.minLoadingTime-r);setTimeout(()=>{this.isLoading=!1},n)}catch(e){console.log("apiError",e),this.isLoading=!1}});c(this,"hasRunningInstances",xt(function(s){let r=0;if(s)for(const[n,i]of Object.entries(s))r=r+i;return r>0}));c(this,"appOnSP",xt(function(s){var n;let r=0;return(n=this.sessionPools)==null||n.forEach(i=>{Object.entries(i.apps).forEach(a=>{a[0]===s&&r++})}),r}));Ze(this),Zt(this,"overview",["spView","orderBy","showStopped"])}setSearchTerm(e){this.searchTerm!==e&&(this.searchTerm=e)}toggleShowStopped(){this.showStopped=!this.showStopped}setSpView(e){this.spView!==e&&(this.spView=e)}setOrderBy(e){this.orderBy!==e&&(this.orderBy=e)}toggleVerbose(e,s){typeof e.verboseLogging=="boolean"&&ke.setVerboseMode(e.id,!e.verboseLogging,s).then(()=>{setTimeout(()=>this.loadOverview(),2200)})}toggleDrain(e){return e.drainMode?ke.requestSessionPoolResume(e.id).then(()=>{setTimeout(()=>this.loadOverview(),2200)}):ke.requestSessionPoolDrainMode(e.id).then(()=>{setTimeout(()=>this.loadOverview(),2200)})}shutdown(e){Y.getSessions("").then(s=>{var n;let r=(n=s==null?void 0:s.sessions)==null?void 0:n.filter(i=>i.sessionPoolId===e.id);r==null||r.forEach(i=>{Y.killSession(i.applicationPath,i.id)}),U(T.t("ok.reqShutdownSessinos",{spLenght:r==null?void 0:r.length}))}).catch(s=>{console.error(s)})}stop(e){return ke.requestSessionPoolStop(e).then(()=>{setTimeout(()=>this.loadOverview(),2200)}).catch(s=>{console.error(s)})}drainAllSessionPools(){var e,s;(e=this.allSessionPoolIds)==null||e.forEach(r=>{ke.requestSessionPoolDrainMode(r,!1)}),U(T.t("ok.reqDrainSessinos",{spIdsLenght:(s=this.allSessionPoolIds)==null?void 0:s.length}))}resumeAllSessionPools(){var e,s;(e=this.allSessionPoolIds)==null||e.forEach(r=>{ke.requestSessionPoolResume(r,!1)}),U(T.t("ok.reqResumeSessinos",{allspIds:(s=this.allSessionPoolIds)==null?void 0:s.length}))}stopAllSessionPools(){var e,s;(e=this.allSessionPoolIds)==null||e.forEach(r=>{ke.requestSessionPoolStop(r,!1)}),U(T.t("ok.reqStopSessinos",{spSessions:(s=this.allSessionPoolIds)==null?void 0:s.length}))}shutdownAllSessions(){Y.getSessions("").then(e=>{let s=e==null?void 0:e.sessions;s==null||s.forEach(r=>{Y.killSession(r.applicationPath,r.id)}),U(T.t("ok.reqShutdownSessinos",{spLenght:s==null?void 0:s.length}))})}forceKillAllSessions(){Y.getSessions("").then(e=>{let s=e==null?void 0:e.sessions;s==null||s.forEach(r=>{Y.forceKillSession(r.applicationPath,r.id)}),U(T.t("ok.reqForceKillSessinos",{spSessions:s==null?void 0:s.length}))})}get allSessionPoolIds(){var e;return(e=this.sessionPools)==null?void 0:e.map(s=>s.id)}get isThereAnyServerVerbose(){var e;return((e=this.servers)==null?void 0:e.filter(s=>s.verboseLogging===!0).length)>0}get isThereAnySPVerbose(){var e;return((e=this.sessionPools)==null?void 0:e.filter(s=>s.verboseLogging===!0).length)>0}get anyStoppedSP(){var e;return((e=this.sessionPools)==null?void 0:e.filter(s=>s.stopped===!0).length)>0}get isCluster(){return this.servers&&this.servers[0]?this.servers[0].cluster:!1}get filteredSPs(){var e;return(e=this.sessionPools)==null?void 0:e.filter(s=>{var r;return s.stopped&&!this.showStopped?!1:this.searchTerm?(r=s.id)==null?void 0:r.toLowerCase().includes(this.searchTerm.toLocaleLowerCase()):!0})}get filteredServers(){var e;return this.searchTerm?(e=this.servers)==null?void 0:e.filter(s=>{var r;return(r=s.id)==null?void 0:r.toLowerCase().includes(this.searchTerm.toLocaleLowerCase())}):this.servers}get hasRunningSessions(){var s;let e=0;return(s=this.sessionPools)==null||s.forEach(r=>{for(const[n,i]of Object.entries(r.apps))e=e+i}),e>0}}class Yn{constructor(e){c(this,"rootStore");c(this,"config");c(this,"origConfig");c(this,"tabs",[]);c(this,"origTabs",[]);c(this,"activeTab","webConfig");c(this,"lastTab","");c(this,"wcChanged",!1);c(this,"acChanged",!1);c(this,"allConfigWasEdited",!1);c(this,"filterToggle",!1);c(this,"appView","grid");c(this,"isActionInProgress",!1);c(this,"clearConfigData",()=>{this.origConfig={},this.config={},this.acChanged=!1,this.wcChanged=!1,this.allConfigWasEdited=!1,this.tabs=[],this.origTabs=[]});c(this,"loadConfig",async e=>{try{const s=await fe.getConfig(e||"");s&&O(()=>{if(this.clearConfigData(),this.origConfig=s,this.config=s,this.acChanged=!1,this.wcChanged=!1,this.allConfigWasEdited=!1,e&&!this.tabs.length)for(const r in this.config.appConfig)this.tabs.push({key:r,wasEdited:!1,tabVisible:!1,activeSP:this.isSPActive(this.config.appConfig[r].data)});this.origTabs=ve(this.tabs).clone()})}catch(s){console.log("apiError",s)}});c(this,"isSPActive",e=>e==null?!1:e.enabled==null||e.enabled!==!1);c(this,"updateConfigStore",(e,s)=>{s?this.config[s]=e[s]:this.config=e});c(this,"resetConfig",e=>{this.config=ve(this.origConfig).clone(),this.tabs=JSON.parse(JSON.stringify(this.origTabs)),this.loadConfig(e)});c(this,"setConfig",e=>{this.isActionInProgress||!this.activeApply||(this.isActionInProgress=!0,this.tabs.map(s=>{var n;const r=(n=this.config)==null?void 0:n.appConfig[s.key];r!=null&&r.data!=null&&(r.data.enabled=s.activeSP),s.wasEdited&&(s.wasEdited=!1)}),this.allConfigWasEdited=!1,this.updateFormStructure(Et(this.config),e).then(()=>{fe.setConfig(this.config,e||z).then(()=>{setTimeout(async()=>{await this.loadConfig(e),this.isActionInProgress=!1},1e3),U(T.t("ok.changesAppliedSuccess"))}).catch(()=>{this.isActionInProgress=!1})}).catch(()=>{this.isActionInProgress=!1}))});c(this,"updateFormStructure",async(e,s,r)=>{const n=await fe.getMeta(s||z,e);n&&O(()=>{this.config={...this.config,...n},r&&this.compareConfig(r)})});c(this,"onRequestUpdate",async(e,s)=>this.updateFormStructure(Et(this.config),e,s));c(this,"createWebFolder",async e=>await fe.createWebFolder(e));c(this,"configureOracleForms",async(e,s,r)=>await fe.configureOracleForms(e,s,r));Ze(this),this.rootStore=e,Zt(this,"apps",["appView"])}setFilterToggle(e){this.rootStore.globalStore.searchTerm="",this.filterToggle=e||!this.filterToggle}setAppConfig(e){this.config.appConfig={...this.config.appConfig,...e}}setAppView(e){this.appView!==e&&(this.appView=e)}get activeApply(){return this.acChanged||this.wcChanged}compareConfig(e){this.origConfig&&this.config&&(ve(Et(Ct(this.origConfig))).isEqual(Et(Ct(this.config)))?this.activeTab!=="webConfig"?this.acChanged=!1:this.wcChanged=!1:this.activeTab!=="webConfig"?this.acChanged=!0:this.wcChanged=!0),e!=="webConfig"&&(this.tabs=this.tabs.map(s=>(this.acChanged?(this.allConfigWasEdited=e==="allID"?!0:this.allConfigWasEdited,s=s.key===e?{...s,wasEdited:!0}:s):(this.allConfigWasEdited=e==="allID"?!1:this.allConfigWasEdited,s=s.key===e?{...s,wasEdited:!1}:s),s)))}activeSpSwitch(e){this.tabs.map(r=>{r.key===e.key&&(r.activeSP=!r.activeSP)}),this.hasOnlyOneActive?(this.tabs.map(r=>r.tabVisible=!1),this.openTab(this.tabs.filter(r=>r.activeSP===!0)[0].key)):this.openTab("allID"),this.origTabs.filter(r=>r.key===e.key)[0].activeSP===e.activeSP&&!this.activeApply?this.acChanged=!0:this.acChanged=!0}openTab(e){if(e!=="webConfig"&&(this.lastTab=e),e!=="allID"&&e!=="webConfig"){const s=this.tabs.findIndex(r=>r.key===e);s!==-1&&(this.tabs[s].tabVisible=!0)}this.activeTab=e}isTab(e){return this.activeTab==="allID"||this.activeTab==="webConfig"?!1:e?this.activeTab===e:!0}get hasOnlyOneActive(){return this.tabs.filter(e=>e.activeSP===!0).length===1}get activeTabExists(){return this.tabs.filter(e=>e.key==this.activeTab).length>0}get activeTabs(){return this.tabs.filter(e=>e.activeSP==!0)}get inactiveTabs(){return this.tabs.filter(e=>e.activeSP==!1)}get hasAllActive(){return this.activeTabs.length===this.tabs.length}get hasAllInactive(){return this.inactiveTabs.length===this.tabs.length}get hideALL(){return this.hasOnlyOneActive||this.hasAllInactive}get allOrOne(){return this.lastTab&&this.tabs.filter(e=>e.key===this.lastTab).length?this.lastTab:this.isTab()||this.hasOnlyOneActive?this.hasOnlyOneActive?this.tabs[0].key:this.activeTab:"allID"}}class ei{constructor(e){c(this,"rootStore");c(this,"sessions",{});c(this,"sessionsSelectorList",[]);c(this,"session");c(this,"sessionsTab","sessions");c(this,"collumns",[]);c(this,"loading",!1);c(this,"interval");c(this,"lastUpdated");c(this,"extendTableToggle",!1);c(this,"appPath");c(this,"visibleColumns",["applicationPath","application","user","userIp","startedAt","connected","warnings"]);c(this,"isAllSessions",!1);c(this,"currentVisibleIndex",0);c(this,"sessionStates",new Map);c(this,"pageSize",50);c(this,"overlapSize",25);c(this,"shouldScrollToIndex",!1);c(this,"sessionID","");c(this,"activeTab","view");c(this,"statisticsLoggingEnabled");c(this,"searchTerm","");c(this,"filterToggle",!1);c(this,"wasIdleTabAlreadyVisible",!1);c(this,"recordings",{recordings:[],meta:void 0});c(this,"threadDumps",{threadDumps:[],meta:void 0});c(this,"orderMap",{});c(this,"isActionLoading",xt(function(s,r){const n=this.getSessionState(s,r);return n.isLoading&&n.actionType===r}));c(this,"loadRecordingsOnDemand",async(e,s=!1,r,n,i=0)=>{if(this.sessionsTab==="recordings"||this.activeTab==="recordings"){s&&(this.recordings={recordings:[]});try{const a={page:n||1,pageSize:this.pageSize,overlap:this.overlapSize};this.searchTerm&&(a.searchTerm=this.searchTerm);const l=this.orderMap.recordings;l!=null&&l.orderBy&&(l!=null&&l.orderDir)&&(a.orderBy=l.orderBy,a.orderDir=l.orderDir);const d=await Y.getRecordings(e||"",{...a,instanceId:r});d&&O(()=>{var m,g;const h=d.recordings||[];if(((m=d.meta)==null?void 0:m.startIndex)!==void 0&&((g=d.meta)==null?void 0:g.endIndex)!==void 0){const f=[];for(let p=0;p<h.length;p++){const v=d.meta.startIndex+p;f[v]=h[p]}this.recordings.recordings=f}else this.recordings.recordings=h;this.recordings.meta=d.meta,this.lastUpdated=new Date().toLocaleTimeString()})}finally{O(()=>{this.loading=!1})}}});c(this,"loadThreadDumpsOnDemand",async(e,s=!1,r,n,i=0)=>{if(this.sessionsTab==="threadDumps"||this.activeTab==="threadDumps"){s&&(this.threadDumps={threadDumps:[]});try{const a={page:n||1,pageSize:this.pageSize,overlap:this.overlapSize};this.searchTerm&&(a.searchTerm=this.searchTerm);const l=this.orderMap.threadDumps;l!=null&&l.orderBy&&(l!=null&&l.orderDir)&&(a.orderBy=l.orderBy,a.orderDir=l.orderDir);const d=await Y.getThreadDumps(e||"",{...a,instanceId:r});d&&O(()=>{var m,g;const h=d.threadDumps||[];if(((m=d.meta)==null?void 0:m.startIndex)!==void 0&&((g=d.meta)==null?void 0:g.endIndex)!==void 0){const f=[];for(let p=0;p<h.length;p++){const v=d.meta.startIndex+p;f[v]=h[p]}this.threadDumps.threadDumps=f}else this.threadDumps.threadDumps=h;this.threadDumps.meta=d.meta,this.lastUpdated=new Date().toLocaleTimeString()})}finally{O(()=>{this.loading=!1})}}});Ze(this),this.rootStore=e,Zt(this,"sessions",["visibleColumns","pageSize","overlapSize"])}setPageSize(e){e>0&&(this.pageSize=e)}setOverlapSize(e){typeof e=="number"&&(this.overlapSize=e)}setIsAllSessions(e){this.isAllSessions=e}setSessions(e){this.sessions=e}setTDs(e){this.threadDumps=e}setRecordings(e){this.recordings=e}setSessionsTab(e){this.sessionsTab!==e&&(this.sessionsTab=e)}setSessionId(e){this.sessionID!==e&&(this.sessionID=e)}setSearchTerm(e){this.searchTerm!==e&&(this.searchTerm=e)}setOrder(e,s,r){this.orderMap[e]?(this.orderMap[e].orderBy=s,this.orderMap[e].orderDir=r):this.orderMap[e]={orderBy:s,orderDir:r}}setVisibleColumns(e){e&&(this.visibleColumns=e)}setActiveTab(e){this.activeTab!==e&&(this.activeTab=e)}setAppPath(e){this.appPath=e}setExtendTableToggle(e){this.extendTableToggle=typeof e=="boolean"?e:!this.extendTableToggle}setFilterToggle(e){this.filterToggle=e||!this.filterToggle}shouldShowIdle(){return this.wasIdleTabAlreadyVisible?!0:(this.sessions!=null&&this.sessions.stats!=null&&this.sessions.stats.idle!=null&&this.sessions.stats.idle>0&&(this.wasIdleTabAlreadyVisible=!0),this.wasIdleTabAlreadyVisible)}async showPlayback(e,s,r=!1){const{globalStore:n}=this.rootStore;try{await n.loadInfo(e);const i=new URLSearchParams({spId:s.sessionPoolId,fileName:s.fileName,download:r.toString()}),a=`${te(n.serverUrl,e||"")}/rest/recording/download?${i.toString()}`,l={"X-Download-Token":`${s.token}`},d={onProgress:(m,g,f)=>{},onComplete:()=>{},onError:m=>{Z(`Failed to ${r?"download":"load"} recording`)}},h={view:!r};await Ke(a,l,s.fileName||"recording.html",d,h)}catch(i){console.error("Error showing playback:",i),Z(`Failed to ${r?"download":"show"} recording playback`)}}toggleStatisticsLoggingEnabled(e){const s=this.session;this.statisticsLoggingEnabled=e||!this.statisticsLoggingEnabled,s&&Y.toggleStatisticsLogging(s.applicationPath,s.id,this.statisticsLoggingEnabled)}setSessionState(e,s){const r=this.sessionStates.get(e)||{isLoading:!1,sessionId:e,actionType:s.actionType||"recording"};this.sessionStates.set(e,{...r,...s})}getSessionState(e,s){return this.sessionStates.get(e)||{isLoading:!1,sessionId:e,actionType:s}}clearSessionState(e){this.sessionStates.delete(e)}startActionPolling(e,s,r,n,i,a){var p,v;let l=0;const d=5,h=2500;if(!e){console.error("Invalid sessionId provided for polling");return}const m=r?this.session:(v=(p=this.sessions)==null?void 0:p.sessions)==null?void 0:v.find(C=>C&&C.id===e),g=m==null?void 0:m.applicationPath;if(!m||!m.id||!g){console.error("Could not find valid session or application path for polling",{sessionId:e,appPath:g}),this.setSessionState(e,{isLoading:!1,actionType:s});return}const f=async()=>{var C,R;if(l>=d){this.setSessionState(e,{isLoading:!1,actionType:s});return}try{await this.loadSession(e,g);const x=r?this.session:(R=(C=this.sessions)==null?void 0:C.sessions)==null?void 0:R.find(S=>S&&S.id===e);if(!x||!x.id){console.error("Session no longer exists during polling",e),this.setSessionState(e,{isLoading:!1,actionType:s});return}let w,b=!1;i&&x.hasOwnProperty(i)&&(w=x[i],typeof w=="number"||typeof w=="string"?b=n!==w:Array.isArray(w)?b=n!==w.length:w&&typeof w=="object"&&(b=n!==Object.keys(w).length)),b?(r&&g&&(this.activeTab==="threadDumps"?await this.loadThreadDumpsOnDemand(g,!1,e):this.activeTab==="recordings"&&await this.loadRecordingsOnDemand(g,!1,e)),this.setSessionState(e,{isLoading:!1,actionType:s}),a==null||a(w)):(l++,setTimeout(f,h))}catch(x){console.error(`Error polling ${s} state:`,x),this.setSessionState(e,{isLoading:!1,actionType:s})}};f()}startRecording(e,s){const r=e.id;return this.setSessionState(r,{isLoading:!0,actionType:"recording"}),Y.startRecording(e.applicationPath,r).then(()=>{this.startActionPolling(r,"recording",s,e.recordingStatus,"recordingStatus")}).catch(n=>{console.error(n),this.setSessionState(r,{isLoading:!1})})}stopRecording(e,s){const r=e.id;return this.setSessionState(r,{isLoading:!0,actionType:"recording"}),Y.stopRecording(e.applicationPath,r).then(()=>{this.startActionPolling(r,"recording",s,e.recordingStatus,"recordingStatus")}).catch(n=>{console.error(n),this.setSessionState(r,{isLoading:!1})})}requestThreadDump(e,s){const r=e.id;return this.setSessionState(r,{isLoading:!0,actionType:"threadDump"}),Y.requestThreadDump(e.applicationPath,r).then(()=>{this.startActionPolling(r,"threadDump",s,e.threadDumps?Object.keys(e.threadDumps).length:0,"threadDumps")}).catch(n=>{console.error(n),this.setSessionState(r,{isLoading:!1})})}requestHeapDump(e,s){const r=e.id;return this.setSessionState(r,{isLoading:!0,actionType:"heapDump"}),Y.requestHeapDump(e.applicationPath,r).then(()=>{this.startActionPolling(r,"heapDump",s,e.heapDumps?Object.keys(e.heapDumps).length:0,"heapDumps")}).catch(n=>{console.error(n),this.setSessionState(r,{isLoading:!1})})}kill(e,s){const r=e.id;return this.setSessionState(r,{isLoading:!0,actionType:"kill"}),Y.killSession(e.applicationPath,r).then(()=>{this.startActionPolling(r,"kill",!1,e.status,"status",n=>{var i,a,l;n==="FINISHED"&&(this.rootStore.globalStore.isAutoRefreshActive||(this.rootStore.globalStore.stopAutoReload(),this.sessions.sessions=(i=this.sessions.sessions)==null?void 0:i.filter(d=>d.id!==r),this.sessions.stats&&(this.sessions.stats.sessions=((a=this.sessions.sessions)==null?void 0:a.length)||0,this.sessions.meta={...this.sessions.meta,totalItems:(((l=this.sessions.meta)==null?void 0:l.totalItems)||0)-1})))})}).catch(n=>{console.error(n),this.setSessionState(r,{isLoading:!1})})}forceKill(e){const s=e.id;return this.setSessionState(s,{isLoading:!0,actionType:"forceKill"}),Y.forceKillSession(e.applicationPath,s).then(()=>{this.startActionPolling(s,"forceKill",!1,e.status,"status",r=>{var n,i,a;r==="FINISHED"&&(this.rootStore.globalStore.isAutoRefreshActive||(this.rootStore.globalStore.stopAutoReload(),this.sessions.sessions=(n=this.sessions.sessions)==null?void 0:n.filter(l=>l.id!==s),this.sessions.stats&&(this.sessions.stats.sessions=((i=this.sessions.sessions)==null?void 0:i.length)||0,this.sessions.meta={...this.sessions.meta,totalItems:(((a=this.sessions.meta)==null?void 0:a.totalItems)||0)-1})))})}).catch(r=>{console.error(r),this.setSessionState(s,{isLoading:!1})})}reloadCurrentSessions(){return this.loadSessionsOnDemand("forward",this.currentSessionPage,this.overlapSize)}switchSession(e){return this.loadSessionsOnDemand("forward",e,0,1)}loadSessionsOnDemand(e="forward",s=1,r=this.overlapSize,n=this.pageSize){var a,l,d;if(!["idle","sessions","closedSessions"].includes(this.sessionsTab))return Promise.resolve();let i=1;if(s?i=Math.max(1,s):this.sessions&&((a=this.sessions[this.sessionsTab])!=null&&a.length)&&((l=this.sessions.meta)!=null&&l.currentPage)&&(i=e==="forward"?Math.max(1,Number(this.sessions.meta.currentPage)+1):Math.max(1,Number(this.sessions.meta.currentPage)-1)),n!==1){const h=(d=this.sessions.meta)!=null&&d.totalPages?Number(this.sessions.meta.totalPages):1/0;if(i>h)return Promise.resolve()}return new Promise(async(h,m)=>{try{const g={page:i,pageSize:n,overlap:Math.max(0,r)};this.searchTerm&&(g.searchTerm=this.searchTerm);const f=this.orderMap[this.sessionsTab||""];f!=null&&f.orderBy!=null&&f.orderDir!=null&&(g.orderBy=f.orderBy,g.orderDir=f.orderDir),O(()=>{this.loading=!0});const p=await Y.getSessions(this.isAllSessions===!0?"":this.appPath||"",{...g,type:this.sessionsTab});p&&O(()=>{var C,R,x;const v=p[this.sessionsTab]||[];if(((C=p.meta)==null?void 0:C.startIndex)!==void 0&&((R=p.meta)==null?void 0:R.endIndex)!==void 0){const w=[];for(let b=0;b<v.length;b++){const S=p.meta.startIndex+b;w[S]=v[b]}this.sessions[this.sessionsTab]=w}else this.sessions[this.sessionsTab]=v;if(this.sessions.meta=p.meta,this.sessions.stats=p.stats,this.lastUpdated=new Date().toLocaleTimeString(),s&&p.meta&&(p.meta.currentPage=s),n===1&&v.length===1&&v[0]){const w=v[0];(x=p.meta)!=null&&x.totalItems&&g.page-1<p.meta.totalItems&&this.setCurrentVisibleIndex(g.page-1),this.session=w,this.setSessionId(w.id),this.statisticsLoggingEnabled=w.statisticsLoggingEnabled,w.sessionPoolId&&this.rootStore.logsStore.setSessionSpLogId(w.sessionPoolId)}}),h()}catch(g){console.error("Error loading sessions:",g),m(g)}finally{O(()=>{this.loading=!1})}})}async loadSession(e,s){var n,i,a;if(!e)return;if((n=this.sessions)!=null&&n.hasOwnProperty(this.sessionsTab)){const l=this.currentSessionPage>0?this.currentSessionPage:1;(!((i=this.sessions)!=null&&i.hasOwnProperty(this.sessionsTab))||!((a=this.sessions[this.sessionsTab])!=null&&a.length)||this.sessions.meta&&this.sessions.meta.currentPage!==l)&&await this.loadSessionsOnDemand("forward",l)}const r=await Y.getSession(s||this.appPath||"",e);r?(this.setSessionId(e),ve(r).isEmpty()||(O(()=>{var d;this.session=r,this.lastUpdated=new Date().toLocaleTimeString(),this.statisticsLoggingEnabled=r.statisticsLoggingEnabled,this.sessions.sessions=(d=this.sessions.sessions)==null?void 0:d.map(h=>h.id===e?{...h,...r}:h);const l=this.sessionsList;if(l&&Array.isArray(l)){const h=l.findIndex(m=>m&&m.id===e);h>=0&&this.setCurrentVisibleIndex(h)}}),r.sessionPoolId&&this.rootStore.logsStore.setSessionSpLogId(r.sessionPoolId))):(this.setSessionId(e),this.session=void 0)}getWarningsNum(e){e||(e=this.session);let s=0;if(e){const{permissionsStore:r}=this.rootStore;s+=e!=null&&e.warnings?e.warnings.length:0,s+=e.warningHistory?e.warningHistory.length:0,r.get("getThreadDump")&&(s+=e.threadDumps?Object.keys(e==null?void 0:e.threadDumps).length:0),r.get("getHeapDump")&&(s+=e.heapDumps?Object.keys(e==null?void 0:e.heapDumps).length:0)}return s}get getMemoryStats(){var e;return{names:["Max Memory","Used Memory"],keys:["memoryAllocated","memoryUsed"],dataset:at((e=this.session)==null?void 0:e.stats,["memoryAllocated","memoryUsed"]),tickFormat:(s,r)=>s>999?(s/1024).toFixed(1)+"GB":s+"MB"}}get getCpuStats(){var e;return{names:["CPU Utilization"],keys:["cpuUtilization"],dataset:at((e=this.session)==null?void 0:e.stats,["cpuUtilization"]),tickFormat:(s,r)=>Math.floor(s)+"%"}}get getBandwidthStats(){var e;return{names:["Inbound trafic","Outbound trafic"],keys:["inboundSize","outboundSize"],dataset:at((e=this.session)==null?void 0:e.stats,["inboundSize","outboundSize"]),tickFormat:(s,r)=>Math.floor(s/1024)+"k"}}get getLatencyStats(){var e;return{names:["Network ping latency","Network transfer latency","Server rendering latency","Client rendering latency"],keys:["latencyPing","latencyNetworkTransfer","latencyServerRendering","latencyClientRendering"],dataset:at((e=this.session)==null?void 0:e.stats,["latencyPing","latencyNetworkTransfer","latencyServerRendering","latencyClientRendering"]),tickFormat:(s,r)=>s+"ms"}}get mirroringMessageKey(){var e;switch((e=this.session)==null?void 0:e.mirroringStatus){case"DENIED_MIRRORING_BY_USER":return"sessions.mirror.status.denied";case"WAITING_FOR_MIRRORING_APPROVAL":return"sessions.mirror.status.waiting";default:return null}}get sessionsCount(){var e;return((e=this.sessions.meta)==null?void 0:e.totalItems)||0}get totalRecordingsCount(){var e;return((e=this.recordings.meta)==null?void 0:e.totalItems)||0}get totalThreadDumpsCount(){var e;return((e=this.threadDumps.meta)==null?void 0:e.totalItems)||0}get sessionsList(){var e;return((e=this.sessions)==null?void 0:e[this.sessionsTab])||[]}get currentSessionPage(){return this.currentVisibleIndex>=0?Math.floor(this.currentVisibleIndex/this.pageSize)+1:1}setCurrentVisibleIndex(e){e>=0&&O(()=>{this.currentVisibleIndex=e})}setShouldScrollToIndex(e){O(()=>{this.shouldScrollToIndex=e})}loadSessionsForSelector(e,s){const r=this.isAllSessions?"":this.appPath||"";return new Promise(async(n,i)=>{try{const a={page:e,pageSize:s,overlap:0};this.searchTerm&&(a.searchTerm=this.searchTerm);const l=this.orderMap[this.sessionsTab||""];l!=null&&l.orderBy!=null&&l.orderDir!=null&&(a.orderBy=l.orderBy,a.orderDir=l.orderDir),O(()=>{this.loading=!0});const d=await Y.getSessions(r,{...a,type:this.sessionsTab});d&&(this.setSessionsSelectorList(d[this.sessionsTab]||[]),O(()=>{var h;this.sessions.meta&&(this.sessions.meta.totalItems=((h=d.meta)==null?void 0:h.totalItems)||0)})),n()}catch(a){console.error("Error loading sessions for selector:",a),i(a)}finally{O(()=>{this.loading=!1})}})}setSessionsSelectorList(e){O(()=>{this.sessionsSelectorList=e})}async getPreviousSession(){if(!(this.currentVisibleIndex<=0))try{return await this.switchSession(this.currentVisibleIndex),this.session}catch(e){console.error("Error getting previous session:",e);return}}async getNextSession(){try{return await this.switchSession(this.currentVisibleIndex+2),this.session}catch(e){console.error("Error getting next session:",e);return}}}class ti{constructor(e){c(this,"rootStore");c(this,"logSession");c(this,"logs");c(this,"log");c(this,"logStartOffset");c(this,"logEndOffset",-1);c(this,"instanceId","");c(this,"appInstanceIds",[]);c(this,"logsOverview",{});c(this,"serverLogId");c(this,"spLogId");c(this,"loading",!1);c(this,"interval");c(this,"lastUpdated");c(this,"type");c(this,"searchTerm","");c(this,"filterToggle",!1);c(this,"compact",!0);c(this,"logsToken");c(this,"fontSize",1);c(this,"random",Math.random());c(this,"pageSize",50);c(this,"overlapSize",25);c(this,"orderBy","lastModified");c(this,"orderDir","DESC");c(this,"activeLogRequests",!1);c(this,"isSessionType",e=>e.url==="session");c(this,"isAdminConsoleType",e=>e.url==="admin");c(this,"isScalingType",e=>e.url==="scaling");c(this,"split",e=>{var s;return((s=this.type)==null?void 0:s.delimiter)!=null?e?e.split(this.type.delimiter):"":[e]});c(this,"loadLogsOverviewOnDemand",async(e,s=!0,r=!1,n,i=0)=>{r&&(this.appInstanceIds=[]);try{const a={page:n||1,pageSize:this.pageSize,overlap:i};this.searchTerm&&(a.searchTerm=this.searchTerm),this.orderBy&&this.orderDir&&(a.orderBy=this.orderBy,a.orderDir=this.orderDir);const l=await Fe.getLogsOverview({...a,app:"/"+e,type:s?"sessions":void 0});l&&O(()=>{var d,h;if(r)this.logsOverview=l,this.serverLogId=this.serverLogId?this.serverLogId:(d=l.servers[0])==null?void 0:d.id,this.spLogId=this.spLogId?this.spLogId:(h=l.sessionPools[0])==null?void 0:h.id,this.logsToken=l.token,this.appInstanceIds=l.sessions||[];else{const m=this.appInstanceIds||[],g=l.sessions||[],f=l.meta;if((f==null?void 0:f.startIndex)!==void 0&&(f==null?void 0:f.endIndex)!==void 0)for(let p=0;p<g.length;p++){const v=f.startIndex+p;v<=f.endIndex&&(m[v]=g[p])}this.appInstanceIds=m,this.logsOverview.meta=l.meta}this.lastUpdated=new Date().toLocaleTimeString()})}finally{O(()=>{this.loading=!1})}});Ze(this),this.rootStore=e}setInstanceId(e){e!==this.instanceId&&(this.instanceId=e)}setCompact(e){this.compact=e||!this.compact}setFilterToggle(e){this.searchTerm="",this.filterToggle=typeof e=="boolean"?e:!this.filterToggle}setSearchTerm(e){this.searchTerm!==e&&(this.searchTerm=e)}setServerLogId(e){var s;e!==this.serverLogId&&(this.clearInterval(),this.serverLogId=e,this.refresh("",(s=this.type)==null?void 0:s.url))}setSessionSpLogId(e){this.spLogId=e}setSpLogId(e){e!==this.spLogId&&(this.clearInterval(),this.spLogId=e,this.refresh("","sessionpool"))}setOrder(e,s){this.orderBy!==e&&(this.orderBy=e),this.orderDir!==s&&(this.orderDir=s)}adjustFontSize(e){this.fontSize+=e,this.fontSize<=0&&(this.fontSize=.1),this.random=Math.random()}resetDownloadProgress(){this.rootStore.globalStore.resetDownloadProgress()}getDownloadCallbacks(){return{onProgress:(e,s,r)=>{O(()=>{this.rootStore.globalStore.setDownloadProgress(e,s,r)})},onComplete:()=>{O(()=>{this.resetDownloadProgress()})},onError:e=>{O(()=>{this.resetDownloadProgress()})}}}get downloadProgress(){return this.rootStore.globalStore.downloadProgress}get isDownloading(){return this.rootStore.globalStore.isDownloading}get downloadSize(){return this.rootStore.globalStore.downloadSize}async loadLogsOverview(e,s=!0,r=!1){(this.appInstanceIds==null||this.appInstanceIds.length==0)&&(r=!0),r&&(this.appInstanceIds=[]);const n=async(l,d)=>{const h=await Fe.getLogsOverview({...l,app:"/"+e,type:s?"sessions":void 0});if(h){d?(d.sessions=[...d.sessions,...h.sessions||[]],d.meta=h.meta):d=h,r&&(this.appInstanceIds=[...this.appInstanceIds,...h.sessions||[]]);const m=d.meta;return m&&m.currentPage&&m.totalPages&&m.currentPage<m.totalPages?n({...l,page:m.currentPage+1},d):d}};this.loading=!0;const i={page:1,pageSize:this.pageSize};this.searchTerm&&(i.searchTerm=this.searchTerm),this.orderBy&&this.orderDir&&(i.orderBy=this.orderBy,i.orderDir=this.orderDir);const a=await n(i);O(()=>{var l,d;a&&(this.logsOverview=a,this.serverLogId=this.serverLogId?this.serverLogId:(l=a.servers[0])==null?void 0:l.id,this.spLogId=this.spLogId?this.spLogId:(d=a.sessionPools[0])==null?void 0:d.id,this.logsToken=a.token,this.appInstanceIds=a.sessions||[],this.lastUpdated=new Date().toLocaleTimeString()),this.loading=!1})}load(e,s,r,n,i){var l;const a={backwards:r,offset:s,max:e,instanceId:void 0};return this.loading=!0,r&&(this.log=this.logs=[]),((l=this.type)==null?void 0:l.url)==="sessionpool"&&this.isCluster?Fe.getSessionPoolLogs(this.spLogId,a).then(d=>{O(()=>{this.handleLogResponse(d,r,i)})}).catch(d=>{console.error(d)}):this.type&&this.isSessionType(this.type)||n!==void 0&&this.instanceId?(a.instanceId=this.instanceId||null,n?Fe.getSessionLog(this.spLogId,this.instanceId,te("",n),a).then(d=>{O(()=>{this.handleLogResponse(d,r,i)})}).catch(d=>{console.error(d)}):Promise.resolve()):this.type&&this.isAdminConsoleType(this.type)?Fe.getAdminConsoleLogs(a).then(d=>{O(()=>{this.handleLogResponse(d,r,i)})}).catch(d=>{console.error(d)}):this.type&&this.isScalingType(this.type)?Fe.getScalingLogs(a).then(d=>{O(()=>{this.handleLogResponse(d,r,i)})}).catch(d=>{console.error(d)}):Fe.getServerLogs(this.serverLogId,i,a).then(d=>{O(()=>{this.handleLogResponse(d,r,i)})}).catch(d=>{console.error(d)})}refresh(e,s){this.load(100*1024,-1,!0,e,s).then(()=>{this.clearInterval(),this.setInterval(()=>this.loadDelta(e,s),2e3)}).catch(r=>{console.error(r)})}setType(e){let s;for(s of Kr)s.url===e&&(this.type=s)}loadSessionLogs(e,s){this.instanceId=s,this.logSession=this.rootStore.sessionsStore.session,this.refresh(e,"session")}loadDelta(e,s){return this.load(100*1024,this.logEndOffset,!1,e,s).then(()=>{this.clearInterval(),this.setInterval(()=>this.loadDelta(e,s),2e3)}).catch(()=>{this.clearInterval()})}downloadLogs(e){e==="sessionpool"?this.downloadSessionPoolLogs(this.spLogId):e==="admin"?this.downloadAdminConsoleLogs():this.downloadServerLogs(this.serverLogId,e)}async downloadSessionPoolLogs(e){const s=`${await this.rootStore.globalStore.serverUrl}/rest/logs/sessionpool/${e}/download`,r={"X-Download-Token":`${this.logsToken}`};return Ke(s,r,e+"_sessionpool_log.zip",this.getDownloadCallbacks(),{label:`Session Pool Logs (${e})`})}async downloadServerLogs(e,s){const r=`${z}/rest/logs/server/${e}/${s}/download`,n={"X-Download-Token":`${this.logsToken}`},i=s.charAt(0).toUpperCase()+s.slice(1);return Ke(r,n,`${s}.zip`,this.getDownloadCallbacks(),{label:`${i} Logs (${e})`})}async downloadAdminConsoleLogs(){const e=z+"/rest/logs/console/download",s={"X-Download-Token":`${this.logsToken}`};return Ke(e,s,"admin.zip",this.getDownloadCallbacks(),{label:"Admin Console Logs"})}async downloadSessionLogs(e,s,r){s||(s=this.spLogId);const n=new URLSearchParams({sessionPoolId:s});r&&n.append("instanceId",r),e&&n.append("appPath",e);const i=`${await this.rootStore.globalStore.serverUrl}/rest/logs/session/download?${n.toString()}`,a={"X-Download-Token":`${this.logsToken}`},l=e.replace("/",""),d=r?`${l}_${r}_session_logs.zip`:s?`${l}_${s}_session_logs.zip`:l?`${l}_session_logs.zip`:"session_logs.zip",h=r?`Session Logs - ${l} (${r})`:s?`Session Logs - ${l} (${s})`:e?`Session Logs - ${l}`:"Session Logs";return Ke(i,a,d,this.getDownloadCallbacks(),{label:h})}get searchTermLowerCase(){return this.searchTerm.toLocaleLowerCase()}get dropdownServerButtons(){var s;const e=[];return(s=this.logsOverview.servers)==null||s.forEach(r=>{e.push({label:r.id,onClick:()=>this.setServerLogId(r.id)})}),e}get dropdownSpButtons(){var s;const e=[];return(s=this.logsOverview.sessionPools)==null||s.forEach(r=>{e.push({label:r.id,onClick:()=>this.setSpLogId(r.id)})}),e}get isCluster(){return this.logsOverview.servers?this.logsOverview.servers[0].cluster:!1}get isDropButtonVisible(){var e;return this.logsOverview&&((e=this.type)==null?void 0:e.url)==="sessionpool"?this.logsOverview.sessionPools.length>1:this.logsOverview.servers.length>1}handleLogResponse(e,s,r){var n,i;if(e&&e.log&&e.log.length>0){const a=e.log.split((n=this.type)==null?void 0:n.lineDelimiter);s?(this.log=a==null?void 0:a.concat(this.log),this.logStartOffset=e==null?void 0:e.startOffset,this.logEndOffset=Math.max(Number(this.logEndOffset),Number(e==null?void 0:e.endOffset))):(this.log=(i=this.log)==null?void 0:i.concat(a),this.logStartOffset=Math.min(Number(this.logStartOffset),Number(e==null?void 0:e.startOffset)),this.logEndOffset=Number(e==null?void 0:e.endOffset)),this.setCollection(r)}this.lastUpdated=String(new Date),this.loading=!1}setInterval(e,s){this.interval=setInterval(()=>{e()},s)}clearInterval(){this.interval&&(clearInterval(this.interval),this.interval=void 0)}setCollection(e){var r;let s=(r=this.log)==null?void 0:r.map(n=>this.split(n));s=s==null?void 0:s.filter(n=>Array.isArray(n)),e==="audit"?this.logs=s==null?void 0:s.map(([n,i,a,l,d,h,...m])=>({timestamp:n,subject:i,value:a,user:l,secured_path:d,ip:h,detail:m.join(" | ")})):this.logs=s==null?void 0:s.map(([n])=>({msgs:n}))}}function si(t){return ri(t)}function ri(t,e){return t==null?t:{connected:u(t,"connected")?t.connected:void 0,disconnected:u(t,"disconnected")?t.disconnected:void 0,total:u(t,"total")?t.total:void 0}}function oi(t){return ni(t)}function ni(t,e){return t==null?t:{paths:u(t,"paths")?t.paths.map(ai):void 0,meta:u(t,"meta")?Rt(t.meta):void 0}}function dr(t){return ii(t)}function ii(t,e){return t==null?t:{path:u(t,"path")?t.path:void 0,url:u(t,"url")?t.url:void 0,name:u(t,"name")?t.name:void 0,cluster:u(t,"cluster")?t.cluster:void 0,runningInstances:u(t,"runningInstances")?t.runningInstances:void 0,enabled:u(t,"enabled")?t.enabled:void 0,message:u(t,"message")?t.message:void 0,icon:u(t,"icon")?t.icon:void 0,status:u(t,"status")?t.status.map(hr):void 0,config:u(t,"config")?t.config:void 0,connectedInstances:u(t,"connectedInstances")?t.connectedInstances:void 0,maxRunningInstances:u(t,"maxRunningInstances")?t.maxRunningInstances:void 0,finishedInstances:u(t,"finishedInstances")?t.finishedInstances:void 0}}function ai(t){return li(t)}function li(t,e){return t==null?t:{path:u(t,"path")?t.path:void 0,url:u(t,"url")?t.url:void 0,name:u(t,"name")?t.name:void 0,runningInstances:u(t,"runningInstances")?t.runningInstances:void 0,enabled:u(t,"enabled")?t.enabled:void 0,status:u(t,"status")?t.status.map(hr):void 0}}function Es(t){return ci(t)}function ci(t,e){return t==null?t:{webConfig:u(t,"webConfig")?Ut(t.webConfig):void 0,appConfig:u(t,"appConfig")?ar(t.appConfig,Ut):void 0}}function Fs(t){if(t!==void 0)return t===null?null:{webConfig:Ht(t.webConfig),appConfig:t.appConfig===void 0?void 0:ar(t.appConfig,Ht)}}function di(t){if(t!==void 0)return t===null?null:{url:t.url,version:t.version}}function ui(t){return hi(t)}function hi(t,e){return t==null?t:{params:u(t,"params")?t.params:void 0,mainClass:u(t,"mainClass")?t.mainClass:void 0,documentbase:u(t,"documentbase")?t.documentbase:void 0,codebase:u(t,"codebase")?t.codebase:void 0,librariesLinkId:u(t,"librariesLinkId")?t.librariesLinkId:void 0,error:u(t,"error")?t.error:void 0}}function pi(t){return gi(t)}function gi(t,e){return t==null?t:{messages:u(t,"messages")?t.messages:void 0,anySuccess:u(t,"anySuccess")?t.anySuccess:void 0}}function ur(t){return mi(t)}function mi(t,e){return t==null?t:{timestamp:u(t,"timestamp")?t.timestamp:void 0,reason:u(t,"reason")?t.reason:void 0,fileName:u(t,"fileName")?t.fileName:void 0,appPath:u(t,"appPath")?t.appPath:void 0,instanceId:u(t,"instanceId")?t.instanceId:void 0,size:u(t,"size")?t.size:void 0,sessionPoolId:u(t,"sessionPoolId")?t.sessionPoolId:void 0}}function fi(t){return wi(t)}function wi(t,e){return t==null?t:{id:u(t,"id")?t.id:void 0,sessionPoolId:u(t,"sessionPoolId")?t.sessionPoolId:void 0,application:u(t,"application")?t.application:void 0,applicationPath:u(t,"applicationPath")?t.applicationPath:void 0,idleStatus:u(t,"idleStatus")?t.idleStatus:void 0,pid:u(t,"pid")?t.pid:void 0,startedAt:u(t,"startedAt")?t.startedAt:void 0}}function hr(t){return _i(t)}function _i(t,e){return t==null?t:{status:u(t,"status")?t.status:void 0,server:u(t,"server")?t.server:void 0,error:u(t,"error")?t.error:void 0,errorDetails:u(t,"errorDetails")?t.errorDetails:void 0}}var pr=(t=>(t.Starting="Starting",t.Running="Running",t.Stopped="Stopped",t.Stopping="Stopping",t.Error="Error",t))(pr||{});function gt(t){if(t!==void 0)return t===null?null:{backwards:t.backwards,offset:t.offset,max:t.max}}function mt(t){return vi(t)}function vi(t,e){return t==null?t:{startOffset:u(t,"startOffset")?t.startOffset:void 0,endOffset:u(t,"endOffset")?t.endOffset:void 0,log:u(t,"log")?t.log:void 0}}function yi(t){return bi(t)}function bi(t,e){return t==null?t:{apps:u(t,"apps")?t.apps:void 0,servers:u(t,"servers")?t.servers.map(Gi):void 0,sessionPools:u(t,"sessionPools")?t.sessionPools.map(Hi):void 0,sessions:u(t,"sessions")?t.sessions.map(Bi):void 0,token:u(t,"token")?t.token:void 0,meta:u(t,"meta")?Rt(t.meta):void 0}}function Ut(t){return Si(t)}function Si(t,e){return t==null?t:{message:u(t,"message")?t.message:void 0,fields:u(t,"fields")?t.fields:void 0,data:u(t,"data")?t.data:void 0}}function Ht(t){if(t!==void 0)return t===null?null:{message:t.message,fields:t.fields,data:t.data}}function xi(t){if(t!==void 0)return t===null?null:{name:t.name,value:t.value}}function Ci(t){return Ti(t)}function Ti(t,e){return t==null?t:{servers:u(t,"servers")?t.servers.map($i):void 0,sessionPools:u(t,"sessionPools")?t.sessionPools.map(Vi):void 0}}function Rt(t){return Ii(t)}function Ii(t,e){return t==null?t:{currentPage:u(t,"currentPage")?t.currentPage:void 0,totalItems:u(t,"totalItems")?t.totalItems:void 0,totalPages:u(t,"totalPages")?t.totalPages:void 0,overlap:u(t,"overlap")?t.overlap:void 0,startIndex:u(t,"startIndex")?t.startIndex:void 0,endIndex:u(t,"endIndex")?t.endIndex:void 0}}function Ri(t){return Ai(t)}function Ai(t,e){return t==null?t:{user:u(t,"user")?t.user:void 0,overview:u(t,"overview")?t.overview:void 0,scaling:u(t,"scaling")?t.scaling:void 0,configView:u(t,"configView")?t.configView:void 0,configSwingEdit:u(t,"configSwingEdit")?t.configSwingEdit:void 0,sessions:u(t,"sessions")?t.sessions:void 0,configEdit:u(t,"configEdit")?t.configEdit:void 0,start:u(t,"start")?t.start:void 0,stop:u(t,"stop")?t.stop:void 0,remove:u(t,"remove")?t.remove:void 0,create:u(t,"create")?t.create:void 0,logsView:u(t,"logsView")?t.logsView:void 0,startRecording:u(t,"startRecording")?t.startRecording:void 0,playbackRecording:u(t,"playbackRecording")?t.playbackRecording:void 0,startMirrorView:u(t,"startMirrorView")?t.startMirrorView:void 0,requestThreadDump:u(t,"requestThreadDump")?t.requestThreadDump:void 0,getThreadDump:u(t,"getThreadDump")?t.getThreadDump:void 0,requestHeapDump:u(t,"requestHeapDump")?t.requestHeapDump:void 0,getHeapDump:u(t,"getHeapDump")?t.getHeapDump:void 0}}function ki(t){return Li(t)}function Li(t,e){return t==null?t:{folder:u(t,"folder")?t.folder:void 0,anyFiles:u(t,"anyFiles")?t.anyFiles:void 0,files:u(t,"files")?t.files.map(Ni):void 0,javaExecutable:u(t,"javaExecutable")?t.javaExecutable:void 0,javaVersion:u(t,"javaVersion")?t.javaVersion:void 0}}function Pi(t){if(t!==void 0)return t===null?null:{appName:t.appName,appPath:t.appPath,appType:t.appType,mainClass:t.mainClass,vmArgs:t.vmArgs,mainParams:t.mainParams,appletParams:t.appletParams===void 0?void 0:t.appletParams.map(xi),sysProps:t.sysProps,javaFX:t.javaFX,customJavaVersion:t.customJavaVersion,customJavaExecutable:t.customJavaExecutable,formsUrl:t.formsUrl,formsVersion:t.formsVersion}}function Ni(t){return Di(t)}function Di(t,e){return t==null?t:{name:u(t,"name")?t.name:void 0,mainClass:u(t,"mainClass")?t.mainClass:void 0}}function fs(t){return ji(t)}function ji(t,e){return t==null?t:{startDate:u(t,"startDate")?t.startDate:void 0,appPath:u(t,"appPath")?t.appPath:void 0,instanceId:u(t,"instanceId")?t.instanceId:void 0,fileName:u(t,"fileName")?t.fileName:void 0,token:u(t,"token")?t.token:void 0,size:u(t,"size")?t.size:void 0,sessionPoolId:u(t,"sessionPoolId")?t.sessionPoolId:void 0}}function Oi(t){return Ei(t)}function Ei(t,e){return t==null?t:{recordings:u(t,"recordings")?t.recordings.map(fs):void 0,meta:u(t,"meta")?Rt(t.meta):void 0}}function $s(t){return Fi(t)}function Fi(t,e){return t==null?t:{accessToken:u(t,"accessToken")?t.accessToken:void 0}}function $i(t){return Mi(t)}function Mi(t,e){return t==null?t:{id:u(t,"id")?t.id:void 0,cluster:u(t,"cluster")?t.cluster:void 0,verboseLogging:u(t,"verboseLogging")?t.verboseLogging:void 0,websocketUrl:u(t,"websocketUrl")?t.websocketUrl:void 0,connected:u(t,"connected")?t.connected:void 0,sessionPools:u(t,"sessionPools")?t.sessionPools:void 0,instances:u(t,"instances")?t.instances:void 0,users:u(t,"users")?t.users:void 0,connections:u(t,"connections")?t.connections:void 0,idle:u(t,"idle")?t.idle:void 0,instancesConnected:u(t,"instancesConnected")?t.instancesConnected:void 0,apps:u(t,"apps")?t.apps.map(dr):void 0,userList:u(t,"userList")?t.userList:void 0}}function Gi(t){return qi(t)}function qi(t,e){return t==null?t:{id:u(t,"id")?t.id:void 0,cluster:u(t,"cluster")?t.cluster:void 0,logDir:u(t,"logDir")?t.logDir:void 0}}function Bi(t){return zi(t)}function zi(t,e){return t==null?t:{app:u(t,"app")?t.app:void 0,instanceId:u(t,"instanceId")?t.instanceId:void 0,lastModified:u(t,"lastModified")?t.lastModified:void 0,sessionPoolId:u(t,"sessionPoolId")?t.sessionPoolId:void 0,users:u(t,"users")?t.users:void 0,userIp:u(t,"userIp")?t.userIp:void 0,userOs:u(t,"userOs")?t.userOs:void 0,userBrowser:u(t,"userBrowser")?t.userBrowser:void 0,status:u(t,"status")?t.status:void 0,connected:u(t,"connected")?t.connected:void 0,detached:u(t,"detached")?t.detached:void 0,disconnectedSince:u(t,"disconnectedSince")?t.disconnectedSince:void 0,startedAt:u(t,"startedAt")?t.startedAt:void 0,endedAt:u(t,"endedAt")?t.endedAt:void 0}}function Vi(t){return Ui(t)}function Ui(t,e){return t==null?t:{id:u(t,"id")?t.id:void 0,priority:u(t,"priority")?t.priority:void 0,maxInstances:u(t,"maxInstances")?t.maxInstances:void 0,maxIdleInstances:u(t,"maxIdleInstances")?t.maxIdleInstances:void 0,drainMode:u(t,"drainMode")?t.drainMode:void 0,drainAutoMode:u(t,"drainAutoMode")?t.drainAutoMode:void 0,verboseLogging:u(t,"verboseLogging")?t.verboseLogging:void 0,stopped:u(t,"stopped")?t.stopped:void 0,staticSP:u(t,"staticSP")?t.staticSP:void 0,connectedServers:u(t,"connectedServers")?t.connectedServers:void 0,idle:u(t,"idle")?t.idle:void 0,apps:u(t,"apps")?t.apps:void 0,warnings:u(t,"warnings")?t.warnings:void 0}}function Hi(t){return Wi(t)}function Wi(t,e){return t==null?t:{id:u(t,"id")?t.id:void 0,logDir:u(t,"logDir")?t.logDir:void 0}}function Ji(t){return Ki(t)}function Ki(t,e){return t==null?t:{sessions:u(t,"sessions")?t.sessions.map(lt):void 0,idle:u(t,"idle")?t.idle.map(fi):void 0,closedSessions:u(t,"closedSessions")?t.closedSessions.map(lt):void 0,meta:u(t,"meta")?Rt(t.meta):void 0,stats:u(t,"stats")?Zi(t.stats):void 0}}function Zi(t){return Qi(t)}function Qi(t,e){return t==null?t:{sessions:u(t,"sessions")?t.sessions:void 0,idle:u(t,"idle")?t.idle:void 0,closedSessions:u(t,"closedSessions")?t.closedSessions:void 0}}function lt(t){return Xi(t)}function Xi(t,e){return t==null?t:{id:u(t,"id")?t.id:void 0,pid:u(t,"pid")?t.pid:void 0,users:u(t,"users")?t.users:void 0,userIp:u(t,"userIp")?t.userIp:void 0,userOs:u(t,"userOs")?t.userOs:void 0,userBrowser:u(t,"userBrowser")?t.userBrowser:void 0,application:u(t,"application")?t.application:void 0,applicationPath:u(t,"applicationPath")?t.applicationPath:void 0,startedAt:u(t,"startedAt")?t.startedAt:void 0,endedAt:u(t,"endedAt")?t.endedAt:void 0,connected:u(t,"connected")?t.connected:void 0,applet:u(t,"applet")?t.applet:void 0,disconnectedSince:u(t,"disconnectedSince")?t.disconnectedSince:void 0,recordingFile:u(t,"recordingFile")?fs(t.recordingFile):void 0,recordingStatus:u(t,"recordingStatus")?t.recordingStatus:void 0,mirroringStatus:u(t,"mirroringStatus")?t.mirroringStatus:void 0,stats:u(t,"stats")?t.stats:void 0,metrics:u(t,"metrics")?t.metrics:void 0,status:u(t,"status")?t.status:void 0,warnings:u(t,"warnings")?t.warnings:void 0,warningHistory:u(t,"warningHistory")?t.warningHistory:void 0,recordings:u(t,"recordings")?t.recordings.map(fs):void 0,threadDumps:u(t,"threadDumps")?t.threadDumps.map(gr):void 0,heapDumps:u(t,"heapDumps")?t.heapDumps.map(ur):void 0,applicationUrl:u(t,"applicationUrl")?t.applicationUrl:void 0,loggingEnabled:u(t,"loggingEnabled")?t.loggingEnabled:void 0,sessionLogFileName:u(t,"sessionLogFileName")?t.sessionLogFileName:void 0,statisticsLoggingEnabled:u(t,"statisticsLoggingEnabled")?t.statisticsLoggingEnabled:void 0,sessionPoolId:u(t,"sessionPoolId")?t.sessionPoolId:void 0,canRecord:u(t,"canRecord")?t.canRecord:void 0,canMirror:u(t,"canMirror")?t.canMirror:void 0,detached:u(t,"detached")?t.detached:void 0}}var Kt=(t=>(t.NOTSTARTED="NOT_STARTED",t.EXITING="EXITING",t.RUNNING="RUNNING",t.FORCEKILLED="FORCE_KILLED",t.FINISHED="FINISHED",t))(Kt||{});function gr(t){return Yi(t)}function Yi(t,e){return t==null?t:{timestamp:u(t,"timestamp")?t.timestamp:void 0,reason:u(t,"reason")?t.reason:void 0,fileName:u(t,"fileName")?t.fileName:void 0,token:u(t,"token")?t.token:void 0,appPath:u(t,"appPath")?t.appPath:void 0,instanceId:u(t,"instanceId")?t.instanceId:void 0,size:u(t,"size")?t.size:void 0,sessionPoolId:u(t,"sessionPoolId")?t.sessionPoolId:void 0}}function ea(t){return ta(t)}function ta(t,e){return t==null?t:{threadDumps:u(t,"threadDumps")?t.threadDumps.map(gr):void 0,meta:u(t,"meta")?Rt(t.meta):void 0}}class sa extends Ie{async activeSessionsInfoRaw(){const e={},s={},r=await this.request({path:"/rest/activeSessionsInfo",method:"GET",headers:s,query:e});return new F(r,n=>si(n))}async activeSessionsInfo(){return await(await this.activeSessionsInfoRaw()).value()}async downloadFileLinkRaw(e){if(e.linkId===null||e.linkId===void 0)throw new k("linkId","Required parameter requestParameters.linkId was null or undefined when calling downloadFileLink.");const s={},r={},n=await this.request({path:"/rest/link/{linkId}".replace("{linkId}",encodeURIComponent(String(e.linkId))),method:"GET",headers:r,query:s});return new Eo(n)}async downloadFileLink(e){return await(await this.downloadFileLinkRaw(e)).value()}async getIconRaw(){const e={},s={},r=await this.request({path:"/rest/appicon",method:"GET",headers:s,query:e});return new ht(r)}async getIcon(){return await(await this.getIconRaw()).value()}async getInfoRaw(){const e={},s={},r=await this.request({path:"/rest/info",method:"GET",headers:s,query:e});return new F(r,n=>dr(n))}async getInfo(){return await(await this.getInfoRaw()).value()}async getPathsRaw(e){const s={};e.searchTerm!==void 0&&(s.searchTerm=e.searchTerm),e.orderBy!==void 0&&(s.orderBy=e.orderBy),e.orderDir!==void 0&&(s.orderDir=e.orderDir),e.page!==void 0&&(s.page=e.page),e.pageSize!==void 0&&(s.pageSize=e.pageSize);const r={},n=await this.request({path:"/rest/paths",method:"GET",headers:r,query:s});return new F(n,i=>oi(i))}async getPaths(e){return await(await this.getPathsRaw(e)).value()}async getPermissionsRaw(){const e={},s={},r=await this.request({path:"/rest/permissions",method:"GET",headers:s,query:e});return new F(r,n=>Ri(n))}async getPermissions(){return await(await this.getPermissionsRaw()).value()}async getSessionsRaw(e){const s={};e.type!==void 0&&(s.type=e.type),e.page!==void 0&&(s.page=e.page),e.pageSize!==void 0&&(s.pageSize=e.pageSize),e.searchTerm!==void 0&&(s.searchTerm=e.searchTerm),e.orderBy!==void 0&&(s.orderBy=e.orderBy),e.orderDir!==void 0&&(s.orderDir=e.orderDir),e.overlap!==void 0&&(s.overlap=e.overlap);const r={},n=await this.request({path:"/rest/sessions",method:"GET",headers:r,query:s});return new F(n,i=>Ji(i))}async getSessions(e){return await(await this.getSessionsRaw(e)).value()}async getStatsRaw(){const e={},s={},r=await this.request({path:"/rest/stats",method:"GET",headers:s,query:e});return new F(r)}async getStats(){return await(await this.getStatsRaw()).value()}async getUrlRaw(){const e={},s={},r=await this.request({path:"/rest/url",method:"GET",headers:s,query:e});return new ht(r)}async getUrl(){return await(await this.getUrlRaw()).value()}async getVersionRaw(){const e={},s={},r=await this.request({path:"/rest/version",method:"GET",headers:s,query:e});return new ht(r)}async getVersion(){return await(await this.getVersionRaw()).value()}}class ra extends Ie{async healthRaw(){const e={},s={},r=await this.request({path:"/rest/health",method:"GET",headers:s,query:e});return new ht(r)}async health(){return await(await this.healthRaw()).value()}async loginRaw(e){if(e.accessId===null||e.accessId===void 0)throw new k("accessId","Required parameter requestParameters.accessId was null or undefined when calling login.");const s={};e.accessId!==void 0&&(s.accessId=e.accessId);const r={},n=await this.request({path:"/rest/login",method:"GET",headers:r,query:s});return new F(n,i=>$s(i))}async login(e){return await(await this.loginRaw(e)).value()}async logoutRaw(){const e={},s={},r=await this.request({path:"/rest/logout",method:"GET",headers:s,query:e});return new re(r)}async logout(){await this.logoutRaw()}async refreshTokenRaw(){const e={},s={},r=await this.request({path:"/rest/refreshToken",method:"GET",headers:s,query:e});return new F(r,n=>$s(n))}async refreshToken(){return await(await this.refreshTokenRaw()).value()}}class oa extends Ie{async createAppRaw(e){if(e.appPath===null||e.appPath===void 0)throw new k("appPath","Required parameter requestParameters.appPath was null or undefined when calling createApp.");if(e.appName===null||e.appName===void 0)throw new k("appName","Required parameter requestParameters.appName was null or undefined when calling createApp.");const s={};e.appPath!==void 0&&(s.appPath=e.appPath),e.appName!==void 0&&(s.appName=e.appName);const r={},n=await this.request({path:"/rest/create",method:"GET",headers:r,query:s});return new re(n)}async createApp(e){await this.createAppRaw(e)}async duplicateAppRaw(e){if(e.appPath===null||e.appPath===void 0)throw new k("appPath","Required parameter requestParameters.appPath was null or undefined when calling duplicateApp.");if(e.appName===null||e.appName===void 0)throw new k("appName","Required parameter requestParameters.appName was null or undefined when calling duplicateApp.");if(e.duplicateApp===null||e.duplicateApp===void 0)throw new k("duplicateApp","Required parameter requestParameters.duplicateApp was null or undefined when calling duplicateApp.");const s={};e.appPath!==void 0&&(s.appPath=e.appPath),e.appName!==void 0&&(s.appName=e.appName),e.duplicateApp!==void 0&&(s.duplicateApp=e.duplicateApp);const r={},n=await this.request({path:"/rest/duplicate",method:"GET",headers:r,query:s});return new re(n)}async duplicateApp(e){await this.duplicateAppRaw(e)}async removeAppRaw(e){if(e.appPath===null||e.appPath===void 0)throw new k("appPath","Required parameter requestParameters.appPath was null or undefined when calling removeApp.");const s={};e.appPath!==void 0&&(s.appPath=e.appPath);const r={},n=await this.request({path:"/rest/remove",method:"GET",headers:r,query:s});return new re(n)}async removeApp(e){await this.removeAppRaw(e)}async startAppRaw(e){if(e.appPath===null||e.appPath===void 0)throw new k("appPath","Required parameter requestParameters.appPath was null or undefined when calling startApp.");const s={};e.appPath!==void 0&&(s.appPath=e.appPath);const r={},n=await this.request({path:"/rest/start",method:"GET",headers:r,query:s});return new re(n)}async startApp(e){await this.startAppRaw(e)}async stopAppRaw(e){if(e.appPath===null||e.appPath===void 0)throw new k("appPath","Required parameter requestParameters.appPath was null or undefined when calling stopApp.");const s={};e.appPath!==void 0&&(s.appPath=e.appPath);const r={},n=await this.request({path:"/rest/stop",method:"GET",headers:r,query:s});return new re(n)}async stopApp(e){await this.stopAppRaw(e)}}class na extends Ie{async configureOracleFormsRaw(e){if(e.configureOracleFormsRequest===null||e.configureOracleFormsRequest===void 0)throw new k("configureOracleFormsRequest","Required parameter requestParameters.configureOracleFormsRequest was null or undefined when calling configureOracleForms.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/configureOracleForms",method:"POST",headers:r,query:s,body:di(e.configureOracleFormsRequest)});return new F(n,i=>ui(i))}async configureOracleForms(e){return await(await this.configureOracleFormsRaw(e)).value()}async createWebFolderRaw(){const e={},s={},r=await this.request({path:"/rest/createWebFolder",method:"POST",headers:s,query:e});return new F(r,n=>pi(n))}async createWebFolder(){return await(await this.createWebFolderRaw()).value()}async getConfigRaw(){const e={},s={},r=await this.request({path:"/rest/config",method:"GET",headers:s,query:e});return new F(r,n=>Es(n))}async getConfig(){return await(await this.getConfigRaw()).value()}async getMetaRaw(e){if(e.config===null||e.config===void 0)throw new k("config","Required parameter requestParameters.config was null or undefined when calling getMeta.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/metaConfig",method:"POST",headers:r,query:s,body:Fs(e.config)});return new F(n,i=>Es(i))}async getMeta(e){return await(await this.getMetaRaw(e)).value()}async resolveRaw(e){if(e.type===null||e.type===void 0)throw new k("type","Required parameter requestParameters.type was null or undefined when calling resolve.");if(e.resolve===null||e.resolve===void 0)throw new k("resolve","Required parameter requestParameters.resolve was null or undefined when calling resolve.");const s={};e.resolve!==void 0&&(s.resolve=e.resolve),e.sessionPoolId!==void 0&&(s.sessionPoolId=e.sessionPoolId);const r={},n=await this.request({path:"/rest/variables/resolve/{type}".replace("{type}",encodeURIComponent(String(e.type))),method:"GET",headers:r,query:s});return new F(n)}async resolve(e){return await(await this.resolveRaw(e)).value()}async saveConfigRaw(e){if(e.config===null||e.config===void 0)throw new k("config","Required parameter requestParameters.config was null or undefined when calling saveConfig.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/config",method:"POST",headers:r,query:s,body:Fs(e.config)});return new F(n)}async saveConfig(e){return await(await this.saveConfigRaw(e)).value()}async searchVariablesRaw(e){if(e.type===null||e.type===void 0)throw new k("type","Required parameter requestParameters.type was null or undefined when calling searchVariables.");if(e.search===null||e.search===void 0)throw new k("search","Required parameter requestParameters.search was null or undefined when calling searchVariables.");const s={};e.search!==void 0&&(s.search=e.search),e.sessionPoolId!==void 0&&(s.sessionPoolId=e.sessionPoolId);const r={},n=await this.request({path:"/rest/variables/search/{type}".replace("{type}",encodeURIComponent(String(e.type))),method:"GET",headers:r,query:s});return new F(n)}async searchVariables(e){return await(await this.searchVariablesRaw(e)).value()}}class ia extends Ie{async getScalingConfigRaw(){const e={},s={},r=await this.request({path:"/rest/scaling/config",method:"GET",headers:s,query:e});return new F(r,n=>Ut(n))}async getScalingConfig(){return await(await this.getScalingConfigRaw()).value()}async getScalingMetaRaw(e){if(e.metaObject===null||e.metaObject===void 0)throw new k("metaObject","Required parameter requestParameters.metaObject was null or undefined when calling getScalingMeta.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/scaling/metaConfig",method:"POST",headers:r,query:s,body:Ht(e.metaObject)});return new F(n,i=>Ut(i))}async getScalingMeta(e){return await(await this.getScalingMetaRaw(e)).value()}async getScalingStatsRaw(e){if(e.statType===null||e.statType===void 0)throw new k("statType","Required parameter requestParameters.statType was null or undefined when calling getScalingStats.");const s={};e.statType!==void 0&&(s.statType=e.statType);const r={},n=await this.request({path:"/rest/scaling/stats",method:"GET",headers:r,query:s});return new F(n)}async getScalingStats(e){return await(await this.getScalingStatsRaw(e)).value()}async resolveScalingRaw(e){if(e.type===null||e.type===void 0)throw new k("type","Required parameter requestParameters.type was null or undefined when calling resolveScaling.");if(e.resolve===null||e.resolve===void 0)throw new k("resolve","Required parameter requestParameters.resolve was null or undefined when calling resolveScaling.");const s={};e.resolve!==void 0&&(s.resolve=e.resolve);const r={},n=await this.request({path:"/rest/scaling/variables/resolve/{type}".replace("{type}",encodeURIComponent(String(e.type))),method:"GET",headers:r,query:s});return new F(n)}async resolveScaling(e){return await(await this.resolveScalingRaw(e)).value()}async saveScalingConfigRaw(e){if(e.metaObject===null||e.metaObject===void 0)throw new k("metaObject","Required parameter requestParameters.metaObject was null or undefined when calling saveScalingConfig.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/scaling/config",method:"POST",headers:r,query:s,body:Ht(e.metaObject)});return new re(n)}async saveScalingConfig(e){await this.saveScalingConfigRaw(e)}async searchScalingVariablesRaw(e){if(e.type===null||e.type===void 0)throw new k("type","Required parameter requestParameters.type was null or undefined when calling searchScalingVariables.");if(e.search===null||e.search===void 0)throw new k("search","Required parameter requestParameters.search was null or undefined when calling searchScalingVariables.");const s={};e.search!==void 0&&(s.search=e.search);const r={},n=await this.request({path:"/rest/scaling/variables/search/{type}".replace("{type}",encodeURIComponent(String(e.type))),method:"GET",headers:r,query:s});return new F(n)}async searchScalingVariables(e){return await(await this.searchScalingVariablesRaw(e)).value()}}var yt=(t=>(t.Basic="Basic",t.Extended="Extended",t))(yt||{});class aa extends Ie{async getMetricsRaw(e){if(e.instanceId===null||e.instanceId===void 0)throw new k("instanceId","Required parameter requestParameters.instanceId was null or undefined when calling getMetrics.");const s={},r={},n=await this.request({path:"/rest/metrics/{instanceId}".replace("{instanceId}",encodeURIComponent(String(e.instanceId))),method:"GET",headers:r,query:s});return new F(n,i=>lt(i))}async getMetrics(e){return await(await this.getMetricsRaw(e)).value()}async getSessionRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling getSession.");const s={},r={},n=await this.request({path:"/rest/session/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:s});return new F(n,i=>lt(i))}async getSession(e){return await(await this.getSessionRaw(e)).value()}async listHeapDumpsRaw(e){const s={};e.instanceId!==void 0&&(s.instanceId=e.instanceId);const r={},n=await this.request({path:"/rest/heapDump/list",method:"GET",headers:r,query:s});return new F(n,i=>i.map(ur))}async listHeapDumps(e){return await(await this.listHeapDumpsRaw(e)).value()}async listRecordingsRaw(e){const s={};e.instanceId!==void 0&&(s.instanceId=e.instanceId),e.page!==void 0&&(s.page=e.page),e.pageSize!==void 0&&(s.pageSize=e.pageSize),e.searchTerm!==void 0&&(s.searchTerm=e.searchTerm),e.orderBy!==void 0&&(s.orderBy=e.orderBy),e.orderDir!==void 0&&(s.orderDir=e.orderDir),e.overlap!==void 0&&(s.overlap=e.overlap);const r={},n=await this.request({path:"/rest/record/list",method:"GET",headers:r,query:s});return new F(n,i=>Oi(i))}async listRecordings(e){return await(await this.listRecordingsRaw(e)).value()}async listThreadDumpsRaw(e){const s={};e.instanceId!==void 0&&(s.instanceId=e.instanceId),e.page!==void 0&&(s.page=e.page),e.pageSize!==void 0&&(s.pageSize=e.pageSize),e.searchTerm!==void 0&&(s.searchTerm=e.searchTerm),e.orderBy!==void 0&&(s.orderBy=e.orderBy),e.orderDir!==void 0&&(s.orderDir=e.orderDir),e.overlap!==void 0&&(s.overlap=e.overlap);const r={},n=await this.request({path:"/rest/threadDump/list",method:"GET",headers:r,query:s});return new F(n,i=>ea(i))}async listThreadDumps(e){return await(await this.listThreadDumpsRaw(e)).value()}async requestHeapDumpRaw(e){if(e.instanceId===null||e.instanceId===void 0)throw new k("instanceId","Required parameter requestParameters.instanceId was null or undefined when calling requestHeapDump.");const s={},r={},n=await this.request({path:"/rest/heapDump/{instanceId}".replace("{instanceId}",encodeURIComponent(String(e.instanceId))),method:"POST",headers:r,query:s});return new re(n)}async requestHeapDump(e){await this.requestHeapDumpRaw(e)}async requestThreadDumpRaw(e){if(e.instanceId===null||e.instanceId===void 0)throw new k("instanceId","Required parameter requestParameters.instanceId was null or undefined when calling requestThreadDump.");const s={},r={},n=await this.request({path:"/rest/threadDump/{instanceId}".replace("{instanceId}",encodeURIComponent(String(e.instanceId))),method:"POST",headers:r,query:s});return new re(n)}async requestThreadDump(e){await this.requestThreadDumpRaw(e)}async shutdownRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling shutdown.");const s={};e.force!==void 0&&(s.force=e.force);const r={},n=await this.request({path:"/rest/session/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:r,query:s});return new re(n)}async shutdown(e){await this.shutdownRaw(e)}async startRecordingRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling startRecording.");const s={},r={},n=await this.request({path:"/rest/record/start/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:s});return new F(n,i=>lt(i))}async startRecording(e){return await(await this.startRecordingRaw(e)).value()}async stopRecordingRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling stopRecording.");const s={},r={},n=await this.request({path:"/rest/record/stop/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:s});return new F(n,i=>lt(i))}async stopRecording(e){return await(await this.stopRecordingRaw(e)).value()}async toggleStatisticsLoggingRaw(e){if(e.instanceId===null||e.instanceId===void 0)throw new k("instanceId","Required parameter requestParameters.instanceId was null or undefined when calling toggleStatisticsLogging.");if(e.enabled===null||e.enabled===void 0)throw new k("enabled","Required parameter requestParameters.enabled was null or undefined when calling toggleStatisticsLogging.");const s={},r={},n=await this.request({path:"/rest/toggleStatisticsLogging/{instanceId}/{enabled}".replace("{instanceId}",encodeURIComponent(String(e.instanceId))).replace("{enabled}",encodeURIComponent(String(e.enabled))),method:"POST",headers:r,query:s});return new re(n)}async toggleStatisticsLogging(e){await this.toggleStatisticsLoggingRaw(e)}}class la extends Ie{async getOverviewRaw(){const e={},s={},r=await this.request({path:"/rest/overview",method:"GET",headers:s,query:e});return new F(r,n=>Ci(n))}async getOverview(){return await(await this.getOverviewRaw()).value()}async requestAdminConsoleReloadWebsocketUrlsRaw(){const e={},s={},r=await this.request({path:"/rest/overview/reloadWebsocketUrls",method:"GET",headers:s,query:e});return new re(r)}async requestAdminConsoleReloadWebsocketUrls(){await this.requestAdminConsoleReloadWebsocketUrlsRaw()}async requestSessionPoolDrainModeRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling requestSessionPoolDrainMode.");const s={},r={},n=await this.request({path:"/rest/overview/sessionpool/drain/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:s});return new re(n)}async requestSessionPoolDrainMode(e){await this.requestSessionPoolDrainModeRaw(e)}async requestSessionPoolReloadWebsocketUrlsRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling requestSessionPoolReloadWebsocketUrls.");const s={},r={},n=await this.request({path:"/rest/overview/sessionpool/reloadWebsocketUrls/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:s});return new re(n)}async requestSessionPoolReloadWebsocketUrls(e){await this.requestSessionPoolReloadWebsocketUrlsRaw(e)}async requestSessionPoolResumeRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling requestSessionPoolResume.");const s={},r={},n=await this.request({path:"/rest/overview/sessionpool/resume/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:s});return new re(n)}async requestSessionPoolResume(e){await this.requestSessionPoolResumeRaw(e)}async requestSessionPoolStopRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling requestSessionPoolStop.");const s={},r={},n=await this.request({path:"/rest/overview/sessionpool/stop/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:s});return new re(n)}async requestSessionPoolStop(e){await this.requestSessionPoolStopRaw(e)}async setVerboseModeRaw(e){if(e.verboseModeRequest===null||e.verboseModeRequest===void 0)throw new k("verboseModeRequest","Required parameter requestParameters.verboseModeRequest was null or undefined when calling setVerboseMode.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/overview/verbose",method:"POST",headers:r,query:s,body:Fo(e.verboseModeRequest)});return new re(n)}async setVerboseMode(e){await this.setVerboseModeRaw(e)}}class ca extends Ie{async getFeedbackUrlRaw(){const e={},s={},r=await this.request({path:"/rest/feedbackUrl",method:"POST",headers:s,query:e});return new ht(r)}async getFeedbackUrl(){return await(await this.getFeedbackUrlRaw()).value()}async getQuickStartRaw(){const e={},s={},r=await this.request({path:"/rest/quickstart",method:"GET",headers:s,query:e});return new F(r,n=>ki(n))}async getQuickStart(){return await(await this.getQuickStartRaw()).value()}async quickStartConfigRaw(e){if(e.quickStartConfig===null||e.quickStartConfig===void 0)throw new k("quickStartConfig","Required parameter requestParameters.quickStartConfig was null or undefined when calling quickStartConfig.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/quickstartconfig",method:"POST",headers:r,query:s,body:Pi(e.quickStartConfig)});return new ht(n)}async quickStartConfig(e){return await(await this.quickStartConfigRaw(e)).value()}}class da extends Ie{async downloadAdminConsoleLogsRaw(){const e={},s={};this.configuration&&this.configuration.apiKey&&(s["X-Download-Token"]=this.configuration.apiKey("X-Download-Token"));const r=await this.request({path:"/rest/logs/console/download",method:"GET",headers:s,query:e});return new F(r)}async downloadAdminConsoleLogs(){return await(await this.downloadAdminConsoleLogsRaw()).value()}async downloadServerLogsRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling downloadServerLogs.");if(e.type===null||e.type===void 0)throw new k("type","Required parameter requestParameters.type was null or undefined when calling downloadServerLogs.");const s={},r={};this.configuration&&this.configuration.apiKey&&(r["X-Download-Token"]=this.configuration.apiKey("X-Download-Token"));const n=await this.request({path:"/rest/logs/server/{id}/{type}/download".replace("{id}",encodeURIComponent(String(e.id))).replace("{type}",encodeURIComponent(String(e.type))),method:"GET",headers:r,query:s});return new F(n)}async downloadServerLogs(e){return await(await this.downloadServerLogsRaw(e)).value()}async getAdminConsoleLogsRaw(e){if(e.logRequest===null||e.logRequest===void 0)throw new k("logRequest","Required parameter requestParameters.logRequest was null or undefined when calling getAdminConsoleLogs.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/logs/console",method:"POST",headers:r,query:s,body:gt(e.logRequest)});return new F(n,i=>mt(i))}async getAdminConsoleLogs(e){return await(await this.getAdminConsoleLogsRaw(e)).value()}async getAutoScalingLogsRaw(e){if(e.logRequest===null||e.logRequest===void 0)throw new k("logRequest","Required parameter requestParameters.logRequest was null or undefined when calling getAutoScalingLogs.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/logs/scaling",method:"POST",headers:r,query:s,body:gt(e.logRequest)});return new F(n,i=>mt(i))}async getAutoScalingLogs(e){return await(await this.getAutoScalingLogsRaw(e)).value()}async getLogsOverviewRaw(e){const s={};e.type!==void 0&&(s.type=e.type),e.app!==void 0&&(s.app=e.app),e.page!==void 0&&(s.page=e.page),e.pageSize!==void 0&&(s.pageSize=e.pageSize),e.searchTerm!==void 0&&(s.searchTerm=e.searchTerm),e.orderBy!==void 0&&(s.orderBy=e.orderBy),e.orderDir!==void 0&&(s.orderDir=e.orderDir),e.overlap!==void 0&&(s.overlap=e.overlap);const r={},n=await this.request({path:"/rest/logs/overview",method:"GET",headers:r,query:s});return new F(n,i=>yi(i))}async getLogsOverview(e){return await(await this.getLogsOverviewRaw(e)).value()}async getServerLogsRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling getServerLogs.");if(e.type===null||e.type===void 0)throw new k("type","Required parameter requestParameters.type was null or undefined when calling getServerLogs.");if(e.logRequest===null||e.logRequest===void 0)throw new k("logRequest","Required parameter requestParameters.logRequest was null or undefined when calling getServerLogs.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/logs/server/{id}/{type}".replace("{id}",encodeURIComponent(String(e.id))).replace("{type}",encodeURIComponent(String(e.type))),method:"POST",headers:r,query:s,body:gt(e.logRequest)});return new F(n,i=>mt(i))}async getServerLogs(e){return await(await this.getServerLogsRaw(e)).value()}async getSessionLogsRaw(e){if(e.sessionPoolId===null||e.sessionPoolId===void 0)throw new k("sessionPoolId","Required parameter requestParameters.sessionPoolId was null or undefined when calling getSessionLogs.");if(e.instanceId===null||e.instanceId===void 0)throw new k("instanceId","Required parameter requestParameters.instanceId was null or undefined when calling getSessionLogs.");if(e.appPath===null||e.appPath===void 0)throw new k("appPath","Required parameter requestParameters.appPath was null or undefined when calling getSessionLogs.");if(e.logRequest===null||e.logRequest===void 0)throw new k("logRequest","Required parameter requestParameters.logRequest was null or undefined when calling getSessionLogs.");const s={};e.sessionPoolId!==void 0&&(s.sessionPoolId=e.sessionPoolId),e.instanceId!==void 0&&(s.instanceId=e.instanceId),e.appPath!==void 0&&(s.appPath=e.appPath);const r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/logs/session",method:"POST",headers:r,query:s,body:gt(e.logRequest)});return new F(n,i=>mt(i))}async getSessionLogs(e){return await(await this.getSessionLogsRaw(e)).value()}async getSessionPoolLogsRaw(e){if(e.id===null||e.id===void 0)throw new k("id","Required parameter requestParameters.id was null or undefined when calling getSessionPoolLogs.");if(e.logRequest===null||e.logRequest===void 0)throw new k("logRequest","Required parameter requestParameters.logRequest was null or undefined when calling getSessionPoolLogs.");const s={},r={};r["Content-Type"]="application/json";const n=await this.request({path:"/rest/logs/sessionpool/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"POST",headers:r,query:s,body:gt(e.logRequest)});return new F(n,i=>mt(i))}async getSessionPoolLogs(e){return await(await this.getSessionPoolLogsRaw(e)).value()}}class ua{constructor(){c(this,"config");c(this,"origConfig");c(this,"changed",!1);c(this,"filterToggle",!1);c(this,"searchTerm","");c(this,"stats");c(this,"statType",yt.Basic);c(this,"loadStats",async()=>{try{const e=await Gt.getScalingStats(this.statType);e&&O(()=>{this.stats=e})}catch(e){console.log("apiError",e)}});c(this,"clearConfigData",()=>{this.origConfig={},this.config={},this.changed=!1});c(this,"loadConfig",async()=>{try{const e=await Gt.getConfig();e&&O(()=>{this.clearConfigData(),this.origConfig=e,this.config=e,this.changed=!1})}catch(e){console.log("apiError",e)}});c(this,"updateConfigStore",e=>{this.config=e});c(this,"onRequestUpdate",()=>{this.updateFormStructure(Ft(this.config))});c(this,"resetConfig",()=>{this.config=ve(this.origConfig).clone(),this.loadConfig()});c(this,"setConfig",()=>{this.updateFormStructure(Ft(this.config)).then(()=>{Gt.setConfig(this.config).then(()=>{setTimeout(async()=>await this.loadConfig(),50),U(T.t("ok.changesAppliedSuccess"))})})});c(this,"updateFormStructure",async e=>{const s=await Gt.getMeta(e);s&&O(()=>{this.config={...this.config,...s},this.compareConfig()})});Ze(this)}isScalingEnabled(){return this.stats!=null&&Object.keys(this.stats).length>0}toggleStatType(){this.statType=this.statType==yt.Basic?yt.Extended:yt.Basic,this.loadStats()}setFilterToggle(e){this.searchTerm="",this.filterToggle=e||!this.filterToggle}setSearchTerm(e){this.searchTerm!==e&&(this.searchTerm=e)}get activeApply(){return this.changed}compareConfig(){if(this.origConfig&&this.config){const e=Ft(Ct(this.origConfig)),s=Ft(Ct(this.config));this.changed=!ve(e).isEqual(s)}}get getUtilizationStats(){const e=[T.t("scaling.utilization.freeSlots"),T.t("scaling.utilization.takenSlots")];return{names:e,keys:["freeSlots","takenSlots"],dataset:at(this.stats,["freeSlots","takenSlots"]),tickFormat:(s,r)=>s+"",tooltipFormatter:(s,r)=>{let n=r;return r=="freeSlots"&&(n=e[0]),r=="takenSlots"&&(n=e[1]),[s,n]}}}get getStatusStats(){const e=[T.t("scaling.status.active"),T.t("scaling.status.autoDrained"),T.t("scaling.status.drained")];return{names:e,keys:["activeSP","autodrainedSP","drainedSP"],dataset:at(this.stats,["activeSP","autodrainedSP","drainedSP"]),tickFormat:(s,r)=>s+"",tooltipFormatter:(s,r)=>{let n=r;return r=="activeSP"&&(n=e[0]),r=="autodrainedSP"&&(n=e[1]),r=="drainedSP"&&(n=e[2]),[s,n]}}}}class ha{constructor(){c(this,"permissionsStore");c(this,"globalStore");c(this,"overviewStore");c(this,"configStore");c(this,"sessionsStore");c(this,"logsStore");c(this,"scalingStore");this.permissionsStore=new Zn,this.globalStore=new Qn(this),this.overviewStore=new Xn,this.configStore=new Yn(this),this.sessionsStore=new ei(this),this.logsStore=new ti(this),this.scalingStore=new ua}}const St=new ha,mr=y.createContext(St),pa=({children:t,store:e})=>o.jsx(mr.Provider,{value:e,children:t}),M=()=>y.useContext(mr);function Zt(t,e,s){for(const r of s){const n=`${e}_${r}`,i=localStorage.getItem(n);if(!i)continue;const a=JSON.parse(i);t[r]=a}Ir(()=>{for(const r of s){const n=`${e}_${r}`;localStorage.setItem(n,JSON.stringify(Ct(t[r])))}})}const ga="_wHomePage_kkjgb_1",ma="_statusAlign_kkjgb_5",fa="_scrollx_kkjgb_9",wa="_logCell_kkjgb_14",_a="_listHeading_kkjgb_19",va="_logItem_kkjgb_26",ya="_fullWColl_kkjgb_39",ba="_headingRow_kkjgb_51",Sa="_downloadIcon_kkjgb_59",xa="_dropdown_kkjgb_63",Ca="_noDataHeight_kkjgb_75",Ta="_elips_kkjgb_79",Ia="_pointer_kkjgb_86",Ra="_highlight_kkjgb_90",Aa="_pr2_kkjgb_96",ka="_logsRow_kkjgb_100",La="_vTable_kkjgb_117",Pa="_refresh_kkjgb_122",qe={wHomePage:ga,statusAlign:ma,scrollx:fa,logCell:wa,listHeading:_a,logItem:va,fullWColl:ya,headingRow:ba,downloadIcon:Sa,dropdown:xa,noDataHeight:Ca,elips:Ta,pointer:Ia,highlight:Ra,pr2:Aa,logsRow:ka,vTable:La,refresh:Pa},Na=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tt=q(({text:t})=>{const{logsStore:e}=M(),s=e.searchTerm?Na(e.searchTerm):"",r=s?t==null?void 0:t.split(new RegExp(`(${s})`,"gi")):[t||""];return o.jsxs("span",{children:[" ",r==null?void 0:r.map((n,i)=>o.jsx("span",{className:_({[qe.highlight]:n.toLowerCase()===e.searchTermLowerCase}),children:n},i))," "]})}),_e=({label:t="",color:e=t.toLowerCase(),className:s,onClick:r,dotOnly:n=!1,highlight:i=!0,loading:a=!1})=>{const l=()=>t?t.split("_").join(" ").toLowerCase():"";return a?o.jsxs("span",{"data-test":"status-"+t,className:_($t.root,s),children:[o.jsx(be,{size:16,color:"neutral"}),o.jsx(Tt,{text:l()})]}):o.jsxs("span",{"data-test":"status-"+t,onClick:r,className:_($t.root,s),children:[o.jsx("div",{className:_($t.dot,$t[e?e.trim().toLowerCase():""])}),!n&&(i?o.jsx(Tt,{text:l()}):l())]})},Da="_root_1ilx2_1",ja="_content_1ilx2_10",Oa="_progress_1ilx2_28",Ea="_danger_1ilx2_34",Fa="_primary_1ilx2_37",$a="_success_1ilx2_40",Ma="_warning_1ilx2_43",sf={root:Da,content:ja,progress:Oa,danger:Ea,primary:Fa,success:$a,warning:Ma},Ga="_wButtonDefault_1fclw_1",qa="_bLoading_1fclw_23",Ba="_large_1fclw_27",za="_medium_1fclw_36",Va="_small_1fclw_45",Ua="_danger_1fclw_54",Ha="_blue_1fclw_64",Wa="_neutral_1fclw_74",Ja="_neutralTrans_1fclw_86",Ka="_white_1fclw_98",Za="_transparent_1fclw_107",Qa="_shadow_1fclw_149",Xa="_icon_1fclw_165",Ya="_circle_1fclw_193",el="_rotateAnimation_1fclw_1",ge={wButtonDefault:Ga,bLoading:qa,large:Ba,medium:za,small:Va,danger:Ua,blue:Ha,neutral:Wa,neutralTrans:Ja,white:Ka,transparent:Za,shadow:Qa,icon:Xa,circle:Ya,rotateAnimation:el},tl={padding:"0 5px"},Wt=({bDisabled:t,bLoading:e,color:s="blue",size:r="medium",iconColor:n="white",className:i,classNameLabel:a,hover:l,label:d,icon:h,type:m,style:g,progress:f,onClick:p,dataTest:v})=>o.jsx("button",{className:_(ge.wButtonDefault,e&&ge.bLoading,i,ge[s],ge[r],l&&ge[l],{[ge.icon]:h}),disabled:t||e,style:e?{...g,...tl}:g,type:m||"button","data-test":v||d||h,onClick:p,children:e?o.jsx(be,{className:ge.wSpinner}):d?o.jsx("label",{className:_(a),children:d}):h&&typeof h=="string"?o.jsx(D,{size:r,name:h,color:n,className:f&&f<100?ge.circle:""}):h||null}),sl="_wButtonGroup_jw1u0_1",rl="_wSubButton_jw1u0_4",rs={wButtonGroup:sl,wSubButton:rl},fr=({buttons:t,className:e})=>o.jsx("div",{className:_(rs.wButtonGroup,e),children:t.filter(s=>s.show==null||s.show).map((s,r)=>o.jsx(H.Fragment,{children:s.tooltip?o.jsx(ee,{content:s.tooltip,children:o.jsx("span",{className:rs.wSubButton,children:o.jsx(Wt,{...s,className:_(s.className)})})}):o.jsx(Wt,{...s,className:_(rs.wSubButton,s.className)})},"btn_"+r))}),ol=({bDisabled:t,children:e,className:s,onClick:r,color:n="",size:i="",dataTest:a})=>o.jsx("button",{className:_(ge.wButtonDefault,s,ge[n],ge[i]),disabled:t,onClick:r,"data-test":a,children:e});class G extends H.Component{render(){return o.jsx(Wt,{...this.props})}}c(G,"Default",Wt),c(G,"Group",fr),c(G,"UI",ol);const nl="_wButtonIcon_r55lx_1",il="_changesTracking_r55lx_10",al="_defaultHover_r55lx_11",ll="_btntxt_r55lx_15",cl="_customHover_r55lx_18",dl="_disabled_r55lx_18",ul="_active_r55lx_38",hl="_btnIcon_r55lx_38",pl="_btntxtcenter_r55lx_51",gl="_progress_r55lx_67",ml="_flex_r55lx_77",B={wButtonIcon:nl,changesTracking:il,defaultHover:al,btntxt:ll,customHover:cl,disabled:dl,active:ul,btnIcon:hl,btntxtcenter:pl,progress:gl,flex:ml},tt=({className:t,onClick:e,onClickBtn:s,active:r,icon:n,children:i,badge:a,badgeColor:l,btnProgress:d,btnIsReloading:h=!1,tip:m,btnReloadComponent:g,dataTest:f,bDisabled:p})=>{const v=!!s,C=()=>{h||e()},R=()=>{h||s&&s()};return o.jsx(G.UI,{bDisabled:p,dataTest:f,className:_(B.wButtonIcon,{[B.active]:r},{[B.customHover]:v},t),children:a?o.jsxs(o.Fragment,{children:[o.jsx(cr,{bOnBadge:!0,className:_(B.changesTracking),vertical:"top",side:"right",color:l||"danger",size:"medium",content:a,onClick:e,dataTest:f+"Coin",children:o.jsx(D,{className:B.btnIcon,name:n})}),o.jsx("div",{className:_(B.btntxt,{[B.disabled]:h}),onClick:C,children:i})]}):o.jsx(o.Fragment,{children:m?o.jsx(o.Fragment,{children:o.jsx(ee,{content:m,children:o.jsxs("div",{className:B.flex,children:[h&&g?o.jsx(o.Fragment,{children:o.jsx("div",{className:_(B.btnIcon,{[B.defaultHover]:!v},{[B.progress]:r&&typeof d=="number"},{[B.disabled]:h}),children:g})}):o.jsx(o.Fragment,{children:o.jsx(D,{className:_(B.btnIcon,{[B.defaultHover]:!v},{[B.progress]:r&&typeof d=="number"},{[B.disabled]:h}),name:n,progress:d,onClick:s?R:C})}),o.jsx("div",{className:_(B.btntxt,B.btntxtcenter,{[B.disabled]:h}),onClick:C,children:i})]})})}):o.jsxs(o.Fragment,{children:[o.jsx(D,{className:_(B.btnIcon,{[B.defaultHover]:!v},{[B.progress]:typeof d=="number"},{[B.disabled]:h}),name:n,progress:d,onClick:s?R:C}),o.jsx("div",{className:_(B.btntxt,{[B.disabled]:h}),onClick:C,children:i})]})})})},fl="_root_xus2i_1",wl="_dark_xus2i_10",_l="_visible_xus2i_16",os={root:fl,dark:wl,visible:_l},vl=y.memo(function({visible:e,dark:s=!1,zIndex:r,onClick:n,className:i}){return o.jsx("div",{className:_(os.root,e?os.visible:"",i,{[os.dark]:s}),style:{zIndex:r},onClick:n})}),yl="_wDivider_nt20j_1",bl="_wVertical_nt20j_6",Ms={wDivider:yl,wVertical:bl},ns=({className:t,vertical:e=!1,margin:s=5})=>o.jsx("div",{className:_(Ms.wDivider,e&&Ms.wVertical,t),style:{margin:e?`0 ${s}px`:`${s}px 0`}}),Sl="_wInput_9fmhx_1",xl="_wLabel_9fmhx_6",Cl="_tLabel_9fmhx_10",Tl="_fInput_9fmhx_17",Il="_hidden_9fmhx_25",Rl="_inputDiv_9fmhx_42",Al="_visibility_9fmhx_47",kl="_tError_9fmhx_57",Ll="_iClear_9fmhx_62",de={wInput:Sl,wLabel:xl,tLabel:Cl,fInput:Tl,hidden:Il,inputDiv:Rl,visibility:Al,tError:kl,iClear:Ll},Pl=({bAutoFocus:t,bClearable:e,bDisabled:s,bReadOnly:r,bRequired:n,bTextArea:i,className:a,classNameError:l,classNameInput:d,classNameLabel:h,error:m,icon:g,id:f,label:p,max:v,maxLength:C,min:R,minLength:x,name:w,placeholder:b=T.t("ENTER_VALUE"),type:S="text",value:E="",dataTest:Q,onClose:P,onBlur:X,onChange:J,onKeyPress:he})=>{const oe=H.createRef(),[Ee,At]=y.useState(!1),Xt=y.useCallback(()=>{At(K=>!K)},[At]),V=()=>{const K=new Event("input",{bubbles:!0});oe.current&&J&&(oe.current.value="",oe.current.dispatchEvent(K),J(K))};return o.jsxs("div",{className:_(de.wInput,a,S),children:[p&&S!=="hidden"&&o.jsxs("div",{className:de.wLabel,children:[g&&g.position==="labelLeft"&&o.jsx(D,{...g}),o.jsx("label",{className:_(de.tLabel,n&&"gInputRequired",h,{[de.disabled]:s}),htmlFor:f||"input",children:p}),g&&g.position==="labelRight"&&o.jsx(D,{...g})]}),i?o.jsx("textarea",{ref:oe,autoFocus:t,className:_(de.fInput,d),disabled:s,id:f,maxLength:C,minLength:x,placeholder:b,readOnly:r,value:E,onChange:J,onBlur:X,onKeyPress:he}):o.jsxs("div",{className:de.inputDiv,children:[o.jsx("input",{ref:oe,autoFocus:t,className:_(de.fInput,d,{[de.password]:S==="password"}),disabled:s,id:f,max:v,maxLength:C,min:R,minLength:x,name:w,placeholder:b,readOnly:r,type:S==="password"&&!Ee?"password":S==="password"?"text":S,value:E,onChange:J,onBlur:X,onKeyPress:he,"data-test":Q}),S==="password"&&o.jsx(D,{className:de.visibility,color:Ee?"primary":"neutral",name:"visibility",size:"small",onClick:Xt}),e?o.jsx(D,{className:de.visibility,name:"close",size:"small",onClick:V}):P?o.jsx(D,{dataTest:Q+"Close",className:de.visibility,name:"close",size:"small",onClick:()=>{V(),P()}}):null]}),m&&o.jsx("span",{className:_(de.tError,l),children:m})]})};class It extends H.Component{render(){return o.jsx(Pl,{...this.props})}}const Nl="_wrapper_xvuie_1",Dl="_right_xvuie_5",jl="_disabled_xvuie_8",Ol="_root_xvuie_15",El="_left_xvuie_29",Fl="_circle_xvuie_35",$l="_on_xvuie_41",Ml="_small_xvuie_44",Gl="_medium_xvuie_50",ql="_large_xvuie_61",Le={wrapper:Nl,right:Dl,disabled:jl,root:Ol,left:El,circle:Fl,on:$l,small:Ml,medium:Gl,large:ql},Gs=({children:t,className:e,size:s="medium",position:r="left",value:n=!1,disabled:i=!1,onClick:a,dataTest:l})=>{const d=h=>{i||a&&a(h)};return o.jsxs("div",{"data-test":l,className:_(Le.wrapper,Le[r],{[Le.disabled]:i},e),children:[o.jsx("span",{className:_(Le.root,Le[s],Le[r],{[Le.on]:n}),onClick:d,"aria-pressed":"false",children:o.jsx("span",{"aria-hidden":"true",className:Le.circle})}),t]})},Bl="_appsFilter_yvaq3_1",zl="_input_yvaq3_5",qs={appsFilter:Bl,input:zl},Vl=({value:t="",onChange:e,onClose:s,className:r,inputClassName:n})=>{const{t:i}=W();return o.jsx("div",{className:_(qs.appsFilter,r),children:o.jsx(It,{dataTest:"searchInput",classNameInput:_(qs.input,n),type:"text",placeholder:i("general.search"),value:t,onChange:e,onClose:s,bAutoFocus:!0})})},Ul="_wNoData_13ul9_1",Hl={wNoData:Ul},Cs=({className:t,icon:e="info",message:s=T.t("general.noData"),children:r})=>o.jsxs("div",{className:_(Hl.wNoData,t),children:[o.jsx(D,{name:e}),o.jsx("span",{children:s}),r]}),Wl="_wSpinner_knjl6_1",Jl="_rotator_knjl6_1",Kl="_primary_knjl6_4",Zl="_white_knjl6_7",Ql="_neutral_knjl6_10",Xl="_path_knjl6_22",Yl="_dash_knjl6_1",ec="_colors_knjl6_1",is={wSpinner:Wl,rotator:Jl,primary:Kl,white:Zl,neutral:Ql,path:Xl,dash:Yl,colors:ec},be=({className:t,size:e,color:s="primary"})=>o.jsx("svg",{className:_(is.wSpinner,is[s],t),width:e||"45px",height:e||"45px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("circle",{className:is.path,fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})}),tc="_wFullscreen_jsjbr_1",sc={wFullscreen:tc},rc=({children:t,className:e})=>o.jsx("div",{className:_(sc.wFullscreen,e),children:t??o.jsx(be,{})}),oc="_loaderLine_s58nr_1",nc="_loading_s58nr_1",ic={loaderLine:oc,loading:nc},ac=({bLoading:t,position:e,className:s})=>{const r={};return e==="bottom"&&(r.bottom=0),t?o.jsx("div",{className:_(ic.loaderLine,s),style:r,children:o.jsx("div",{})}):null},lc="_wFullscreenBranded_1bt8s_1",cc={wFullscreenBranded:lc},dc=""+new URL("webswingLogoText-b9cd4d22.svg",import.meta.url).href,uc=({children:t,className:e})=>o.jsx("div",{className:_(cc.wFullscreenBranded,e),children:t??o.jsxs(o.Fragment,{children:[o.jsx("img",{src:te(z,dc),height:124,alt:"Webswing - Admin Console"}),o.jsx(be,{})]})});class De extends H.Component{render(){return o.jsx(be,{...this.props})}}c(De,"Fullscreen",rc),c(De,"Line",ac),c(De,"Spinner",be),c(De,"Branded",uc);const hc="_root_1pewg_1",pc="_errorDetailsContent_1pewg_5",gc="_hasError_1pewg_16",as={root:hc,errorDetailsContent:pc,hasError:gc},rf=q(function({loadMessage:e="",className:s,onClick:r,status:n}){const{globalStore:i}=M(),a=i.countStatuses(n,"Running"),l=i.countStatuses(n,"Stopped"),d=i.countStatuses(n,"Error"),{t:h}=W(),[m,g]=y.useState(!1),f=()=>n!=null&&n.length==1&&n[0].status==pr.Error&&n[0].errorDetails!=null&&n[0].errorDetails.length>0,p=()=>{f()&&g(!0)},v=()=>f()?n[0].errorDetails:"";return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:as.root,children:e?o.jsx(lr,{color:"neutral",label:e}):o.jsxs("span",{className:f()?as.hasError:"",children:[a?o.jsx(_e,{color:"success",label:d?a+" -"+h("apps.running"):h("apps.running")}):null,l?o.jsx(_e,{color:"warning",label:h("apps.stopped")}):null,d?o.jsx(_e,{color:"danger",label:h("apps.error"),onClick:p}):null]})}),o.jsx(Is,{bOpen:m,title:h("error.securityModule.dialogTitle"),footer:!1,onToggle:()=>g(!1),children:o.jsx("div",{className:as.errorDetailsContent,children:o.jsx("pre",{children:v()})})})]})}),mc="_root_16hy7_1",fc="_title_16hy7_6",wc="_subtitle_16hy7_12",_c="_avatar_16hy7_17",vc="_huge_16hy7_21",yc="_large_16hy7_33",bc="_medium_16hy7_45",Sc="_small_16hy7_57",of={root:mc,title:fc,subtitle:wc,avatar:_c,huge:vc,large:yc,medium:bc,small:Sc},xc="_wBackground_163tr_1",Cc="_wDialog_163tr_18",Tc="_wHeader_163tr_28",Ic="_wClose_163tr_31",Rc="_wContent_163tr_37",Ac="_wFooter_163tr_42",st={wBackground:xc,wDialog:Cc,wHeader:Tc,wClose:Ic,wContent:Rc,wFooter:Ac};class Ts extends H.Component{constructor(){super(...arguments);c(this,"dialogBg",H.createRef());c(this,"mouseDownOnBg",!1);c(this,"onToggle",s=>{const{bOpen:r,onToggle:n}=this.props;s.preventDefault(),n==null||n(!r)});c(this,"onMouseDown",s=>{this.mouseDownOnBg=this.isTargetDialogBg(s)});c(this,"onMouseUp",s=>{this.mouseDownOnBg&&this.isTargetDialogBg(s)&&this.onToggle(s),this.mouseDownOnBg=!1});c(this,"isTargetDialogBg",s=>(s&&s.target&&this.dialogBg.current&&this.dialogBg.current==s.target)??!1);c(this,"onConfirm",()=>{const{onConfirm:s}=this.props;s==null||s()})}render(){const{bOpen:s,children:r,className:n,classNameContent:i,title:a,onToggle:l,labelOk:d,labelCancel:h,footer:m}=this.props;return s?vs.createPortal(o.jsx(o.Fragment,{children:o.jsx("div",{ref:this.dialogBg,className:st.wBackground,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,children:o.jsxs("div",{"data-test":"Dialog-"+a,className:_(st.wDialog,n),children:[o.jsx(D,{className:st.wClose,name:"close",onClick:l}),o.jsx("div",{className:_(st.wHeader),children:o.jsx("span",{children:a})}),o.jsx("div",{className:_(st.wContent,i),children:r}),m?o.jsxs("div",{className:_(st.wFooter),children:[o.jsx(G,{color:"neutral",label:h||"Cancel",size:"small",onClick:this.onToggle}),o.jsx(G,{color:"danger",label:d||"Confirm",size:"small",onClick:this.onConfirm})]}):null]})})}),document.body):null}}c(Ts,"defaultProps",{footer:!0,title:"DIALOG"});class kc extends H.Component{constructor(){super(...arguments);c(this,"state",{bOpen:!!this.props.bOpen});c(this,"onToggle",s=>()=>{this.setState(r=>({bOpen:s??!r.bOpen}))})}render(){const{children:s,classNameTrigger:r,trigger:n,...i}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:_(r),onClick:this.onToggle(!0),children:n}),o.jsx(Ts,{...i,bOpen:this.state.bOpen,onToggle:this.onToggle,children:s({...this.state,onToggle:a=>this.onToggle(a)})})]})}}class Is extends H.Component{render(){return o.jsx(Ts,{...this.props})}}c(Is,"RP",kc);const Lc="_root_1gx02_1",Pc="_h1_1gx02_7",Nc="_h2_1gx02_12",Dc="_h3_1gx02_17",jc="_buttonsWrap_1gx02_22",Mt={root:Lc,h1:Pc,h2:Nc,h3:Dc,buttonsWrap:jc},ct=({button:t,title:e,variant:s="h1",className:r,classes:n={}})=>o.jsxs("div",{className:_(Mt.root,r,n.root),children:[y.createElement(s,{children:e,className:_(Mt.heading,Mt[s],n.heading)}),t?o.jsx("div",{className:_(Mt.buttonsWrap,n.buttonsWrap),children:t}):null]}),Oc="_wList_1bnbn_1",Ec="_wListVirtualized_1bnbn_14",Fc="_wListRegular_1bnbn_23",$c="_noWrap_1bnbn_29",Mc="_fab_1bnbn_33",rt={wList:Oc,wListVirtualized:Ec,wListRegular:Fc,noWrap:$c,fab:Mc};class dt extends H.Component{constructor(s){super(s);c(this,"cache");c(this,"refList",H.createRef());c(this,"onScroll",s=>{const{threshold:r,onReachEnd:n}=this.props;s.scrollTop>=s.scrollHeight-s.clientHeight-(r||0)?(n==null||n(),this.setState({scrolledtoBottom:!0})):(setTimeout(()=>this.scrollingDirection="",100),this.setState({scrolledtoBottom:!1}))});c(this,"scrollingDirection","");c(this,"scrollTo",s=>{var n,i;const r=document.querySelector(".ReactVirtualized__List");if(r)switch(s){case"bottom":this.scrollingDirection="bottom";const a=r.scrollHeight-r.clientHeight;a>r.scrollTop&&((n=this.refList.current)==null||n.scrollToPosition(a),requestAnimationFrame(()=>{this.scrollingDirection==="bottom"&&this.scrollTo("bottom")}));break;case"top":this.scrollingDirection="top",r.scrollTop>0&&((i=this.refList.current)==null||i.scrollToPosition(0),requestAnimationFrame(()=>{this.scrollingDirection==="top"&&this.scrollTo("top")}));break}});c(this,"isScrollable",()=>{const s=document.querySelector(".ReactVirtualized__List");if(s)return s.scrollHeight>s.clientHeight});c(this,"scrollToggle",()=>{this.state.scrolledtoBottom?this.scrollTo("top"):this.scrollTo("bottom")});c(this,"renderNoData",()=>o.jsx("div",{className:_(rt.wListVirtualized),children:o.jsx(Cs,{...this.props.noData})}));c(this,"renderRow",({index:s,parent:r,key:n,style:i})=>{const{collection:a,item:l,bstaticHeight:d}=this.props;return o.jsx(Ar,{cache:this.cache,parent:r,columnIndex:0,rowIndex:s,children:o.jsx("div",{style:{...i},className:d?rt.noWrap:"",children:l(a&&{...a[s],index:s})},n)},n)});c(this,"renderList",()=>{const{bVirtualized:s,collection:r,item:n,rowHeight:i,rowClass:a,bstaticHeight:l,minListWidth:d}=this.props;return s?o.jsxs("div",{className:rt.wList,children:[r!=null&&r.length?o.jsx(kr.AutoSizer,{children:({height:h,width:m})=>{let g=m;return d&&(g=m<d?d:m),o.jsx(Lr.List,{ref:this.refList,rowRenderer:this.renderRow,rowCount:(r==null?void 0:r.length)||0,rowHeight:l?i:this.cache.rowHeight,className:_(rt.wListVirtualized),height:h,overscanRowCount:5,deferredMeasurementCache:this.cache,width:l?g:m,onScroll:this.onScroll})}}):this.renderNoData(),this.isScrollable()&&o.jsx(G,{className:rt.fab,icon:this.state.scrolledtoBottom?"arrow_upward":"arrow_downward",onClick:()=>this.scrollToggle()})]}):o.jsx("div",{className:rt.wListRegular,children:r?r.map((h,m)=>o.jsx("div",{className:a,style:{height:i},children:n({...h,index:m})},"row_"+m)):this.renderNoData()})});this.state={scrolledtoBottom:s.bscrollToBottom,scrollCount:2};const r=new Rr({fixedWidth:!0,defaultHeight:60});this.cache=r}componentDidMount(){window.addEventListener("resize",()=>this.recalculateSize()),this.props.bscrollToBottom&&setTimeout(()=>this.scrollTo("bottom"),200)}componentDidUpdate(s){var d,h,m;const{collection:r,bscrollToBottom:n,bstaticHeight:i,searched:a}=this.props,{scrolledtoBottom:l}=this.state;n&&(r==null?void 0:r.length)!==((d=s.collection)==null?void 0:d.length)&&(i||(this.cache.clearAll(),(h=this.refList.current)==null||h.recomputeRowHeights()),l&&this.scrollTo("bottom")),a!==s.searched&&((m=this.refList.current)==null||m.forceUpdateGrid())}componentWillUnmount(){window.removeEventListener("resize",()=>this.recalculateSize())}recalculateSize(){setTimeout(()=>{var s;this.props.bstaticHeight||(this.cache.clearAll(),(s=this.refList.current)==null||s.recomputeRowHeights())},300)}onScrollTo(s){var r;(r=this.refList.current)==null||r.scrollToRow(s)}render(){const{bLoading:s,className:r}=this.props;return o.jsxs("div",{className:_(r),children:[o.jsx(De.Line,{bLoading:s}),this.renderList()]})}}c(dt,"defaultProps",{rowHeight:50,treshold:0,bscrollToBottom:!1,bstaticHeight:!0});const Gc="_root_c6d0w_1",qc="_pageHeaderTitle_c6d0w_11",nf={root:Gc,pageHeaderTitle:qc},Bc="_refDiv_da1z7_1",zc="_left_da1z7_4",Vc="_right_da1z7_7",Uc="_root_da1z7_11",Hc="_card_da1z7_17",Wc="_boxInverted_da1z7_22",Jc="_content_da1z7_26",Kc="_open_da1z7_45",Pe={refDiv:Bc,left:zc,right:Vc,root:Uc,card:Hc,boxInverted:Wc,content:Jc,open:Kc},Zc="_wCard_ax5z7_1",Qc="_heading_ax5z7_10",Xc="_clickable_ax5z7_14",Yc="_cardContent_ax5z7_21",bt={wCard:Zc,heading:Qc,clickable:Xc,cardContent:Yc},ye=({children:t,className:e,titleClassName:s,margin:r,title:n,onClick:i,classes:a={}})=>{const l=()=>{i==null||i()};return o.jsxs(o.Fragment,{children:[n&&o.jsx(ct,{className:_(bt.heading,s),variant:"h3",title:n}),o.jsx("div",{className:_(bt.wCard,i&&["gClickable",bt.clickable],e),style:{margin:r},onClick:l,children:o.jsx("div",{className:_(bt.wContent,a.content),children:t})})]})},af=({children:t,className:e,onClick:s})=>{const r=()=>{s==null||s()};return o.jsx("div",{className:_(bt.cardContent,e),onClick:r,children:t})},ed="_wGrid_uol4r_1",td="_wRow_uol4r_5",sd="_spacing_uol4r_8",rd="_spacing05_uol4r_11",od="_spacing1_uol4r_14",nd="_spacing2_uol4r_17",id="_spacing3_uol4r_20",ad="_spacing4_uol4r_23",ld="_spacing5_uol4r_26",cd="_spacing6_uol4r_29",dd="_spacing7_uol4r_32",ud="_spacing8_uol4r_35",hd="_spacing9_uol4r_38",pd="_spacing10_uol4r_41",gd="_itemsPerRow1_uol4r_44",md="_itemsPerRow2_uol4r_47",fd="_itemsPerRow3_uol4r_50",wd="_itemsPerRow4_uol4r_53",_d="_itemsPerRow5_uol4r_56",vd="_itemsPerRow6_uol4r_59",yd="_itemsPerRow7_uol4r_62",bd="_itemsPerRow8_uol4r_65",Sd="_itemsPerRow9_uol4r_68",xd="_itemsPerRow10_uol4r_71",Cd="_wColumn_uol4r_74",ot={wGrid:ed,wRow:td,spacing:sd,spacing05:rd,spacing1:od,spacing2:nd,spacing3:id,spacing4:ad,spacing5:ld,spacing6:cd,spacing7:dd,spacing8:ud,spacing9:hd,spacing10:pd,itemsPerRow1:gd,itemsPerRow2:md,itemsPerRow3:fd,itemsPerRow4:wd,itemsPerRow5:_d,itemsPerRow6:vd,itemsPerRow7:yd,itemsPerRow8:bd,itemsPerRow9:Sd,itemsPerRow10:xd,wColumn:Cd},$=t=>{const{alignItems:e,bColumn:s,children:r,className:n,flex:i,flexWrap:a,itemsPerRow:l,justifyContent:d,spacing:h,style:m,onClick:g,dataTest:f=""}=t,p=_(ot.wGrid,s?ot.wColumn:ot.wRow,h&&[ot.spacing,ot["spacing"+h]],l&&ot["itemsPerRow"+l],g&&"gClickable",n),v={alignItems:e,justifyContent:d,flex:i,flexWrap:l?"wrap":a,...m},C=()=>{g==null||g()};return o.jsx("div",{"data-test":f,className:p,style:v,onClick:C,children:r})},Td="_Grid_container_1gr10_1",Id="_Grid_item_1gr10_7",Rd="_Grid_xs_1_1gr10_10",Ad="_Grid_xs_2_1gr10_13",kd="_Grid_xs_3_1gr10_16",Ld="_Grid_xs_4_1gr10_19",Pd="_Grid_xs_5_1gr10_22",Nd="_Grid_xs_6_1gr10_25",Dd="_Grid_xs_7_1gr10_28",jd="_Grid_xs_8_1gr10_31",Od="_Grid_xs_9_1gr10_34",Ed="_Grid_xs_10_1gr10_37",Fd="_Grid_xs_11_1gr10_40",$d="_Grid_xs_12_1gr10_43",Md="_Grid_sm_1_1gr10_47",Gd="_Grid_sm_2_1gr10_50",qd="_Grid_sm_3_1gr10_53",Bd="_Grid_sm_4_1gr10_56",zd="_Grid_sm_5_1gr10_59",Vd="_Grid_sm_6_1gr10_62",Ud="_Grid_sm_7_1gr10_65",Hd="_Grid_sm_8_1gr10_68",Wd="_Grid_sm_9_1gr10_71",Jd="_Grid_sm_10_1gr10_74",Kd="_Grid_sm_11_1gr10_77",Zd="_Grid_sm_12_1gr10_80",Qd="_Grid_md_1_1gr10_85",Xd="_Grid_md_2_1gr10_88",Yd="_Grid_md_3_1gr10_91",eu="_Grid_md_4_1gr10_94",tu="_Grid_md_5_1gr10_97",su="_Grid_md_6_1gr10_100",ru="_Grid_md_7_1gr10_103",ou="_Grid_md_8_1gr10_106",nu="_Grid_md_9_1gr10_109",iu="_Grid_md_10_1gr10_112",au="_Grid_md_11_1gr10_115",lu="_Grid_md_12_1gr10_118",cu="_Grid_lg_1_1gr10_123",du="_Grid_lg_2_1gr10_126",uu="_Grid_lg_3_1gr10_129",hu="_Grid_lg_4_1gr10_132",pu="_Grid_lg_5_1gr10_135",gu="_Grid_lg_6_1gr10_138",mu="_Grid_lg_7_1gr10_141",fu="_Grid_lg_8_1gr10_144",wu="_Grid_lg_9_1gr10_147",_u="_Grid_lg_10_1gr10_150",vu="_Grid_lg_11_1gr10_153",yu="_Grid_lg_12_1gr10_156",bu="_Grid_spacing_sm_1gr10_160",Su="_Grid_spacing_md_1gr10_166",xu="_Grid_spacing_lg_1gr10_172",Cu="_Grid_justifyContent_center_1gr10_184",Tu="_Grid_alignItems_center_1gr10_196",lf={Grid_container:Td,Grid_item:Id,Grid_xs_1:Rd,Grid_xs_2:Ad,Grid_xs_3:kd,Grid_xs_4:Ld,Grid_xs_5:Pd,Grid_xs_6:Nd,Grid_xs_7:Dd,Grid_xs_8:jd,Grid_xs_9:Od,Grid_xs_10:Ed,Grid_xs_11:Fd,Grid_xs_12:$d,Grid_sm_1:Md,Grid_sm_2:Gd,Grid_sm_3:qd,Grid_sm_4:Bd,Grid_sm_5:zd,Grid_sm_6:Vd,Grid_sm_7:Ud,Grid_sm_8:Hd,Grid_sm_9:Wd,Grid_sm_10:Jd,Grid_sm_11:Kd,Grid_sm_12:Zd,Grid_md_1:Qd,Grid_md_2:Xd,Grid_md_3:Yd,Grid_md_4:eu,Grid_md_5:tu,Grid_md_6:su,Grid_md_7:ru,Grid_md_8:ou,Grid_md_9:nu,Grid_md_10:iu,Grid_md_11:au,Grid_md_12:lu,Grid_lg_1:cu,Grid_lg_2:du,Grid_lg_3:uu,Grid_lg_4:hu,Grid_lg_5:pu,Grid_lg_6:gu,Grid_lg_7:mu,Grid_lg_8:fu,Grid_lg_9:wu,Grid_lg_10:_u,Grid_lg_11:vu,Grid_lg_12:yu,Grid_spacing_sm:bu,Grid_spacing_md:Su,Grid_spacing_lg:xu,"Grid_justifyContent_flex-start":"_Grid_justifyContent_flex-start_1gr10_178","Grid_justifyContent_flex-end":"_Grid_justifyContent_flex-end_1gr10_181",Grid_justifyContent_center:Cu,"Grid_justifyContent_space-between":"_Grid_justifyContent_space-between_1gr10_187","Grid_alignItems_flex-start":"_Grid_alignItems_flex-start_1gr10_190","Grid_alignItems_flex-end":"_Grid_alignItems_flex-end_1gr10_193",Grid_alignItems_center:Tu};const Iu="_tableSkeleton_1vrax_1",Ru="_item_1vrax_8",Au="_itemAnimation_1vrax_19",ku="_LinearWave_1vrax_1",Lu="_animation_1vrax_1",je={tableSkeleton:Iu,item:Ru,itemAnimation:Au,LinearWave:ku,animation:Lu},Pu=({className:t})=>o.jsx("div",{className:_(je.wSkeletonCircle,t)}),Nu=({className:t})=>o.jsx("div",{className:_(je.wSkeletonLine,t)}),Du=({className:t})=>o.jsx("div",{className:_(je.wSkeletonSquare,t)}),ju=t=>{const{count:e,rowHeight:s,className:r,borderRadius:n,style:i}=t,a=Array(e||5).fill(1),l={height:s,borderRadius:n};return o.jsx("div",{style:i,className:_(je.wSkeletonTable,r),children:a.map((d,h)=>o.jsx("div",{className:_(je.item,je.itemAnimation),style:{...l,animationDelay:`${.05*h}s`}},h))})},Bs=({bLoading:t,children:e})=>t?H.Children.map(e,(s,r)=>o.jsxs("div",{style:{position:"relative"},children:[o.jsx("div",{className:_(je.item,je.itemAnimation),style:{animationDelay:`${.05*r}s`}}),s]})):e;class ft extends H.Component{render(){return o.jsx(Bs,{...this.props})}}c(ft,"Circle",Pu),c(ft,"Line",Nu),c(ft,"Square",Du),c(ft,"Table",ju),c(ft,"UI",Bs);const Ou="_wTab_vzceg_1",Eu="_wCoin_vzceg_16",Fu="_active_vzceg_31",$u="_wTabs_vzceg_62",Mu="_wTabsRow_vzceg_66",Gu="_wTabContent_vzceg_84",zs={wTab:Ou,wCoin:Eu,active:Fu,"i-left":"_i-left_vzceg_40","i-top":"_i-top_vzceg_47","i-right":"_i-right_vzceg_54",wTabs:$u,wTabsRow:Mu,wTabContent:Gu};function qu({inverted:t,open:e,side:s="left",width:r,className:n,children:i,classes:a={}}){const l=y.useRef(null);return y.useEffect(()=>{l.current&&(l.current.style.width=e?"100%":"0px")},[e,i]),o.jsx("div",{ref:l,className:_(Pe.root,{[Pe.open]:e},Pe[s],n),children:o.jsx(ye,{className:_(Pe.card,a.card),children:o.jsx("div",{className:_({[Pe.boxInverted]:t}),children:o.jsx("div",{className:_(Pe.content,a.content),style:{width:r},children:i})})})})}function Rs({open:t,side:e="left",onBlur:s,backdrop:r,className:n,darkBP:i,classes:a={},zIndex:l=400,width:d,...h}){const m=y.useRef(null),g=d||400,f=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),rr(s)},[s]);return o.jsxs("div",{ref:m,className:_(Pe.refDiv,Pe[e],n),children:[r?o.jsx(vl,{dark:i,className:a.backdrop,visible:t,zIndex:l,onClick:f}):null,o.jsx(qu,{className:a.popover,classes:a,open:t,side:e,width:g,...h})]})}const Bu="_wTable_swico_1",zu="_wHeaderCell_swico_14",Vu="_wCell_swico_30",Uu="_loader_swico_40",Hu="_tableHeader_swico_44",Wu="_horizontalScroll_swico_55",Ju="_fab_swico_102",Ku="_placeholder_swico_113",Zu="_skeletonLoader_swico_119",Qu="_shimmer_swico_1",pe={wTable:Bu,wHeaderCell:zu,wCell:Vu,loader:Uu,tableHeader:Hu,horizontalScroll:Wu,fab:Ju,placeholder:Ku,skeletonLoader:Zu,shimmer:Qu};class Qt extends H.Component{constructor(s){super(s);c(this,"refList",H.createRef());c(this,"gridRef",H.createRef());c(this,"state");c(this,"onSort",({sortBy:s})=>{const{onSort:r}=this.props;this.setState(({sortDirection:n})=>({sortDirection:n==="ASC"?"DESC":"ASC",sortBy:s}),()=>{const{sortDirection:n}=this.state;r==null||r({key:s,direction:n})})});c(this,"onFilter",s=>()=>{const{onFilter:r}=this.props;r==null||r({key:s})});c(this,"onScroll",s=>{const{threshold:r,onReachEnd:n}=this.props;s.scrollTop>=s.scrollHeight-s.clientHeight-r?(n==null||n(),this.setState({scrolledtoBottom:!0})):this.setState({scrolledtoBottom:!1})});c(this,"scrollToggle",()=>{const{collection:s}=this.props;try{this.state.scrolledtoBottom?this.scrollToRow(0):Array.isArray(s)&&s.length>0&&this.scrollToRow(s.length-1)}catch(r){console.warn("Error in scrollToggle:",r)}});c(this,"isScrollable",()=>{var r;if(!this.props.bscrollToBottom)return!1;const s=Number((r=this.refList.current)==null?void 0:r.props.height)/Number(this.props.rowHeight)-1;return this.props.collection.length>s});c(this,"rowGetter",({index:s})=>{const{collection:r,rowGetter:n,totalCount:i,placeholderRenderer:a}=this.props;if(n)try{return n({index:s})}catch(d){console.warn("Error in custom rowGetter:",d);return}const l=Array.isArray(r)?r:[];if(s>=0&&s<l.length&&l[s]!==void 0)return l[s];if(i&&s>=0&&s<i)return{id:`placeholder-${s}`,isPlaceholder:!0}});c(this,"renderHeader",s=>()=>{const{header:r,headerHeight:n}=this.props;return r&&H.cloneElement(r,{style:{...r.props.style,height:n,width:s}})});c(this,"renderHeaderForColumn",s=>({dataKey:r})=>{const{headerHeight:n,rowHeight:i,columns:a,onFilter:l,onSort:d}=this.props,{sortDirection:h,sortBy:m}=this.state,g=a[s];return o.jsxs("div",{className:_(pe.wHeaderCell),style:{height:n||i,justifyContent:g.align&&`flex-${g.align}`,minWidth:g.minWidth},children:[o.jsx("span",{children:g.label||""}),d&&m===g.dataKey&&g.bSort?o.jsx(D,{name:h==="ASC"?"expand_less":"expand_more"}):g.bSort?o.jsx(D,{color:"neutral",name:"sort"}):null,l&&g.bFilter&&o.jsx(D,{name:"filter",onClick:this.onFilter(r)})]})});c(this,"renderCell",({cellData:s,columnIndex:r,rowData:n,rowIndex:i})=>{var h;const{columns:a,placeholderRenderer:l}=this.props,d=a[r];return n!=null&&n.isPlaceholder?l?l(i):o.jsx("div",{className:pe.placeholder,children:o.jsx("div",{className:pe.skeletonLoader})}):((h=d.component)==null?void 0:h.call(d,s,n,i))||o.jsx("div",{className:pe.wCell,style:{justifyContent:d.align&&"flex-"+d.align},children:o.jsx("span",{children:s})})});c(this,"renderNoData",()=>o.jsx(Cs,{...this.props.noData,message:this.props.bLoading?"Loading ...":void 0}));const r=s.sortBy||"",n=s.sortDirection||Ls.ASC;this.state={sortBy:r,sortDirection:n,scrolledtoBottom:s.bscrollToBottom},this.onSort=this.onSort.bind(this)}componentDidMount(){var s,r;this.props.bscrollToBottom&&((r=this.refList.current)==null||r.scrollToRow((s=this.props.collection)==null?void 0:s.length))}componentDidUpdate(s){var n;if(s.minTableWidth!==this.props.minTableWidth&&this.refList.current)try{this.refList.current.forceUpdateGrid()}catch(i){console.warn("Error updating grid width:",i)}(s.sortBy!==this.props.sortBy||s.sortDirection!==this.props.sortDirection)&&this.setState({sortBy:this.props.sortBy||"",sortDirection:this.props.sortDirection||Ls.ASC});const{collection:r}=this.props;this.props.bscrollToBottom&&(r==null?void 0:r.length)!==((n=s.collection)==null?void 0:n.length)&&setTimeout(()=>{var i;(i=this.refList.current)==null||i.scrollToRow(r.length-1)},10)}onScrollTo(s){this.scrollToRow(s)}render(){const{bLoading:s,columns:r,className:n,collection:i,header:a,headerHeight:l,rowHeight:d,onRowClick:h,onRowDoubleClick:m,minTableWidth:g,rowClassName:f,totalCount:p}=this.props,v=Array.isArray(i)?i:[],C=v.length===0,R=p!==void 0&&p>0?p:C?0:v.length;return o.jsxs("div",{className:_(pe.wTable,n),children:[o.jsx(De.Line,{className:pe.loader,bLoading:s}),o.jsx(Pr,{children:({height:x,width:w})=>{let b=w;return g&&(b=w<g?g:w),o.jsx(Ps.Table,{ref:this.refList,headerHeight:l,headerRowRenderer:a&&this.renderHeader(b),height:x,noRowsRenderer:this.renderNoData,overscanRowCount:5,rowCount:R,rowGetter:this.rowGetter,rowHeight:d,sort:this.onSort,width:b,minWidth:0,onRowsRendered:S=>{if(this.props.onRowsRendered)try{this.props.onRowsRendered(S)}catch(E){console.warn("Error in onRowsRendered:",E)}},rowClassName:`${f||""} ${h?pe.pointer:""}`,onRowClick:h,onRowDoubleClick:m,onScroll:this.onScroll,children:r.map((S,E)=>o.jsx(Ps.Column,{cellRenderer:this.renderCell,dataKey:S.dataKey,disableSort:!S.bSort,className:_(pe.column,S.className),flexGrow:S.flex||1,headerRenderer:this.renderHeaderForColumn(E),maxWidth:S.width,minWidth:S.minWidth,width:S.width||100},String(S.dataKey)+"_"+E))})}}),this.isScrollable()&&o.jsx(G,{className:pe.fab,icon:this.state.scrolledtoBottom?"arrow_upward":"arrow_downward",onClick:()=>this.scrollToggle()})]})}get Grid(){return this.refList.current?this.refList.current.Grid||null:this.gridRef.current}scrollToRow(s){try{this.Grid&&typeof this.Grid.scrollToRow=="function"?this.Grid.scrollToRow(s):this.refList.current&&typeof this.refList.current.scrollToRow=="function"&&this.refList.current.scrollToRow(s)}catch(r){console.warn("Error in scrollToRow:",r)}}}c(Qt,"defaultProps",{headerHeight:50,rowHeight:60,threshold:0,bscrollToBottom:!1});const Xu="_content_8tuz7_1",Yu="_collapsed_8tuz7_11",Vs={content:Xu,collapsed:Yu},eh=q(({className:t,children:e})=>{const{globalStore:s}=M();return o.jsx("div",{className:_(Vs.content,t,{[Vs.collapsed]:!s.leftSideMenuOpen}),children:o.jsx("main",{children:e})})}),th="_root_nzut9_1",sh="_headerSmaller_nzut9_12",rh="_menuItem_nzut9_16",oh="_wrap_nzut9_19",nh="_menuWrap_nzut9_29",ih="_menu_nzut9_16",ah="_menuItemParent_nzut9_39",lh="_line_nzut9_58",ch="_activeLink_nzut9_67",dh="_activee_nzut9_75",uh="_hamburger_nzut9_91",hh="_menuAction_nzut9_101",me={root:th,headerSmaller:sh,menuItem:rh,wrap:oh,menuWrap:nh,menu:ih,menuItemParent:ah,line:lh,activeLink:ch,activee:dh,hamburger:uh,menuAction:hh},Us=({children:t,path:e,activePath:s,target:r,isActive:n})=>o.jsx("div",{"data-test":"nav-"+e,className:me.menuItemParent,children:r?o.jsx("a",{href:e,target:r,className:me.menuItem,children:o.jsx("div",{className:me.text,children:t})}):o.jsxs(ys,{className:_(me.menuItem,{[me.activeLink]:n||s.includes(e.split("/")[0])}),to:`/${e}`,children:[o.jsx("div",{className:me.line}),o.jsx("span",{children:t})]})}),Hs=[{name:"routes.overview",path:"overview",icon:"dashboard",permission:"overview",hasParam:!1},{name:"routes.apps",path:"apps",icon:"settings",permission:"configView",hasParam:!0},{name:"routes.sessions",path:"sessions",icon:"cloud",permission:"sessions",hasParam:!0},{name:"routes.logs",path:"logs/admin",icon:"cancel",permission:"logsView",hasParam:!0}],ph="_root_1tez2_1",gh="_avatar_1tez2_4",mh="_popover_1tez2_9",fh="_MenuItem_1tez2_9",wh="_danger_1tez2_19",_h="_smaller_1tez2_28",Te={root:ph,avatar:gh,popover:mh,MenuItem:fh,danger:wh,smaller:_h},vh=q(({bsmall:t=!1})=>{const{permissionsStore:e,globalStore:s}=M(),[r,n]=y.useState(!1),[i,a]=y.useState(!1),l=or("(min-width: 992px)"),{t:d,i18n:h}=W(),m=()=>{ie.logout()},g=y.useCallback(()=>{n(p=>!p),i&&a(p=>!p)},[n,r]),f=p=>{h.changeLanguage(p),n(v=>!v)};return o.jsxs("div",{className:Te.root,children:[o.jsxs(Rs,{darkBP:!0,backdrop:!0,width:240,className:_(Te.popover,{[Te.smaller]:t}),open:r,side:"right",onBlur:g,children:[s.availableLangs.length>1&&o.jsxs("div",{className:_(Te.MenuItem),onClick:()=>a(p=>!p),children:[o.jsx("div",{children:d("general.language")}),o.jsx(D,{name:i?"expand_less":"expand_more"})]}),i&&o.jsx(o.Fragment,{children:s.availableLangs.filter(p=>p.code!==h.language).map(p=>o.jsxs(y.Fragment,{children:[o.jsx(ns,{margin:0}),o.jsxs("div",{className:_(Te.MenuItem),onClick:()=>f(p.code),children:[o.jsx("div",{children:p.name}),o.jsx(D,{name:"translate",dataTest:p.name+"-translate"})]},p.code)]},p.code))}),o.jsx(ns,{margin:0}),o.jsxs("div",{"data-test":"logout",className:_(Te.MenuItem),onClick:m,children:[o.jsx("div",{children:d("general.logout")}),o.jsx(D,{name:"person_outline"})]}),o.jsx(ns,{margin:0}),o.jsxs("a",{"data-test":"exit",className:_(Te.MenuItem,Te.danger),href:s.serverUrl,children:[o.jsx("div",{children:d("general.exit")}),o.jsx(D,{name:"exit_to_app"})]})]}),o.jsx(cr,{className:Te.avatar,vertical:"bottom",color:"blue",content:o.jsx(D,{size:"mini",name:r?"expand_less":"expand_more"}),onClick:g,children:o.jsx(Qo,{shape:"expandableCircle",bExpanded:r,label:r&&l?d("general.hello",{user:e.get("user")}):e.get("user").charAt(0)})})]})}),yh=q(function(){const{permissionsStore:e,globalStore:s}=M(),[r,n]=y.useState(!1),[i,a]=y.useState(!1),{pathname:l}=ue(),{t:d}=W(),h=p=>p.hasParam&&s.app?p.path.includes("logs")?"logs/session/"+s.app:p.path+"/"+s.app:p.path,m=y.useCallback(()=>{a(p=>!p)},[a,i]),g=()=>{const p=document.getElementById("root");if(!p)return;const v=p.scrollTop;if(v===0){n(!1);return}!r&&v>40?n(!0):r&&v<15&&n(!1)},f=p=>{const v=h(p);return!!(l.includes(v.split("/")[0])||v=="apps"&&l=="/quickstart/app")};return y.useEffect(()=>{let p,v=null;if(typeof window<"u"&&(p=document.getElementById("root"),p!=null)){n(p.scrollTop>0);let C=!1;v=()=>{C||(window.requestAnimationFrame(()=>{g(),C=!1}),C=!0)},p.addEventListener("scroll",v)}return()=>{p!=null&&v&&p.removeEventListener("scroll",v)}},[]),o.jsx("header",{className:_(me.root,{[me.headerSmaller]:r}),children:o.jsxs("div",{className:me.wrap,children:[o.jsx(D,{name:"menu",className:me.hamburger,onClick:m}),o.jsx(Rs,{darkBP:!0,backdrop:!0,width:240,open:i,side:"left",onBlur:m,children:Hs.filter(p=>p.permission===null||e.get(p.permission)).map(p=>o.jsx(Us,{activePath:l,path:h(p),isActive:f(p),children:d(p.name)},p.path))}),o.jsx("nav",{className:me.menu,"data-test":"nav-header",children:Hs.filter(p=>p.permission===null||e.get(p.permission)).map(p=>o.jsx(Us,{activePath:l,path:h(p),isActive:f(p),children:d(p.name)},p.path))}),o.jsx(vh,{bsmall:r})]})})}),bh="_root_b1j25_1",Sh="_logo_b1j25_13",xh="_webswingLogo_b1j25_20",Ch="_toolRow_b1j25_26",Th="_appsFilter_b1j25_30",Ih="_input_b1j25_34",Rh="_appsFilterIcon_b1j25_48",Ah="_sideMenuArrow_b1j25_56",kh="_arrowIcon_b1j25_70",Lh="_createApp_b1j25_74",Ph="_downloadFlex_b1j25_84",Nh="_absIcon_b1j25_89",Dh="_scrollable_b1j25_93",jh="_menuFlex_b1j25_113",Oh="_menuItems_b1j25_120",Eh="_menuItemIcon_b1j25_123",Fh="_developed_b1j25_132",$h="_menuCloseIcon_b1j25_144",Mh="_inputCreate_b1j25_148",Gh="_inputSmall_b1j25_157",qh="_menuItem_b1j25_120",Bh="_text_b1j25_174",zh="_activeLink_b1j25_186",Vh="_icon_b1j25_190",Uh="_addApp_b1j25_210",Hh="_collapsed_b1j25_214",Wh="_show_b1j25_242",Jh="_wfull_b1j25_250",Kh="_divider_b1j25_254",Zh="_footer_b1j25_261",Qh="_center_b1j25_264",Xh="_truncate_b1j25_268",A={root:bh,logo:Sh,webswingLogo:xh,toolRow:Ch,appsFilter:Th,input:Ih,appsFilterIcon:Rh,sideMenuArrow:Ah,arrowIcon:kh,createApp:Lh,downloadFlex:Ph,absIcon:Nh,scrollable:Dh,menuFlex:jh,menuItems:Oh,menuItemIcon:Eh,developed:Fh,menuCloseIcon:$h,inputCreate:Mh,inputSmall:Gh,menuItem:qh,text:Bh,activeLink:zh,icon:Vh,addApp:Uh,collapsed:Hh,show:Wh,wfull:Jh,divider:Kh,footer:Zh,center:Qh,truncate:Xh},ce=({children:t,path:e,image:s,icon:r,activePath:n,onClick:i,className:a,active:l})=>o.jsx("li",{"data-test":"menuItem-"+e,className:a,children:e?o.jsxs(ys,{className:_(A.menuItem,{[A.activeLink]:n===`/${e}`}),to:`/${e}`,onClick:i,children:[s&&o.jsx("img",{src:z+s+"/rest/appicon",alt:"appIcon"}),r&&o.jsx(D,{className:A.menuItemIcon,name:r}),o.jsx("div",{className:A.text,children:t})]}):o.jsxs("span",{className:_(A.menuItem,{[A.activeLink]:l}),onClick:i,children:[s&&o.jsx("img",{src:z+s+"/rest/appicon",alt:"appIcon"}),r&&o.jsx(D,{className:A.menuItemIcon,name:r}),o.jsx("div",{className:A.text,children:t})]})}),Yh=""+new URL("appjava-1248026c.png",import.meta.url).href,ep=q(({onSubmit:t,onClose:e})=>{var f;const[s,r]=H.useState(""),[n,i]=H.useState("/"),{globalStore:a}=M(),{t:l}=W(),d=p=>{p.key==="Enter"&&m()},h=()=>{r(""),i("/"),e()},m=()=>{var v;if(((v=a.paths)==null?void 0:v.filter(C=>C.path===n).length)===0)t(n,s);else{Z(l("apps.valMessageChangePath"));return}},g=p=>{r(p.currentTarget.value),i("/"+es(p.currentTarget.value))};return y.useEffect(()=>{if(a.isDuplicate){let p=a.app;a.info!=null&&a.info.name!=null&&(p=a.info.name),r(p),i("/"+es(a.app))}},[]),o.jsxs($,{className:_(A.menuItem,A.activeLink,A.addApp),children:[o.jsx("img",{src:a.isDuplicate?z+((f=a.info)==null?void 0:f.path)+"/rest/appicon":Yh,alt:"appIcon"}),o.jsxs("div",{className:A.inputGroup,children:[o.jsx(It,{dataTest:"createAppNameInput",placeholder:l("apps.createPlaceholder"),classNameInput:_(A.inputCreate),value:s,onKeyPress:d,onChange:g,bAutoFocus:!0}),o.jsx(It,{dataTest:"createAppPathInput",classNameInput:_(A.inputCreate,A.inputSmall),value:n,onKeyPress:d,onChange:p=>i("/"+es(p.currentTarget.value))})]}),o.jsx(fr,{buttons:[{color:"blue",icon:"check",iconColor:"white",onClick:m,dataTest:"submitNewApp"},{color:"neutral",icon:"close",onClick:h,dataTest:"closeAppCreate"}]})]})}),tp="_root_1f7sw_1",sp="_menu_1f7sw_12",rp="_right_1f7sw_27",op="_left_1f7sw_30",np="_button_1f7sw_33",ip="_sub_1f7sw_43",ap="_danger_1f7sw_47",lp="_disabled_1f7sw_54",cp="_btnText_1f7sw_79",dp="_fullW_1f7sw_84",up="_expandIcon_1f7sw_87",hp="_menuActive_1f7sw_95",se={root:tp,menu:sp,right:rp,left:op,button:np,sub:ip,danger:ap,disabled:lp,btnText:cp,fullW:dp,expandIcon:up,menuActive:hp},wr=({color:t="",size:e="",position:s="left",active:r="",buttons:n,children:i,className:a,classes:l={}})=>{const[d,h]=y.useState(!1),[m,g]=y.useState(!1),[f,p]=y.useState(!1),v=y.useRef(null),C=b=>{var S;(S=v.current)!=null&&S.contains(b.target)||(p(!0),h(!1))},R=()=>p(!1),x=b=>{b.sDisabled||b.disabled||(p(!0),h(!1),b.onClick())},w=b=>{let S=!0;return r&&(S=r!==b.label),(b.shouldShow==null||b.shouldShow)&&S};return y.useEffect(()=>(document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C))),o.jsxs("div",{className:_(se.root,a),onClick:R,ref:v,children:[o.jsx(G.UI,{color:t,size:e,onClick:()=>h(!d),children:i||o.jsxs(o.Fragment,{children:[r," ",o.jsx(D,{name:d?"expand_less":"expand_more"})]})}),o.jsx("nav",{className:_(se.menu,se[s],{[se.menuActive]:d}),children:n.filter(b=>w(b)).map(b=>{var S;return o.jsxs(H.Fragment,{children:[o.jsxs(G.UI,{className:_(se.button,b.className,{[se[b.color]]:b.color},{[se.icon]:b.icon},{[se.disabled]:b.sDisabled||b.disabled}),style:b.style,type:b.type||"button",bDisabled:b.bDisabled||b.disabled,dataTest:b.dataTest||b.label,children:[b.sDisabled||b.disabled?o.jsx(ee,{content:b.sDisabled||"Action in progress",children:o.jsx("span",{className:_(se.btnText,{[se.fullW]:!b.buttons}),onClick:()=>x(b),children:o.jsx(Ws,{icon:b.icon,label:b.label,dataTest:b.dataTest})})}):o.jsx("span",{className:_(se.btnText,{[se.fullW]:!b.buttons}),onClick:()=>x(b),children:o.jsx(Ws,{icon:b.icon,label:b.label,dataTest:b.dataTest})}),b.buttons&&o.jsx(D,{name:"expand_more",className:se.expandIcon,onClick:()=>g(!m)})]}),m&&((S=b.buttons)==null?void 0:S.map(E=>o.jsx(G.UI,{className:_(se.button,se.sub,E.className,{[se.disabled]:E.disabled}),style:E.style,type:E.type||"button",bDisabled:E.disabled,onClick:()=>x(E),children:o.jsx("span",{className:se.btnText,children:E.label})},E.label)))]},b.label)})})]})},Ws=({icon:t,label:e,dataTest:s})=>o.jsxs(o.Fragment,{children:[t&&typeof t=="string"?o.jsx(D,{name:t,dataTest:s}):null,e]}),pp=q(function(){var w,b;const{permissionsStore:e,globalStore:s,logsStore:r,sessionsStore:n}=M(),{pathname:i}=ue(),a=Qe(),{t:l}=W(),d=S=>{s.setSearchTerm(S.target.value),x(!0)},h=i.includes("apps")||i.includes("quickstart/app"),m=i.includes("quickstart/app"),g=i.includes("logs"),f=i==="/apps"||i==="/apps/",p=S=>(h?"apps":g?"logs/session":"sessions")+S,v=(S,E)=>{if(S&&E){const Q=s.isDuplicate?s.app:void 0;s.createApp(S,E,Q).then(()=>{s.toggleAutoReload(void 0,!0),s.setToggleAddApp(),U(`${l("apps.toastCreated")} ${E}`),a("/apps")})}},C=S=>{S&&s.setIsDuplicate(!0),s.setToggleAddApp(!0)},R=()=>{a("/quickstart/app",{state:{time:new Date().getTime()}})},x=y.useCallback(Jt(S=>s.loadPaths(S),600),[]);return y.useEffect(()=>{s.loadPaths()},[]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:A.menuFlex,children:o.jsxs("ul",{className:_(A.menuItems),children:[h?o.jsx(o.Fragment,{children:o.jsx(ce,{activePath:i,path:"apps",icon:"apps",children:l("apps.all")},"server")}):g?o.jsxs(o.Fragment,{children:[o.jsx(ce,{activePath:i,path:"logs/admin",className:A.wfull,icon:"settings_applications",children:o.jsxs("div",{className:A.downloadFlex,children:[l("logs.admin"),o.jsx(D,{className:A.absIcon,name:"cloud_download",onClick:()=>r.downloadLogs("admin")})]})},"admin"),o.jsx(ce,{activePath:i,path:"logs/audit",className:A.wfull,icon:"verified_user",children:o.jsxs("div",{className:A.downloadFlex,children:[l("logs.audit"),!r.isCluster&&o.jsx(D,{className:A.absIcon,name:"cloud_download",onClick:()=>r.downloadLogs("audit")})]})},"audit"),o.jsx(ce,{activePath:i,path:"logs/server",className:A.wfull,icon:"dns",children:o.jsxs("div",{className:A.downloadFlex,children:[l("overview.server"),!r.isCluster&&o.jsx(D,{className:A.absIcon,name:"cloud_download",onClick:()=>r.downloadLogs("server")})]})},"server"),r.isCluster&&o.jsx(ce,{activePath:i,path:"logs/sessionpool",className:A.wfull,icon:"view_module",children:o.jsxs("div",{className:A.downloadFlex,children:[l("sessions.sp"),!r.isCluster&&o.jsx(D,{className:A.absIcon,name:"cloud_download",onClick:()=>r.downloadLogs("sessionpool")})]})},"sessionpool")]}):o.jsx(ce,{activePath:i,path:"sessions",icon:"apps",onClick:()=>n.setIsAllSessions(!0),children:l("sessions.all")},"sessions"),o.jsx("div",{className:A.divider}),o.jsxs($,{className:A.toolRow,spacing:2,bColumn:!s.leftSideMenuOpen,children:[h&&e.get("create")&&o.jsx(wr,{className:A.addAppDropdown,buttons:[{label:l("apps.createNew"),icon:"add_circle_outline",onClick:()=>C()},{label:l("apps.quickstart"),shouldShow:!s.isCluster,icon:"flash_on",onClick:()=>R()},...m?[]:[{sDisabled:f?l("apps.selectAppFirst"):"",label:l("apps.duplicateConfig")+(f?"":" "+((w=s.info)==null?void 0:w.name)),icon:"content_copy",onClick:()=>C(s.app)}]],children:o.jsx(G,{dataTest:"addDropdown",color:s.toggleAddApp?"neutral":"blue",icon:"add"})}),o.jsxs("div",{className:A.appsFilter,children:[!s.toggleSearch&&o.jsx(G,{color:"neutralTrans",icon:"search",onClick:()=>s.setToggleSearch()}),s.toggleSearch&&o.jsx(It,{dataTest:"sidebarSearchInput",classNameInput:A.input,type:"text",placeholder:l("general.search"),value:s.searchTerm,onChange:d,onClose:()=>s.setToggleSearch(),icon:{name:"x",position:"labelRight"},bAutoFocus:!0})]})]}),s.toggleAddApp&&h&&o.jsx(ep,{onSubmit:v,onClose:()=>s.setToggleAddApp()}),o.jsx("div",{className:A.scrollable,style:g?{height:"calc(100vh - 420px)"}:{},children:o.jsx(o.Fragment,{children:(b=s.paths)==null?void 0:b.map(S=>o.jsx(ce,{activePath:i,path:p(S.path),image:S.path,children:o.jsxs("div",{className:A.downloadFlex,children:[o.jsxs($,{bColumn:!0,children:[o.jsx("span",{className:A.truncate,children:S.name}),o.jsx("small",{className:A.truncate,onClick:()=>a(S.url),children:S.path})]}),g&&o.jsx(D,{className:A.absIcon,name:"cloud_download",onClick:()=>r.downloadSessionLogs(S.path)})]})},S.path))})})]})}),o.jsx("div",{className:A.sideMenuArrow,children:o.jsx(D,{size:"small",color:"white",className:A.arrowIcon,name:"keyboard_arrow_left",onClick:s.toggleLeftSideMenu})})]})}),gp=""+new URL("AdminConsole-3d3742e5.svg",import.meta.url).href,mp=""+new URL("logo_ico-2532cada.svg",import.meta.url).href,_r=q(({withLink:t=!0,forceSmall:e=!1})=>{const{globalStore:s}=M(),r=(i,a)=>te(z,i||a),n=()=>{var i,a;return s.leftSideMenuOpen&&!e?o.jsx("img",{src:r((i=s.customization)==null?void 0:i.logo,gp),alt:"logo"}):o.jsx("img",{src:r((a=s.customization)==null?void 0:a.logoCollapsed,mp),style:{maxWidth:"40px"},alt:"logo"})};return t?o.jsxs(ys,{to:"/overview",children:[" ",n()," "]}):n()}),Js={"git.branch":"master","git.build.host":"0fb0d98acae0","git.build.number":"129","git.build.time":"2025-11-09T17:58:52+0000","git.build.user.email":"","git.build.user.name":"","git.build.version":"25.2.1","git.closest.tag.commit.count":"0","git.closest.tag.name":"25.2.1","git.commit.author.time":"2025-11-09T17:02:31+0000","git.commit.committer.time":"2025-11-09T17:02:31+0000","git.commit.id":"a9fd2d5430c8b271dddc6dddc3ae4fdcac7a1a4e","git.commit.id.abbrev":"a9fd2d5","git.commit.id.describe":"25.2.1","git.commit.id.describe-short":"25.2.1","git.commit.message.full":"Merge branch 'hotfix/25.2.1'","git.commit.message.short":"Merge branch 'hotfix/25.2.1'","git.commit.time":"2025-11-09T17:02:31+0000","git.commit.user.email":"viktor.meszaros@webswing.org","git.commit.user.name":"Viktor Meszaros","git.dirty":"false","git.local.branch.ahead":"NO_REMOTE","git.local.branch.behind":"NO_REMOTE","git.remote.origin.url":"https://bitbucket.org/webswing/webswing-home.git","git.tags":"25.2.1","git.total.commit.count":"10145"},fp=q(t=>{var r,n;const{globalStore:e}=M(),{t:s}=W();return o.jsx(o.Fragment,{children:(r=e.customization)!=null&&r.footerHTML?o.jsx("div",{className:_(A.footer,t.center&&A.center),dangerouslySetInnerHTML:{__html:(n=e.customization)==null?void 0:n.footerHTML}}):o.jsxs(o.Fragment,{children:[Js!=null&&o.jsxs(o.Fragment,{children:[s("general.version")," ",Js["git.commit.id.describe"],o.jsx("br",{})]}),s("general.developed")," ",o.jsx("a",{href:"https://www.webswing.org",children:"webswing.org"}),o.jsx("br",{}),o.jsx("a",{target:"_blank",href:"https://www.webswing.org/docs/",rel:"noopener noreferrer",children:s("routes.documentation")}),", ",o.jsx("a",{target:"_blank",href:"https://portal.webswing.org/support",rel:"noopener noreferrer",children:s("routes.reportbug")}),o.jsxs("div",{className:_(A.footer,t.center&&A.center),children:[new Date().getFullYear().toString()," Webswing Ltd. ",s("general.allRightReserved")]})]})})}),wp=q(function(){const{overviewStore:e,globalStore:s,permissionsStore:r}=M(),{pathname:n}=ue(),{t:i}=W(),a=l=>{e.setSearchTerm(l.target.value)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:A.menuFlex,children:o.jsx("ul",{className:_(A.menuItems,A.scrollable),children:e.isCluster?o.jsxs(o.Fragment,{children:[o.jsx(ce,{activePath:n,path:"overview/server-config",icon:"settings_applications",children:i("overview.serConf")}),o.jsx("div",{className:A.divider}),o.jsx($,{className:A.toolRow,spacing:2,bColumn:!s.leftSideMenuOpen,children:o.jsxs("div",{className:A.appsFilter,children:[!s.toggleSearch&&o.jsx(G,{color:"neutralTrans",icon:"search",onClick:()=>s.setToggleSearch()}),s.toggleSearch&&o.jsx(It,{dataTest:"overviewSearch",classNameInput:A.input,type:"text",placeholder:i("overview.searchServerSp"),value:e.searchTerm,onChange:a,onClose:()=>s.setToggleSearch(),icon:{name:"x",position:"labelRight"}})]})}),o.jsx(ce,{activePath:n,path:"overview/servers",icon:"dns",children:i("overview.server_plural")}),o.jsx(ce,{activePath:n,path:"overview/sessionpools",icon:"apps",children:i("sessions.sp_plural")}),r.get("scaling")&&o.jsx(ce,{activePath:n,path:"overview/scaling",icon:"trending_up",children:i("overview.scaling")})]}):o.jsxs(o.Fragment,{children:[o.jsx(ce,{activePath:n,path:"overview",icon:"apps",children:i("overview.server_stats")}),o.jsx(ce,{activePath:n,path:"overview/server-config",icon:"settings_applications",children:i("overview.serConf")})]})})}),o.jsx("div",{className:A.sideMenuArrow,children:o.jsx(D,{size:"small",color:"white",className:A.arrowIcon,name:"keyboard_arrow_left",onClick:s.toggleLeftSideMenu})})]})}),_p=q(function(){const{globalStore:e}=M(),s=or("(max-width: 1224px)");y.useEffect(()=>{s?e.toggleLeftSideMenu(!1):e.toggleLeftSideMenu(!0)},[s]);const{pathname:r}=ue(),n=r.includes("overview")||r==="/";return o.jsx(o.Fragment,{children:o.jsxs("aside",{"data-test":"aside-"+(e.leftSideMenuOpen?"normal":"collapsed"),className:_(A.root,{[A.collapsed]:!e.leftSideMenuOpen}),children:[o.jsx("div",{className:A.logo,children:o.jsx(_r,{})}),n?o.jsx(wp,{}):o.jsx(pp,{}),o.jsx("div",{className:A.developed,children:o.jsx(fp,{})})]})})}),He=class He{constructor(){if(He._instance)throw new Error("Error: Instantiation failed: Use SessionsRestService.getInstance() instead of new.");He._instance=this}static getInstance(){return He._instance}async getAccessToken(){return await ie.getAccessToken()}async getSessions(e,s){try{return await Je(j(await this.getAccessToken()),e).getSessions(s||{})}catch(r){N(T.t("error.loadSessions"),r)}}async getRecordings(e,s){try{return await we(e,j(await this.getAccessToken())).listRecordings(s||{})}catch(r){N(T.t("error.loadRecordings"),r)}}async getThreadDumps(e,s){try{return await we(e,j(await this.getAccessToken())).listThreadDumps(s||{})}catch(r){N(T.t("error.loadThreadDumps"),r)}}async getStats(e){try{return await Je(j(await this.getAccessToken()),e).getStats()}catch(s){N(T.t("error.loadStats"),s)}}async getSession(e,s){try{return await we(e,j(await this.getAccessToken())).getSession({id:s})}catch(r){N(T.t("error.loadSession",{id:s}),r)}}async startRecording(e,s){try{const n=await we(e,j(await this.getAccessToken())).startRecording({id:s});return n&&U(T.t("ok.recordingStarted")),n}catch(r){N(T.t("error.startRecording"),r)}}async stopRecording(e,s){try{const n=await we(e,j(await this.getAccessToken())).stopRecording({id:s});return n&&U(T.t("ok.recordingStopped")),n}catch(r){N(T.t("error.couldNotStopRecording"),r)}}async forceKillSession(e,s){try{we(e,j(await this.getAccessToken())).shutdown({id:s,force:"true"}),U(T.t("ok.appForceTerminated"))}catch(r){N(T.t("error.swingAppShutdownFailed"),r)}}async killSession(e,s){try{we(e,j(await this.getAccessToken())).shutdown({id:s}),U(T.t("Application signalled to exit."))}catch(r){N(T.t("error.couldNotKillSwingApp"),r)}}async requestThreadDump(e,s){try{we(e,j(await this.getAccessToken())).requestThreadDump({instanceId:s}),U(T.t("ok.threadDumpreqWarningDialog"))}catch(r){N(T.t("error.threadDumpFailed"),r)}}async requestHeapDump(e,s){try{we(e,j(await this.getAccessToken())).requestHeapDump({instanceId:s}),U(T.t("ok.heapDumpRequested"))}catch(r){N(T.t("error.heapDumpFailed"),r)}}async toggleStatisticsLogging(e,s,r){try{await we(e,j(await this.getAccessToken())).toggleStatisticsLogging({instanceId:s,enabled:r}),U(`${T.t("ok.statisticLogs")} ${r?T.t("general.enabled"):T.t("general.disabled")}.`)}catch(n){N(T.t("error.couldNotToggleStatisticLogs"),n)}}};c(He,"_instance",new He);let ws=He;const Y=ws.getInstance(),We=class We{constructor(){c(this,"serverUrl");if(We._instance)throw new Error("Error: Instantiation failed: Use ScalingRestService.getInstance() instead of new.");We._instance=this}static getInstance(){return We._instance}async getAccessToken(){return await ie.getAccessToken()}async getConfig(){try{return await it(j(await this.getAccessToken())).getScalingConfig()}catch(e){N(T.t("error.getConfig"),e)}}async setConfig(e){try{await it(j(await this.getAccessToken())).saveScalingConfig({metaObject:e})}catch(s){N(T.t("error.setConfig"),s)}}async getVariables(e,s){try{return await it(j(await this.getAccessToken())).searchScalingVariables({type:e,search:s})}catch(r){N(T.t("error.getVar"),r)}}async resolveVariable(e,s){try{return await it(j(await this.getAccessToken())).resolveScaling({type:e,resolve:s})}catch(r){N(T.t("error.resolve"),r)}}async getMeta(e){try{return await it(j(await this.getAccessToken())).getScalingMeta({metaObject:e})}catch(s){N(T.t("error.getMeta"),s)}}async getScalingStats(e){try{return await it(j(await this.getAccessToken())).getScalingStats({statType:e})}catch(s){N(T.t("error.getScalingStats"),s)}}};c(We,"_instance",new We);let _s=We;const Gt=_s.getInstance();let z="",vr="/";async function vp(){let t=window.location.origin;t||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),t=t.indexOf("/",t.length-1)!==-1?t.substring(0,t.length-1):t;let e=window.location.pathname;e=e.indexOf("/",e.length-1)!==-1?e.substring(0,e.length-1):e,z=t+e,vr=e+"/"}const Je=(t,e)=>new sa(new Se({basePath:te(z,e),credentials:"include",headers:t})),$e=(t,e)=>new na(new Se({basePath:te(z,t),credentials:"include",headers:e})),wt=(t,e)=>new oa(new Se({basePath:te(z,e),credentials:"include",headers:t})),we=(t,e)=>new aa(new Se({basePath:te(z,t),credentials:"include",headers:e})),nt=t=>new da(new Se({basePath:z,credentials:"include",headers:t})),Ks=t=>new ra(new Se({basePath:z,credentials:"include",headers:t})),_t=t=>new la(new Se({basePath:z,credentials:"include",headers:t})),it=t=>new ia(new Se({basePath:z,credentials:"include",headers:t})),cf=t=>new ca(new Se({basePath:z,credentials:"include",headers:t}));function j(t){const e={};return e["X-webswing-securitySuffix"]=zt(),t&&t!==null&&t.length&&(e.Authorization="Bearer "+t),e}function zt(){return(!window.name||!window.name.startsWith("tid_"))&&(window.name="tid_"+yp()),window.name.startsWith("tid_u_")?window.name.split("-")[2]:window.name}function yp(){const t=()=>Math.floor(Math.random()*65536).toString(16).padStart(4,"0");return t()+t()+t()}function N(t,e){switch(e.status){case 400:case 401:case 403:console.error(t,e),Z(t),St.permissionsStore.isLoggedIn()?St.globalStore.toggleErrorView(!0):ie.displayLogin();break;case 404:case 408:case 409:case 422:console.error(t,e),Z(t);break;case 500:case 502:case 503:console.error(t,e),Z(t),St.globalStore.toggleErrorView(!0,{header:t});break}}let ls=0;const Zs=3,bp=t=>{if(!t)return null;const e=t.match(/filename\*\s*=\s*UTF-8''([^;]+)/i);if(e)try{return decodeURIComponent(e[1].trim())}catch(r){console.warn("Failed to decode UTF-8 filename from Content-Disposition:",r)}const s=t.match(/filename\s*=\s*(?:"([^"]+)"|([^;]+))/i);return s?(s[1]||s[2]).trim().replace(/^(?:["'])|(?:["'])$/g,"").trim():null},Ke=async(t,e,s,r,n={})=>{var p;const{showToast:i,view:a,label:l}=n,d=i??!0,h=a??!1;if(!navigator.onLine){const v=new Error("You are offline. Please check your internet connection.");throw d&&Z("You are offline. Please check your internet connection."),r.onError(v),r.onProgress(0,0,!1),v}if(ls>=Zs){const v=new Error("Too many downloads in progress. Please wait for some downloads to complete.");throw d&&Z(`Maximum ${Zs} downloads allowed at once. Please wait for some downloads to complete.`),r.onError(v),r.onProgress(0,0,!1),v}ls++;let m=null,g=0;const f=new AbortController;try{r.onProgress(0,0,!0),d&&(m=Os(l??s,void 0,{indefinite:!0,onAbort:()=>{f.abort()}}));const v=await fetch(t,{method:"GET",headers:e,credentials:"include",signal:f.signal});if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const C=v.headers.get("Content-Length"),R=C?parseInt(C,10):0,x=R>0;i&&m&&x&&(Ge.close(m),m=Os(l??s,()=>({progress:g,label:Sp(g,a)}),{onAbort:()=>{f.abort()}})),g=0,r.onProgress(0,R,!0);const w=(p=v.body)==null?void 0:p.getReader();if(!w)throw new Error("Unable to read response body");const b=[];let S=0;for(;;){const{done:oe,value:Ee}=await w.read();if(oe)break;b.push(Ee),S+=Ee.length,x?(g=Math.round(S/R*100),r.onProgress(g,R,!0)):r.onProgress(0,S,!0)}const E=new Uint8Array(S);let Q=0;for(const oe of b)E.set(oe,Q),Q+=oe.length;const P=v.headers.get("Content-Disposition"),X=bp(P)??s;let J;h?X.toLowerCase().endsWith(".html")||X.toLowerCase().includes("recording")?J="text/html":J=v.headers.get("Content-Type")??"text/html":J=v.headers.get("Content-Type")??"application/octet-stream";const he=new Blob([E],{type:J});if(h?js(he,X,!0,()=>Z("Popup blocked. Please allow popups for this site.")):js(he,X),x?(g=100,r.onProgress(100,R,!1)):r.onProgress(0,S,!1),r.onComplete(),d&&m)if(x)setTimeout(()=>{Ge.close(m)},300);else{const oe=h?"loaded":"downloaded";setTimeout(()=>{Ge.close(m),Ge.show(`Successfully ${oe} ${X}`,{type:"success",autoClose:2e3,position:"bottom-right"})},200)}return he}catch(v){console.error("Error downloading file:",v);const C=v instanceof Error?v:new Error("Unknown error occurred");if(d&&m){const R=h?"load":"download";setTimeout(()=>{Ge.close(m)},300),C.name==="AbortError"?Z(`${R.charAt(0).toUpperCase()+R.slice(1)} cancelled`):Z(`Failed to ${R} ${s}: ${C.message}`)}throw r.onError(C),C}finally{ls--,r.onProgress(0,0,!1)}},Sp=(t,e=!1)=>{const s=e?"Loading":"Downloading";return t===0?e?"Preparing to load...":"Preparing download...":t>0&&t<100?`${s}...`:t===100?e?"Opening in new tab...":"Download complete":"Processing..."},xp=()=>T.use(Nr).use(Dr).use(jr).init({fallbackLng:"en-US",debug:!1,backend:{loadPath:`${z}/locales/{{lng}}/{{ns}}.json`},interpolation:{skipOnVariables:!1,escapeValue:!1},pluralSeparator:"_",contextSeparator:"_",returnObjects:!1,returnNull:!1,react:{useSuspense:!1}});const Cp="modulepreload",Tp=function(t,e){return new URL(t,e).href},Qs={},xe=function(e,s,r){if(!s||s.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=Tp(i,r),i in Qs)return;Qs[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let m=n.length-1;m>=0;m--){const g=n[m];if(g.href===i&&(!a||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const h=document.createElement("link");if(h.rel=a?"stylesheet":Cp,a||(h.as="script",h.crossOrigin=""),h.href=i,document.head.appendChild(h),a)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Ip="_root_js7vw_1",Rp="_wRow_js7vw_1",Ap="_Acell_js7vw_11",kp="_noBorder_js7vw_22",Lp="_smCol_js7vw_25",Pp="_label_js7vw_33",Np="_appCol_js7vw_37",Dp="_minW_js7vw_59",jp="_wh_js7vw_63",Op="_lineChart_js7vw_68",Ep="_cardContent_js7vw_72",Fp="_cardSpacer_js7vw_77",$p="_iframeWrap_js7vw_81",Mp="_btnGroupRow_js7vw_86",Gp="_toolBar_js7vw_93",qp="_backButton_js7vw_97",Bp="_Warnings_js7vw_105",zp="_warningsListItem_js7vw_108",Vp="_linkButton_js7vw_123",Up="_warningLine_js7vw_144",Hp="_hiddenMirror_js7vw_152",Wp="_activeContent_js7vw_156",Jp="_mirrorView_js7vw_160",Kp="_mirrorRow_js7vw_166",Zp="_minMax_js7vw_169",Qp="_fullScreen_js7vw_177",Xp="_statusInfo_js7vw_195",Yp="_tableHeight_js7vw_201",eg="_m7_js7vw_205",tg="_hbutton_js7vw_209",sg="_growSpace_js7vw_213",rg="_sessionHeadRow_js7vw_218",og="_sessionHeadRowRightBtns_js7vw_223",ng="_colSelector_js7vw_234",ig="_selPopover_js7vw_237",ag="_sessionsTable_js7vw_242",lg="_truncate_js7vw_266",cg="_active_js7vw_156",dg="_placeholder_js7vw_281",ug="_skeletonLoader_js7vw_297",hg="_loading_js7vw_1",pg="_paginationControls_js7vw_318",I={root:Ip,wRow:Rp,Acell:Ap,noBorder:kp,smCol:Lp,label:Pp,appCol:Np,minW:Dp,wh:jp,lineChart:Op,cardContent:Ep,cardSpacer:Fp,iframeWrap:$p,btnGroupRow:Mp,toolBar:Gp,backButton:qp,Warnings:Bp,warningsListItem:zp,linkButton:Vp,warningLine:Up,hiddenMirror:Hp,activeContent:Wp,mirrorView:Jp,mirrorRow:Kp,minMax:Zp,fullScreen:Qp,statusInfo:Xp,tableHeight:Yp,m7:eg,hbutton:tg,growSpace:sg,sessionHeadRow:rg,sessionHeadRowRightBtns:og,colSelector:ng,selPopover:ig,sessionsTable:ag,truncate:lg,active:cg,placeholder:dg,skeletonLoader:ug,loading:hg,paginationControls:pg},gg="_root_88fs1_1",mg="_lineChart_88fs1_1",fg="_axisFont_88fs1_7",wg="_chart_88fs1_10",_g="_tooltipWrapper_88fs1_13",ne={root:gg,lineChart:mg,axisFont:fg,chart:wg,tooltipWrapper:_g},vg=q(()=>{const{sessionsStore:t}=M(),{t:e}=W(),s={fontSize:"12px",lineHeight:"normal"},r={hour12:!0,hour:"numeric",minute:"2-digit"},n=i=>i.toLocaleString("en-US",r);return o.jsx("div",{className:ne.root,children:o.jsxs($,{itemsPerRow:2,children:[o.jsxs($,{bColumn:!0,className:ne.lineChart,children:[o.jsx(ct,{className:ne.charsHeading,variant:"h3",title:e("sessions.memory")}),o.jsx(kt,{width:"100%",height:"100%",children:o.jsxs(Lt,{className:ne.chart,syncId:"session-chart",data:t.getMemoryStats.dataset,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorMemoryAllocated",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorMemoryUsed",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),o.jsx(Pt,{strokeDasharray:"3 3",vertical:!1}),o.jsx(Nt,{className:ne.axisFont,dataKey:"x",tickFormatter:n,minTickGap:30}),o.jsx(Dt,{className:ne.axisFont,tickFormatter:t.getMemoryStats.tickFormat}),o.jsx(jt,{wrapperStyle:s,labelFormatter:qt}),o.jsx(Ce,{type:"monotone",dataKey:"memoryUsed",stackId:"1",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorMemoryUsed)"}),o.jsx(Ce,{type:"monotone",dataKey:"memoryAllocated",stackId:"2",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorMemoryAllocated)"})]})})]}),o.jsxs($,{bColumn:!0,className:ne.lineChart,children:[o.jsx(ct,{className:ne.charsHeading,variant:"h3",title:e("sessions.cpu")}),o.jsx(kt,{width:"100%",height:"100%",children:o.jsxs(Lt,{syncId:"session-chart",className:ne.chart,data:t.getCpuStats.dataset,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"colorCpuUtilization",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#ffc658",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#ffc658",stopOpacity:0})]})}),o.jsx(Pt,{strokeDasharray:"3 3",vertical:!1}),o.jsx(Nt,{dataKey:"x",tickFormatter:n}),o.jsx(Dt,{tickFormatter:t.getCpuStats.tickFormat}),o.jsx(jt,{wrapperStyle:s,labelFormatter:qt}),o.jsx(Ce,{type:"monotone",dataKey:"cpuUtilization",stackId:"1",stroke:"#ffc658",fillOpacity:1,fill:"url(#colorCpuUtilization)"})]})})]}),o.jsxs($,{bColumn:!0,className:ne.lineChart,children:[o.jsx(ct,{className:ne.charsHeading,variant:"h3",title:e("sessions.bandwidth")}),o.jsx(kt,{width:"95%",height:"100%",children:o.jsxs(Lt,{syncId:"session-chart",className:ne.chart,data:t.getBandwidthStats.dataset,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorInboundSize",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#F5444A",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#F5444A",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorOutboundSize",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#ffc658",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#ffc658",stopOpacity:0})]})]}),o.jsx(Pt,{strokeDasharray:"3 3",vertical:!1}),o.jsx(Nt,{dataKey:"x",tickFormatter:n}),o.jsx(Dt,{tickFormatter:t.getBandwidthStats.tickFormat}),o.jsx(jt,{wrapperStyle:s,labelFormatter:qt}),o.jsx(Ce,{type:"monotone",dataKey:"inboundSize",stackId:"1",stroke:"#F5444A",fillOpacity:1,fill:"url(#colorInboundSize)"}),o.jsx(Ce,{type:"monotone",dataKey:"outboundSize",stackId:"2",stroke:"#ffc658",fillOpacity:1,fill:"url(#colorOutboundSize)"})]})})]}),o.jsxs($,{bColumn:!0,className:ne.lineChart,children:[o.jsx(ct,{className:ne.charsHeading,variant:"h3",title:e("sessions.latency")}),o.jsx(kt,{width:"100%",height:"100%",children:o.jsxs(Lt,{syncId:"session-chart",className:ne.chart,data:t.getLatencyStats.dataset,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorlatencyNetworkTransfer",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorlatencyServerRendering",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorlatencyClientRendering",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#F5444A",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#F5444A",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorlatencyPing",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#ffc658",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#ffc658",stopOpacity:0})]})]}),o.jsx(Pt,{strokeDasharray:"3 3",vertical:!1}),o.jsx(Nt,{dataKey:"x",tickFormatter:n}),o.jsx(Dt,{tickFormatter:t.getLatencyStats.tickFormat}),o.jsx(jt,{wrapperStyle:s,labelFormatter:qt}),o.jsx(Ce,{isAnimationActive:!1,type:"monotone",label:e("sessions.latencyNetTransfer"),dataKey:"latencyNetworkTransfer",stackId:"1",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorlatencyNetworkTransfer)"}),o.jsx(Ce,{isAnimationActive:!1,type:"monotone",dataKey:"latencyServerRendering",stackId:"2",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorlatencyServerRendering)"}),o.jsx(Ce,{isAnimationActive:!1,type:"monotone",dataKey:"latencyClientRendering",stackId:"3",stroke:"#F5444A",fillOpacity:1,fill:"url(#colorlatencyClientRendering)"}),o.jsx(Ce,{isAnimationActive:!1,type:"monotone",dataKey:"latencyPing",stackId:"4",stroke:"#ffc658",fillOpacity:1,fill:"url(#colorlatencyPing)"})]})})]})]})})}),qt=t=>`${T.t("sessions.time")}: ${t.toLocaleString("en-US")}`,Xs=({str:t,bNoHightlight:e=!1})=>o.jsx(ee,{content:t,children:o.jsx("span",{className:_(pe.wCell,qe.elips),children:e?t:o.jsx(Tt,{text:t})})}),yg=q(({type:t,app:e,id:s,className:r})=>{const{logsStore:n}=M(),{pathname:i}=ue(),{t:a}=W(),[l,d]=y.useState([]),h=[{label:a("logs.timestamp"),dataKey:"timestamp",minWidth:202,align:"start",component:f=>o.jsx("div",{className:_(pe.wCell,qe.statusAlign),children:o.jsx(Tt,{text:f})})},{label:a("logs.subject"),dataKey:"subject",minWidth:100,align:"start"},{label:a("logs.value"),dataKey:"value",minWidth:100,align:"start"},{label:a("logs.user"),dataKey:"user",minWidth:100,align:"start",component:f=>o.jsx(Xs,{str:f})},{label:a("logs.secPath"),dataKey:"secured_path",minWidth:150,align:"start"},{label:a("logs.sourceIP"),dataKey:"ip",minWidth:100,align:"start"},{label:a("logs.detail"),dataKey:"detail",minWidth:150,align:"start",component:f=>o.jsx(Xs,{str:f})}];xs(),y.useEffect(()=>(t==="session"&&!i.includes("logs")?(n.setType(t),s&&n.loadLogsOverview(e,!1).then(()=>{n.setInstanceId(s),n.loadSessionLogs(e||"",s)})):(t==="scaling"&&n.setType(t),n.setInstanceId("")),d([...h]),()=>n.clearInterval()),[t,s,e]),y.useEffect(()=>()=>n.clearInterval(),[]);const g=(()=>{var p,v;let f;return n.searchTerm.length<=1?n.logs:(t==="audit"?f=(p=n.logs)==null?void 0:p.filter(C=>{var R,x,w,b,S,E,Q;return((R=C.timestamp)==null?void 0:R.toLowerCase().includes(n.searchTermLowerCase))||((x=C.user)==null?void 0:x.toLowerCase().includes(n.searchTermLowerCase))||((w=C.secured_path)==null?void 0:w.toLowerCase().includes(n.searchTermLowerCase))||((b=C.ip)==null?void 0:b.toLowerCase().includes(n.searchTermLowerCase))||((S=C.detail)==null?void 0:S.toLowerCase().includes(n.searchTermLowerCase))||((E=C.value)==null?void 0:E.toLowerCase().includes(n.searchTermLowerCase))||((Q=C.subject)==null?void 0:Q.toLowerCase().includes(n.searchTermLowerCase))}):f=(v=n.logs)==null?void 0:v.filter(C=>{var R;return(R=C.msgs)==null?void 0:R.toLowerCase().includes(n.searchTermLowerCase)}),f)})();return o.jsx(o.Fragment,{children:o.jsx("div",{children:t==="audit"?o.jsx(Qt,{collection:g||[],minTableWidth:1700,rowHeight:60,columns:l,bscrollToBottom:!0,rowClassName:qe.logsRow,className:_(r,qe.vTable)}):o.jsx(o.Fragment,{children:o.jsx(dt,{bstaticHeight:!n.compact,minListWidth:3e3,rowHeight:60,bscrollToBottom:!0,bVirtualized:!0,collection:g,item:f=>o.jsx("div",{className:qe.logItem,style:{fontSize:(n.fontSize||1)+"rem"},children:o.jsx(Tt,{text:f==null?void 0:f.msgs})}),className:r,noData:{className:qe.cardNoData},searched:n.searchTermLowerCase})})},n.random)})}),bg=({session:t})=>{const{t:e}=W(),{globalStore:s,permissionsStore:r}=M(),n=async l=>{try{const d=new URLSearchParams({spId:l.sessionPoolId,fileName:l.fileName,download:"false"}),h=`${te(s.serverUrl,t.applicationPath??"")}/rest/threadDump/download?${d.toString()}`,m={"X-Download-Token":`${l.token}`},g={onProgress:(p,v,C)=>{},onComplete:()=>{},onError:p=>{Z("Failed to show thread dump")}},f={view:!0};await Ke(h,m,l.fileName||"threaddump.txt",g,f)}catch(d){console.error("Error showing thread dump:",d),Z("Failed to show thread dump")}},i=()=>ve(t.threadDumps).isEmpty()?[]:Object.entries(t.threadDumps).map(l=>({key:l[0],value:l[1]})),a=()=>ve(t.heapDumps).isEmpty()?[]:Object.entries(t.heapDumps).map(l=>({key:l[0],value:l[1]}));return o.jsxs("div",{className:I.Warnings,children:[t.warnings&&t.warnings.length>0&&o.jsx(ye,{title:e("sessions.warningMsg"),children:o.jsx(dt,{rowHeight:"auto",collection:t.warnings.map(l=>({s:l})),rowClass:I.warningLine,item:l=>o.jsx("div",{className:I.warningsListItem,children:l==null?void 0:l.s})})}),t.warningHistory&&t.warningHistory.length>0&&o.jsx(ye,{title:e("sessions.historyWarnMsgs"),children:o.jsx(dt,{rowHeight:"auto",collection:t.warningHistory.map(l=>({s:l})),rowClass:I.warningLine,item:l=>o.jsx("div",{className:I.warningsListItem,children:l==null?void 0:l.s})})}),!ve(t.threadDumps).isEmpty()&&r.get("getThreadDump")&&o.jsx(ye,{title:e("sessions.threadDumps"),children:o.jsx(dt,{rowHeight:"auto",collection:i(),rowClass:I.warningLine,item:l=>o.jsx("div",{className:I.warningsListItem,children:l&&o.jsxs("button",{className:I.linkButton,onClick:()=>n(l.value),children:[Oe(Number(l==null?void 0:l.value.timestamp))," - ",l==null?void 0:l.value.reason]})})})}),!ve(t.heapDumps).isEmpty()&&r.get("getHeapDump")&&o.jsx(ye,{title:e("sessions.heapDumps"),children:o.jsx(dt,{rowHeight:"auto",collection:a(),rowClass:I.warningLine,item:l=>o.jsxs("div",{className:I.warningsListItem,children:[Oe(Number(l==null?void 0:l.value.timestamp))," - ",l==null?void 0:l.value.reason," - ",l==null?void 0:l.value.fileName," (",Ss(Number(l==null?void 0:l.value.size)),")"]})})})]})},yr=({pageSize:t,overlapSize:e,loadData:s,getTotalPages:r,onVisibleIndexChange:n,debounceTime:i=300,dependencies:a=[]})=>{const[l,d]=y.useState(!1),[h,m]=y.useState(1),[g,f]=y.useState(1),p=y.useRef(null);y.useEffect(()=>{var R;(R=p.current)==null||R.onScrollTo(0),m(1),f(1)},a);const v=y.useCallback(Jt(({startIndex:R,stopIndex:x})=>{if(l)return;const w=(R+x)/2,b=Math.floor(w/t)+1;f(b),n&&n(w),b!==h&&(d(!0),m(b),(async()=>{try{await s(b,e)}finally{d(!1)}})())},i),[l,h,t,e,s,r,n]),C=y.useCallback(async R=>{var x;if(!(R<1||R>r()||R===h||l)){d(!0),m(R);try{await s(R,e);const w=Math.max(0,(R-1)*t);(x=p.current)==null||x.onScrollTo(w),f(R),n&&n(w)}finally{d(!1)}}},[l,h,t,e,s,r,n]);return{isLoadingMore:l,lastLoadedPage:h,currentPage:g,tableRef:p,handleRowsRendered:v,goToPage:C,resetPagination:()=>{var R;(R=p.current)==null||R.onScrollTo(0),m(1),f(1)}}},Sg="_root_9munu_1",xg="_headerRow_9munu_1",Cg="_refresh_9munu_7",Tg="_Cell_9munu_16",Ig="_recordCell_9munu_20",Rg="_appCell_9munu_41",Ag="_label_9munu_48",kg="_appCellLinks_9munu_52",Lg="_noLink_9munu_57",Pg="_defaultCell_9munu_77",Ng="_userCell_9munu_88",Dg="_warningsCell_9munu_97",jg="_has_9munu_106",Og="_actionCell_9munu_111",Eg="_gridAppCell_9munu_116",Fg="_ac_9munu_111",$g="_vTable_9munu_145",Mg="_actionCellDropdown_9munu_150",Gg="_MetricsCellChild_9munu_163",qg="_tableHeight_9munu_173",Bg="_btnstab_9munu_177",zg="_rightSpace_9munu_181",Vg="_rightSpaceIcon_9munu_185",Ug="_bottomNote_9munu_189",Hg="_inputHeight_9munu_193",Wg="_colSelector_9munu_197",Jg="_selPopover_9munu_200",Kg="_linkButton_9munu_205",Zg="_spinner_9munu_227",Qg="_spinnerLabel_9munu_232",L={root:Sg,headerRow:xg,refresh:Cg,Cell:Tg,recordCell:Ig,appCell:Rg,label:Ag,appCellLinks:kg,noLink:Lg,defaultCell:Pg,userCell:Ng,warningsCell:Dg,has:jg,actionCell:Og,gridAppCell:Eg,ac:Fg,vTable:$g,actionCellDropdown:Mg,MetricsCellChild:Gg,tableHeight:qg,btnstab:Bg,rightSpace:zg,rightSpaceIcon:Vg,bottomNote:Ug,inputHeight:Hg,colSelector:Wg,selPopover:Jg,linkButton:Kg,spinner:Zg,spinnerLabel:Qg},Xg=q(({app:t,sessionId:e})=>{const{sessionsStore:s,globalStore:r}=M(),{t:n}=W(),i=Qe(),{pathname:a,state:l}=ue(),d=y.useRef(!1),[h,m]=y.useState([{dataKey:"fileName",label:n("recordings.fileName"),minWidth:350,align:"start",bSort:!0,className:_(L.defaultCell,L.gridAppCell),component:(x,w)=>o.jsx("div",{className:L.appCell,children:o.jsx(ee,{content:x,children:o.jsx("div",{className:L.appCellLinks,children:o.jsx("button",{className:L.linkButton,onClick:()=>s.showPlayback(t||"",w),children:x})})})})},{dataKey:"instanceId",label:n("recordings.instanceId"),minWidth:350,align:"start",bSort:!0,className:_(L.defaultCell,L.gridAppCell),component:x=>o.jsx("div",{className:L.appCell,children:o.jsx("div",{className:L.appCellLinks,children:o.jsx(ee,{content:x,children:o.jsx("button",{className:L.linkButton,onClick:()=>C(x),children:x})})})})},{dataKey:"startDate",label:n("recordings.startDate"),minWidth:100,align:"start",bSort:!0,component:x=>o.jsx("div",{className:L.Cell,children:Oe(Number(x))})},{dataKey:"size",label:n("recordings.size"),minWidth:100,align:"start",bSort:!0,component:x=>o.jsx("div",{className:L.Cell,children:Ss(Number(x))})},{dataKey:"token",label:"",minWidth:100,width:100,align:"end",component:(x,w)=>o.jsx(G,{icon:"cloud_download",onClick:()=>s.showPlayback(t||"",w,!0)})}]),{tableRef:g,handleRowsRendered:f,goToPage:p,currentPage:v}=yr({pageSize:s.pageSize,overlapSize:s.overlapSize,getTotalPages:()=>{var x,w;return((w=(x=s.recordings)==null?void 0:x.meta)==null?void 0:w.totalPages)||0},onVisibleIndexChange:x=>{e||s.setCurrentVisibleIndex(x)},loadData:async(x,w)=>{await s.loadRecordingsOnDemand(t,!1,e,x,w)},dependencies:[t,e]});y.useEffect(()=>{!d.current&&s.currentVisibleIndex>=0&&(s.currentSessionPage>0&&s.loadRecordingsOnDemand(t,!1,e,s.currentSessionPage).then(()=>{const x=s.currentVisibleIndex,w=Array.isArray(s.recordings.recordings)&&s.recordings.recordings.length>0;g.current&&typeof g.current.onScrollTo=="function"&&x>=0&&w&&setTimeout(()=>{if(g.current)try{g.current.onScrollTo(x)}catch(b){console.warn("Error scrolling to position:",b)}},200)}),d.current=!0)},[s.recordings.recordings,l,s.currentVisibleIndex,s.currentSessionPage,t,e]),y.useEffect(()=>{const x=s.currentSessionPage;x>0&&x!==v&&p(x)},[s.currentSessionPage,p,v]);const C=async x=>{try{await s.loadSession(x,t),s.session?(i("/sessions/"+t+"/"+x,{state:{previous:a}}),s.setActiveTab("view")):Z(n("error.loadSession",{id:""}))}catch{Z(n("error.loadSession",{id:""}))}};y.useEffect(()=>{e&&(m(x=>x.filter(w=>w.dataKey!=="instanceId")),s.loadRecordingsOnDemand(t,!0,e))},[e]),xs();const R=y.useCallback(Jt(x=>{r.isAutoRefreshActive&&r.stopAutoReload(),s.loadRecordingsOnDemand(x,!0,e)},600),[]);return o.jsx("div",{children:o.jsx("div",{style:{overflowX:"auto"},children:o.jsx(Qt,{ref:g,collection:s.recordings.recordings,minTableWidth:1055,totalCount:s.totalRecordingsCount,rowHeight:60,rowClassName:L.ac,threshold:500,onRowsRendered:f,columns:h,className:_(L.tableHeight,L.vTable),onSort:({key:x,direction:w})=>{s.setOrder("recordings",x,w),R(t||"")}})})})}),Yg=q(({app:t,sessionId:e})=>{const{sessionsStore:s,globalStore:r}=M(),n=Qe(),{pathname:i,state:a}=ue(),{t:l}=W(),d=y.useRef(!1),[h,m]=y.useState([{dataKey:"fileName",label:l("threadDumps.fileName"),minWidth:350,align:"start",bSort:!0,className:_(L.defaultCell,L.gridAppCell),component:(w,b)=>o.jsx("div",{className:L.appCell,children:o.jsx(ee,{content:w,children:o.jsx("div",{className:L.appCellLinks,children:o.jsx("button",{className:L.linkButton,onClick:()=>C(b,!1),children:w})})})})},{dataKey:"instanceId",label:l("threadDumps.instanceId"),minWidth:350,align:"start",bSort:!0,className:_(L.defaultCell,L.gridAppCell),component:w=>o.jsx("div",{className:L.appCell,children:o.jsx("div",{className:L.appCellLinks,children:o.jsx(ee,{content:w,children:o.jsx("button",{className:L.linkButton,onClick:()=>R(w),children:w})})})})},{dataKey:"reason",label:l("threadDumps.reason"),minWidth:350,align:"start",bSort:!0,className:L.defaultCell,component:w=>o.jsx("div",{className:L.Cell,children:o.jsx(ee,{content:w,children:o.jsx("span",{children:w})})})},{dataKey:"timestamp",label:l("threadDumps.timestamp"),minWidth:100,align:"start",bSort:!0,component:w=>o.jsx("div",{className:L.Cell,children:Oe(Number(w))})},{dataKey:"size",label:l("threadDumps.size"),minWidth:100,align:"start",bSort:!0,component:w=>o.jsx("div",{className:L.Cell,children:Ss(Number(w))})},{dataKey:"token",label:"",minWidth:100,width:100,align:"end",component:(w,b)=>o.jsx(G,{icon:"cloud_download",onClick:()=>C(b,!0)})}]),{tableRef:g,handleRowsRendered:f,goToPage:p,currentPage:v}=yr({pageSize:s.pageSize,overlapSize:s.overlapSize,getTotalPages:()=>{var w,b;return((b=(w=s.threadDumps)==null?void 0:w.meta)==null?void 0:b.totalPages)||0},onVisibleIndexChange:w=>{e||s.setCurrentVisibleIndex(w)},loadData:async(w,b)=>{await s.loadThreadDumpsOnDemand(t,!1,e,w,b)},dependencies:[t,e]});y.useEffect(()=>{!d.current&&s.currentVisibleIndex>=0&&(s.currentSessionPage>0&&s.loadThreadDumpsOnDemand(t,!1,e,s.currentSessionPage).then(()=>{const w=s.currentVisibleIndex,b=Array.isArray(s.threadDumps.threadDumps)&&s.threadDumps.threadDumps.length>0;g.current&&typeof g.current.onScrollTo=="function"&&w>=0&&b&&setTimeout(()=>{if(g.current)try{g.current.onScrollTo(w)}catch(S){console.warn("Error scrolling to position:",S)}},200)}),d.current=!0)},[s.threadDumps.threadDumps,a,s.currentVisibleIndex,s.currentSessionPage,t,e]),y.useEffect(()=>{const w=s.currentSessionPage;w>0&&w!==v&&p(w)},[s.currentSessionPage,p,v]);const C=async(w,b)=>{try{const S=new URLSearchParams({spId:w.sessionPoolId,fileName:w.fileName,download:b.toString()}),E=`${te(r.serverUrl,t||"")}/rest/threadDump/download?${S.toString()}`,Q={"X-Download-Token":`${w.token}`},P={onProgress:(J,he,oe)=>{},onComplete:()=>{},onError:J=>{const he=b?"download":"load";Z(l("error.downloadThreadDump")||`Failed to ${he} thread dump`)}},X={view:!b};await Ke(E,Q,w.fileName||"threaddump.txt",P,X)}catch(S){console.error("Error handling thread dump:",S);const E=b?"download":"handle";Z(l("error.downloadThreadDump")||`Failed to ${E} thread dump`)}},R=async w=>{try{await s.loadSession(w,t),s.session?(n("/sessions/"+t+"/"+w,{state:{previous:i}}),s.setActiveTab("view")):Z(l("error.loadSession",{id:""}))}catch{Z(l("error.loadSession",{id:""}))}};y.useEffect(()=>{e&&(s.loadThreadDumpsOnDemand(t,!0,e),m(w=>w.filter(b=>b.dataKey!=="instanceId")))},[e]),xs();const x=y.useCallback(Jt(w=>{r.isAutoRefreshActive&&r.stopAutoReload(),s.loadThreadDumpsOnDemand(w,!0,e)},600),[]);return o.jsx("div",{children:o.jsx("div",{style:{overflowX:"auto"},children:o.jsx(Qt,{ref:g,collection:s.threadDumps.threadDumps,totalCount:s.totalThreadDumpsCount,minTableWidth:1350,rowHeight:60,rowClassName:L.ac,threshold:500,onRowsRendered:f,columns:h,className:_(L.tableHeight,L.vTable),onSort:({key:w,direction:b})=>{s.setOrder("threadDumps",w,b),x(t||"")}})})})}),em="_wWebswing_301i1_1",tm={wWebswing:em},Ne={root:void 0,args:"",webswingInstance:void 0,setRoot:t=>Ne.root=t,setWebswingInstance:t=>Ne.webswingInstance=t},sm=({connectionUrl:t,mirrorUrl:e,mirrorTokenCallback:s,mirrorSuffixCallback:r,sessionId:n,control:i=!1,height:a})=>{const l=y.useRef(null);let d=0,h=0;y.useEffect(()=>(m(),()=>{Ne.webswingInstance!=null&&Ne.webswingInstance.destroy()}),[n]),Zr(()=>{let g=0,f=0;if(l.current==null)return;const p=l.current.querySelectorAll(".webswing-element-content canvas");for(let v=0;v<p.length;v++){const C=p[v],R=C.getBoundingClientRect();C.offsetTop+R.height>f&&(f=C.offsetTop+R.height),C.offsetLeft+R.width>g&&(g=C.offsetLeft+R.width)}(g!=d||f!=h)&&(l.current.style.width=g+"px",l.current.style.height=f+"px"),d=g,h=f},500);const m=()=>{Ne.setRoot(l),t&&Or(t).then(g=>{const f=g.bootstrap(Ne.root.current,{connectionUrl:t,mirrorConnectionUrl:e,mirrorTokenCallback:s,mirrorSuffixCallback:r,mirrorMode:!0,clientId:n,autoStart:!0,autoReconnect:-1});Ne.setWebswingInstance(f)}).catch(g=>{console.error(g)})};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mirror-bar-placeholder"}),o.jsx("div",{ref:l,id:"canvas-root",className:_("webswing-element",tm.wWebswing),style:{width:"100%",height:a}})]})},rm=q(({app:t,id:e})=>{const{t:s}=W(),{permissionsStore:r,sessionsStore:n,logsStore:i}=M(),[a,l]=y.useState(!1),[d,h]=y.useState(!1),[m,g]=y.useState(!1),f=n.session,p=()=>{d||h(!0),n.setActiveTab("mirror")},v=C=>C.status!==Kt.RUNNING;return y.useEffect(()=>{var C;(C=Ne.webswingInstance)==null||C.setControl(m)},[m]),y.useEffect(()=>{g(!1)},[e]),f?o.jsxs(o.Fragment,{children:[o.jsxs($,{spacing:2,flexWrap:"wrap",className:I.btnGroupRow,children:[o.jsx(tt,{dataTest:"sessionOwerview",icon:"dashboard",active:n.activeTab==="view",onClick:()=>n.setActiveTab("view"),children:s("routes.overview")}),f.loggingEnabled&&o.jsx(tt,{dataTest:"sessionLogs",icon:"overview",active:n.activeTab==="logs",onClick:()=>n.setActiveTab("logs"),children:s("routes.logs")}),n.getWarningsNum()>0&&o.jsx(tt,{dataTest:"sessionWarning",icon:"warning",badge:n.getWarningsNum(),badgeColor:"warning",active:n.activeTab==="warnings",onClick:()=>n.setActiveTab("warnings"),children:s("sessions.warning_plural")}),r.get("startMirrorView")&&f.canMirror&&!v(f)&&o.jsx(tt,{dataTest:"sessionMirror",icon:"preview",active:n.activeTab==="mirror",onClick:p,children:s("sessions.mirrorView")}),r.get("playbackRecording")&&o.jsx(tt,{icon:"videocam",active:n.activeTab==="recordings",onClick:()=>n.setActiveTab("recordings"),children:s("sessions.tab.recordings")}),r.get("getThreadDump")&&o.jsx(tt,{icon:"view_list",active:n.activeTab==="threadDumps",onClick:()=>n.setActiveTab("threadDumps"),children:s("sessions.tab.threadDumps")}),n.activeTab==="logs"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:I.growSpace}),o.jsx(G,{icon:"zoom_out",onClick:()=>{i.adjustFontSize(-.1)}}),o.jsx(G,{icon:"zoom_in",onClick:()=>{i.adjustFontSize(.1)}}),!i.filterToggle&&o.jsx(G,{dataTest:"Logsearch",className:I.m7,color:"neutral",icon:"search",onClick:()=>i.setFilterToggle()}),i.filterToggle&&o.jsx(Vl,{className:I.m7,inputClassName:I.hbutton,value:i.searchTerm,onChange:C=>i.setSearchTerm(C.target.value),onClose:()=>i.setFilterToggle()})]})]}),o.jsxs("div",{className:_(zs.wTabContent),children:[n.activeTab==="view"&&o.jsxs(ye,{className:_(I.cardContent,I.cardSpacer),children:[o.jsx(ye,{className:I.toolBar,children:o.jsxs($,{className:I.wRow,children:[o.jsxs($,{bColumn:!0,className:_(I.smCol,I.noBorder),flex:1,children:[o.jsxs("span",{className:I.label,children:[s("sessions.instanceId"),":"]}),o.jsx("span",{"data-test":"sessionId",children:f==null?void 0:f.id})]}),o.jsxs($,{bColumn:!0,className:I.smCol,flex:1,children:[o.jsxs("span",{className:I.label,children:[s("sessions.spId"),":"]}),!v(f)&&(f==null?void 0:f.sessionPoolId)]}),o.jsxs($,{bColumn:!0,className:I.smCol,flex:1,children:[o.jsxs("span",{className:I.label,children:[s("sessions.processId"),":"]}),!v(f)&&(f==null?void 0:f.pid)]})]})}),!v(f)&&o.jsx(Gs,{value:n.statisticsLoggingEnabled,size:"large",onClick:()=>n.toggleStatisticsLoggingEnabled(),dataTest:"Statistics",children:s("sessions.statistics")}),!v(f)&&o.jsx(vg,{})]}),n.activeTab==="recordings"&&r.get("playbackRecording")&&o.jsx(Xg,{app:t,sessionId:e}),n.activeTab==="threadDumps"&&r.get("getThreadDump")&&o.jsx(Yg,{app:t,sessionId:e}),n.activeTab==="logs"&&o.jsx(yg,{className:I.tableHeight,type:"session",app:t,id:e}),r.get("startMirrorView")&&d&&o.jsx("div",{className:_(I.hiddenMirror,{[I.activeContent]:n.activeTab==="mirror"}),children:o.jsxs("div",{"data-test":a?"mirrorLarge":"mirrorSmall",className:_(I.mirrorView,{[I.fullScreen]:a},{[I.hiddenMirror]:!1}),children:[o.jsxs($,{className:I.mirrorRow,alignItems:"center",spacing:3,children:[o.jsx(D,{className:_(zs.wTab,I.minMax),name:a?"fullscreen_exit":"fullscreen",onClick:()=>l(!a)}),o.jsx(Gs,{className:I.switch,value:m,size:"large",onClick:()=>g(C=>!C),dataTest:"Control",children:s("sessions.control")}),n.mirroringMessageKey!=null&&{"sessions.mirror.status.waiting":o.jsxs("div",{className:I.statusInfo,children:[o.jsx(D,{name:"info",size:"mini",color:"blue"}),s(n.mirroringMessageKey)]}),"sessions.mirror.status.denied":o.jsxs("div",{className:I.statusInfo,children:[o.jsx(D,{name:"error",size:"mini",color:"danger"}),s(n.mirroringMessageKey)]})}[n.mirroringMessageKey]]}),o.jsx(ye,{className:I.cardContent,children:o.jsx("div",{className:I.iframeWrap,children:o.jsx(sm,{connectionUrl:f.applicationUrl,mirrorUrl:te(z,t),mirrorTokenCallback:()=>ie.getAccessToken(),mirrorSuffixCallback:()=>Promise.resolve(ie.getAccessSecuritySuffix()),sessionId:f.id,control:m,height:768})})})]})}),n.activeTab==="warnings"&&n.getWarningsNum()>0&&o.jsx(bg,{session:f})]})]}):null}),om=q(({bSession:t=!1,session:e,className:s,index:r})=>{const n=Qe(),{pathname:i}=ue(),{permissionsStore:a,sessionsStore:l}=M(),{t:d}=W(),[h,m]=y.useState(!1),g=async(S,E)=>{if(!w(S))try{E?await l.forceKill(S):await l.kill(S),t&&n(-1)}catch(Q){console.error("Error during kill operation:",Q)}},f=S=>{r&&l.setCurrentVisibleIndex(r),n("/sessions"+S.applicationPath+"/"+S.id,{state:{previous:i}}),l.setActiveTab("view")},p=S=>{n("/sessions"+S.applicationPath+"/"+S.id,{state:{previous:i}}),l.setActiveTab("logs")},v=()=>{e.id&&(navigator.clipboard.writeText(e.id),U(d("sessions.copyInstIDMsg")))},C=async()=>{try{await l.startRecording(e,t)}catch(S){console.error("Error starting recording:",S)}},R=async()=>{try{m(!1),await l.requestHeapDump(e,t)}catch(S){console.error("Error requesting heap dump:",S)}},x=async()=>{try{await l.requestThreadDump(e,t)}catch(S){console.error("Error requesting thread dump:",S)}},w=S=>S.status!==Kt.RUNNING,b=()=>{const S=[{shouldShow:a.get("requestThreadDump")&&!w(e),label:d("sessions.threadDump"),icon:"list",onClick:x,disabled:l.isActionLoading(e.id,"threadDump")},{shouldShow:a.get("requestHeapDump")&&!w(e),label:d("sessions.heapDump"),icon:"list",onClick:()=>m(!0),disabled:l.isActionLoading(e.id,"heapDump")},{shouldShow:a.get("startRecording")&&e.canRecord&&!w(e),label:d("sessions.record"),icon:"fiber_manual_record",onClick:C,disabled:l.isActionLoading(e.id,"recording")||e.recordingStatus==="RECORDING"},{label:d("sessions.copyInstID"),icon:"content_copy",onClick:v}],E={shouldShow:!w(e),label:d("sessions.shutdown"),icon:"power_settings_new",color:"danger",onClick:()=>g(e),disabled:l.isActionLoading(e.id,"kill")||l.isActionLoading(e.id,"forceKill"),buttons:[{label:d("sessions.forceKill"),icon:"power_settings_new",onClick:()=>g(e,!0),disabled:l.isActionLoading(e.id,"kill")||l.isActionLoading(e.id,"forceKill")}]};return t?[...S,E]:[{label:d("sessions.view"),icon:"view_quilt",onClick:()=>f(e)},...S,{shouldShow:a.get("logsView")&&e.loggingEnabled,label:d("routes.logs"),icon:"list",onClick:()=>p(e)},E]};return o.jsxs(o.Fragment,{children:[o.jsx(wr,{className:_(L.actionCellDropdown,s),buttons:b(),children:o.jsx(D,{name:"more_vert"})}),o.jsx(Is,{bOpen:h,title:d("sessions.heapDump"),footer:!0,onToggle:S=>m(S),onConfirm:R,children:o.jsxs(o.Fragment,{children:[d("sessions.heapDump.prompt.1"),o.jsx("br",{}),d("sessions.heapDump.prompt.2"),o.jsx("br",{}),d("sessions.heapDump.prompt.3")]})})]})}),nm=q(({bSession:t=!1,session:e,index:s})=>{const r=Qe(),{pathname:n}=ue(),{permissionsStore:i,sessionsStore:a}=M(),{t:l}=W(),[d,h]=y.useState(Date.now()),m=v=>{s&&a.setCurrentVisibleIndex(s),r("/sessions"+v.applicationPath+"/"+v.id,{state:{previous:n}}),a.setActiveTab("view")},g=async()=>{await a.stopRecording(e,t)};y.useEffect(()=>{const v=setInterval(()=>h(Date.now()),500);return()=>clearInterval(v)},[]);const f=v=>(v.recordingStatus==="WAITING_FOR_RECORDING_APPROVAL"||v.recordingStatus==="RECORDING")&&v.status==="RUNNING",p=v=>{if(!v.recordingFile||!v.recordingFile.startDate)return l("sessions.recording");let C=Math.abs(d-v.recordingFile.startDate)/1e3;const R=Math.floor(C/3600)%24;C-=R*3600;const x=Math.floor(C/60)%60;C-=x*60;const w=Math.floor(C%60);return(R<10?"0"+R:R)+":"+(x<10?"0"+x:x)+":"+(w<10?"0"+w:w)};return o.jsx(o.Fragment,{children:f(e)&&a.sessionsTab==="sessions"?o.jsxs("div",{"data-test":"recordCell",className:_(L.Cell,L.recordCell),children:[o.jsx(ee,{content:l("sessions.instance")+" "+l("sessions.id")+": "+e.id,children:t?o.jsx(o.Fragment,{children:e.application}):o.jsx("span",{onClick:()=>m(e),children:e.application})}),o.jsxs($,{justifyContent:"space-between",children:[o.jsxs($,{className:L.conter,alignItems:"center",children:[o.jsx(D,{name:"fiber_manual_record",color:"danger",size:"small",className:L.rightSpaceIcon}),a.isActionLoading(e.id,"recording")?o.jsx("span",{className:L.loadingText,children:l("sessions.loading")}):e.recordingStatus==="WAITING_FOR_RECORDING_APPROVAL"?l("sessions.waitingApproval"):p(e)]}),i.get("startRecording")&&o.jsx(o.Fragment,{children:a.isActionLoading(e.id,"recording")?o.jsx(be,{size:16,color:"neutral"}):o.jsx(D,{name:"stop",color:"txt",onClick:g})})]})]}):o.jsx("div",{"data-test":"appCell",className:L.appCell,children:t?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:L.label,children:[l("sessions.app"),":"]}),o.jsxs("div",{className:L.appCellLinks,children:[o.jsx(ee,{content:l("sessions.instance")+" "+l("sessions.id")+": "+e.id,children:o.jsx("span",{children:e.application})}),a.isActionLoading(e.id,"recording")?o.jsx(be,{size:16,color:"neutral"}):o.jsxs(o.Fragment,{children:[(e==null?void 0:e.recordingFile)&&i.get("playbackRecording")&&o.jsx(ee,{content:l("sessions.playRecording"),children:o.jsx("span",{children:o.jsx(D,{name:"play_arrow",onClick:()=>a.showPlayback(e.applicationPath,e.recordingFile)})})}),e.recordingStatus==="DENIED_RECORDING_BY_USER"&&o.jsx(ee,{content:l("sessions.recordingDenied"),children:o.jsx("span",{children:o.jsx(D,{size:"small",color:"danger",name:"report"})})})]})]})]}):o.jsxs("div",{className:L.appCellLinks,children:[o.jsx(ee,{content:l("sessions.instance")+" "+l("sessions.id")+": "+e.id,children:o.jsx("span",{onClick:()=>m(e),children:e.application})}),a.isActionLoading(e.id,"recording")?o.jsx(be,{size:16,color:"neutral"}):o.jsxs(o.Fragment,{children:[(e==null?void 0:e.recordingFile)&&i.get("playbackRecording")&&o.jsx(ee,{content:l("sessions.playRecording"),children:o.jsx("span",{children:o.jsx(D,{name:"play_arrow",onClick:()=>a.showPlayback(e.applicationPath,e.recordingFile)})})}),e.recordingStatus==="DENIED_RECORDING_BY_USER"&&o.jsx(ee,{content:l("sessions.recordingDenied"),children:o.jsx("span",{children:o.jsx(D,{size:"small",color:"danger",name:"report"})})})]})]})})})}),im=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...t,children:[o.jsx("path",{d:"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"}),o.jsx("title",{children:t.title})]}),am=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",...t,children:[o.jsx("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"}),o.jsx("title",{children:t.title})]}),lm=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",...t,children:[o.jsx("path",{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"}),o.jsx("title",{children:t.title})]}),cm=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...t,children:[o.jsx("path",{d:"M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z"}),o.jsx("title",{children:t.title})]}),dm=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[o.jsx("path",{d:"M131.5 217.5L55.1 100.1c47.6-59.2 119-91.8 192-92.1 42.3-.3 85.5 10.5 124.8 33.2 43.4 25.2 76.4 61.4 97.4 103L264 133.4c-58.1-3.4-113.4 29.3-132.5 84.1zm32.9 38.5c0 46.2 37.4 83.6 83.6 83.6s83.6-37.4 83.6-83.6-37.4-83.6-83.6-83.6-83.6 37.3-83.6 83.6zm314.9-89.2L339.6 174c37.9 44.3 38.5 108.2 6.6 157.2L234.1 503.6c46.5 2.5 94.4-7.7 137.8-32.9 107.4-62 150.9-192 107.4-303.9zM133.7 303.6L40.4 120.1C14.9 159.1 0 205.9 0 256c0 124 90.8 226.7 209.5 244.9l63.7-124.8c-57.6 10.8-113.2-20.8-139.5-72.5z"}),o.jsx("title",{children:t.title})]}),um=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[o.jsx("path",{d:"M189.37,152.86Zm-58.74-29.37C130.79,123.5,130.71,123.5,130.63,123.49Zm351.42,45.35c-10.61-25.5-32.08-53-48.94-61.73,13.72,26.89,21.67,53.88,24.7,74,0,0,0,.14.05.41-27.58-68.75-74.35-96.47-112.55-156.83-1.93-3.05-3.86-6.11-5.74-9.33-1-1.65-1.86-3.34-2.69-5.05A44.88,44.88,0,0,1,333.24.69a.63.63,0,0,0-.55-.66.9.9,0,0,0-.46,0l-.12.07-.18.1.1-.14c-54.23,31.77-76.72,87.38-82.5,122.78a130,130,0,0,0-48.33,12.33,6.25,6.25,0,0,0-3.09,7.75,6.13,6.13,0,0,0,7.79,3.79l.52-.21a117.84,117.84,0,0,1,42.11-11l1.42-.1c2-.12,4-.2,6-.22A122.61,122.61,0,0,1,291,140c.67.2,1.32.42,2,.63,1.89.57,3.76,1.2,5.62,1.87,1.36.5,2.71,1,4.05,1.58,1.09.44,2.18.88,3.25,1.35q2.52,1.13,5,2.35c.75.37,1.5.74,2.25,1.13q2.4,1.26,4.74,2.63,1.51.87,3,1.8a124.89,124.89,0,0,1,42.66,44.13c-13-9.15-36.35-18.19-58.82-14.28,87.74,43.86,64.18,194.9-57.39,189.2a108.43,108.43,0,0,1-31.74-6.12c-2.42-.91-4.8-1.89-7.16-2.93-1.38-.63-2.76-1.27-4.12-2C174.5,346,149.9,316.92,146.83,281.59c0,0,11.25-41.95,80.62-41.95,7.5,0,28.93-20.92,29.33-27-.09-2-42.54-18.87-59.09-35.18-8.85-8.71-13.05-12.91-16.77-16.06a69.58,69.58,0,0,0-6.31-4.77A113.05,113.05,0,0,1,173.92,97c-25.06,11.41-44.55,29.45-58.71,45.37h-.12c-9.67-12.25-9-52.65-8.43-61.08-.12-.53-7.22,3.68-8.15,4.31a178.54,178.54,0,0,0-23.84,20.43A214,214,0,0,0,51.9,133.36l0,0a.08.08,0,0,1,0,0,205.84,205.84,0,0,0-32.73,73.9c-.06.27-2.33,10.21-4,22.48q-.42,2.87-.78,5.74c-.57,3.69-1,7.71-1.44,14,0,.24,0,.48-.05.72-.18,2.71-.34,5.41-.49,8.12,0,.41,0,.82,0,1.24,0,134.7,109.21,243.89,243.92,243.89,120.64,0,220.82-87.58,240.43-202.62.41-3.12.74-6.26,1.11-9.41,4.85-41.83-.54-85.79-15.82-122.55Z"}),o.jsx("title",{children:t.title})]}),hm=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[o.jsx("path",{d:"M313.9 32.7c-170.2 0-252.6 223.8-147.5 355.1 36.5 45.4 88.6 75.6 147.5 75.6 36.3 0 70.3-11.1 99.4-30.4-43.8 39.2-101.9 63-165.3 63-3.9 0-8 0-11.9-.3C104.6 489.6 0 381.1 0 248 0 111 111 0 248 0h.8c63.1.3 120.7 24.1 164.4 63.1-29-19.4-63.1-30.4-99.3-30.4zm101.8 397.7c-40.9 24.7-90.7 23.6-132-5.8 56.2-20.5 97.7-91.6 97.7-176.6 0-84.7-41.2-155.8-97.4-176.6 41.8-29.2 91.2-30.3 132.9-5 105.9 98.7 105.5 265.7-1.2 364z"}),o.jsx("title",{children:t.title})]}),pm=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[o.jsx("path",{d:"M274.69,274.69l-37.38-37.38L166,346ZM256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8ZM411.85,182.79l14.78-6.13A8,8,0,0,1,437.08,181h0a8,8,0,0,1-4.33,10.46L418,197.57a8,8,0,0,1-10.45-4.33h0A8,8,0,0,1,411.85,182.79ZM314.43,94l6.12-14.78A8,8,0,0,1,331,74.92h0a8,8,0,0,1,4.33,10.45l-6.13,14.78a8,8,0,0,1-10.45,4.33h0A8,8,0,0,1,314.43,94ZM256,60h0a8,8,0,0,1,8,8V84a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8V68A8,8,0,0,1,256,60ZM181,74.92a8,8,0,0,1,10.46,4.33L197.57,94a8,8,0,1,1-14.78,6.12l-6.13-14.78A8,8,0,0,1,181,74.92Zm-63.58,42.49h0a8,8,0,0,1,11.31,0L140,128.72A8,8,0,0,1,140,140h0a8,8,0,0,1-11.31,0l-11.31-11.31A8,8,0,0,1,117.41,117.41ZM60,256h0a8,8,0,0,1,8-8H84a8,8,0,0,1,8,8h0a8,8,0,0,1-8,8H68A8,8,0,0,1,60,256Zm40.15,73.21-14.78,6.13A8,8,0,0,1,74.92,331h0a8,8,0,0,1,4.33-10.46L94,314.43a8,8,0,0,1,10.45,4.33h0A8,8,0,0,1,100.15,329.21Zm4.33-136h0A8,8,0,0,1,94,197.57l-14.78-6.12A8,8,0,0,1,74.92,181h0a8,8,0,0,1,10.45-4.33l14.78,6.13A8,8,0,0,1,104.48,193.24ZM197.57,418l-6.12,14.78a8,8,0,0,1-14.79-6.12l6.13-14.78A8,8,0,1,1,197.57,418ZM264,444a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8V428a8,8,0,0,1,8-8h0a8,8,0,0,1,8,8Zm67-6.92h0a8,8,0,0,1-10.46-4.33L314.43,418a8,8,0,0,1,4.33-10.45h0a8,8,0,0,1,10.45,4.33l6.13,14.78A8,8,0,0,1,331,437.08Zm63.58-42.49h0a8,8,0,0,1-11.31,0L372,383.28A8,8,0,0,1,372,372h0a8,8,0,0,1,11.31,0l11.31,11.31A8,8,0,0,1,394.59,394.59ZM286.25,286.25,110.34,401.66,225.75,225.75,401.66,110.34ZM437.08,331h0a8,8,0,0,1-10.45,4.33l-14.78-6.13a8,8,0,0,1-4.33-10.45h0A8,8,0,0,1,418,314.43l14.78,6.12A8,8,0,0,1,437.08,331ZM444,264H428a8,8,0,0,1-8-8h0a8,8,0,0,1,8-8h16a8,8,0,0,1,8,8h0A8,8,0,0,1,444,264Z"}),o.jsx("title",{children:t.title})]}),Ys=({...t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[o.jsx("path",{d:"M25.71,228.16l.35-.48c0,.16,0,.32-.07.48Zm460.58,15.51c0-44-7.76-84.46-28.81-122.4C416.5,47.88,343.91,8,258.89,8,119,7.72,40.62,113.21,26.06,227.68c42.42-61.31,117.07-121.38,220.37-125,0,0,109.67,0,99.42,105H170c6.37-37.39,18.55-59,34.34-78.93-75.05,34.9-121.85,96.1-120.75,188.32.83,71.45,50.13,144.84,120.75,172,83.35,31.84,192.77,7.2,240.13-21.33V363.31C363.6,419.8,173.6,424.23,172.21,295.74H486.29V243.67Z"}),o.jsx("title",{children:t.title})]}),br=({session:t})=>{const e=n=>{if(n!=null)return n==="Windows"?o.jsx(im,{width:12,title:"windows"}):n==="Mac"||n==="IPhone"?o.jsx(am,{width:12,title:"apple"}):n==="Linux"?o.jsx(cm,{width:12,title:"linux"}):n==="Android"?o.jsx(lm,{width:12,title:"android"}):""},s=n=>{if(n!=null)return n.indexOf("IE")>=0?o.jsx(Ys,{width:12,title:"internet explorer"}):(n=n.toLowerCase(),n.indexOf("edge")>=0?o.jsx(Ys,{width:12,title:"Edge"}):n.indexOf("chrome")>=0?o.jsx(dm,{width:12,title:"Chrome"}):n.indexOf("firefox")>=0?o.jsx(um,{width:12,title:"Firefox"}):n.indexOf("safari")>=0?o.jsx(pm,{width:12,title:"Safari"}):n.indexOf("opera")>=0?o.jsx(hm,{width:12,title:"opera"}):"")},r=n=>n==null||n.users==null?"N/A":n.users.join(", ");return o.jsxs("div",{"data-test":"userCell",className:_(L.Cell,L.userCell),children:[r(t),e(t==null?void 0:t.userOs),s(t==null?void 0:t.userBrowser)]})},Sr=Er(({session:t,dotOnly:e=!1,highlight:s=!0})=>{const{t:r}=W(),{sessionsStore:n}=M();return"id"in t&&t.id&&(n.isActionLoading(String(t.id),"kill")||n.isActionLoading(String(t.id),"forceKill"))?o.jsx(_e,{className:L.Cell,label:r("sessions.loading"),loading:!0}):o.jsx(o.Fragment,{children:(()=>{if(!t.hasOwnProperty("status"))return o.jsx(_e,{className:L.Cell,color:"warning",label:r("status.archived"),dotOnly:e,highlight:s});if(t.connected)return o.jsx(_e,{className:L.Cell,color:"success",label:r("status.connected"),dotOnly:e,highlight:s});switch(t.status){case"RUNNING":return t.detached?o.jsx(_e,{className:L.Cell,color:"danger",label:r("status.detached"),dotOnly:e,highlight:s}):o.jsx(ee,{content:r("sessions.disconnectedAt",{time:Oe(t.disconnectedSince)}),children:o.jsx("span",{children:o.jsx(_e,{className:L.Cell,color:"danger",label:r("status.disconnected"),dotOnly:e,highlight:s})})});default:return t.detached?o.jsx(_e,{className:L.Cell,color:"resolved",label:r("status.detached"),dotOnly:e,highlight:s}):o.jsx(_e,{className:L.Cell,color:"closed",label:t.status,dotOnly:e,highlight:s})}}).call(void 0)})}),gm=q(({id:t,app:e})=>{const{sessionsStore:s}=M(),{t:r}=W(),n=()=>{s.loadSession(t),s.activeTab==="threadDumps"?s.loadThreadDumpsOnDemand(e,!1,t):s.activeTab==="recordings"&&s.loadRecordingsOnDemand(e,!1,t)},i=l=>l.status!==Kt.RUNNING,a=s.session;return a?o.jsx(ye,{className:I.toolBar,children:o.jsxs($,{className:I.wRow,children:[o.jsx(om,{bSession:!0,className:I.Acell,session:a}),o.jsx($,{bColumn:!0,className:_(I.smCol,I.appCol),children:o.jsx(nm,{bSession:!0,session:a})}),o.jsxs($,{bColumn:!0,className:I.smCol,flex:1,children:[o.jsxs("span",{className:I.label,children:[r("logs.user"),":"]}),o.jsx(br,{session:a})]}),o.jsxs($,{bColumn:!0,className:I.smCol,flex:1,children:[o.jsxs("span",{className:I.label,children:[r("logs.ip"),":"]}),a==null?void 0:a.userIp]}),o.jsxs($,{bColumn:!0,className:_(I.smCol,I.minW),flex:1,children:[o.jsxs("span",{className:I.label,children:[r("sessions.startTime"),":"]}),Oe(Number(a==null?void 0:a.startedAt))]}),i(a)&&o.jsxs($,{bColumn:!0,className:_(I.smCol,I.minW),flex:1,children:[o.jsxs("span",{className:I.label,children:[r("sessions.endTime"),":"]}),Oe(Number(a==null?void 0:a.endedAt))]}),o.jsxs($,{bColumn:!0,flex:1,className:I.smCol,children:[o.jsxs("span",{className:I.label,children:[r("general.status"),":"]}),o.jsx(Sr,{session:a})]}),o.jsxs($,{bColumn:!0,flex:1,className:I.smCol,children:[o.jsxs("span",{className:I.label,children:[r("general.refresh"),":"]}),o.jsxs($,{spacing:1,onClick:n,children:[s.isActionLoading(a.id,"threadDump")||s.isActionLoading(a.id,"heapDump")?o.jsx(be,{size:16,color:"neutral"}):o.jsx(o.Fragment,{children:o.jsx(D,{size:"small",name:"cached"})}),o.jsx("span",{children:s.lastUpdated})]})]})]})}):null}),mm=q(()=>{const[t,e]=y.useState(!1),[s,r]=y.useState(1),[n,i]=y.useState(!1),{sessionsStore:a}=M(),l=Qe(),{pathname:d}=ue(),{id:h}=bs(),m=a.currentVisibleIndex+1,g=a.sessionsCount,f=Math.ceil(g/Ot),p=y.useCallback(async P=>{if(!(P<1||P>f)){i(!0);try{await a.loadSessionsForSelector(P,Ot),r(P)}finally{i(!1)}}},[f,a]),v=y.useCallback(P=>{p(P)},[p]),C=y.useCallback((P,X)=>{a.setCurrentVisibleIndex(X),e(!1),l("/sessions"+P.applicationPath+"/"+P.id,{state:{previous:d}})},[l,d,a]);if(y.useEffect(()=>{const P=Math.ceil(m/Ot);P>0&&r(P)},[m]),y.useEffect(()=>{t&&p(s)},[t,p,s]),y.useEffect(()=>()=>{a.setSessionsSelectorList([])},[]),!a.sessionsList||a.sessionsList.length===0||g<=1)return null;const R=a.sessionsSelectorList||[],x=(s-1)*Ot,w=()=>{const P=[];for(let J=0;J<15;J++)P.push(o.jsxs("tr",{className:I.placeholder,children:[o.jsx("td",{children:o.jsx("div",{className:I.skeletonLoader})}),o.jsx("td",{children:o.jsx("div",{className:I.skeletonLoader})}),o.jsx("td",{children:o.jsx("div",{className:I.skeletonLoader})}),o.jsx("td",{children:o.jsx("div",{className:I.skeletonLoader})})]},`placeholder-${J}`));return P},b=()=>{e(P=>!P)},S=async()=>{const P=await a.getPreviousSession();P&&P.id&&l("/sessions"+P.applicationPath+"/"+P.id,{state:{previous:d}})},E=async()=>{const P=await a.getNextSession();P&&P.id&&l("/sessions"+P.applicationPath+"/"+P.id,{state:{previous:d}})},Q=a.currentVisibleIndex+1;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:I.colSelector,children:[o.jsx(G,{color:"neutral",size:"small",dataTest:"sessionSelectorButton",label:`${Q} of ${g}`,onClick:b}),o.jsx(Rs,{darkBP:!0,backdrop:!0,width:500,className:_(I.selPopover),open:t,side:"right",onBlur:()=>e(!1),children:o.jsxs("div",{className:I.sessionsTable,children:[o.jsx("table",{children:o.jsx("tbody",{children:n?w():R.map((P,X)=>{if(!P)return null;const J=x+X;return o.jsxs("tr",{onClick:()=>C(P,J),className:_({[I.active]:P.id===h}),children:[o.jsx("td",{children:o.jsxs("span",{className:I.truncate,children:[J+1+". ",P.application]})}),o.jsx("td",{children:o.jsx(br,{session:P})}),o.jsx("td",{children:Oe(Number(P.startedAt))}),o.jsx("td",{children:o.jsx(Sr,{dotOnly:!0,session:P})})]},P.id||X)})})}),o.jsx("div",{className:I.paginationControls,children:o.jsxs($,{justifyContent:"space-between",children:[o.jsx(G,{color:"neutral",size:"small",icon:"chevron_left",bDisabled:s===1||n,onClick:()=>v(s-1)}),o.jsxs("span",{children:[s," / ",f]}),o.jsx(G,{color:"neutral",size:"small",icon:"chevron_right",bDisabled:s===f||n,onClick:()=>v(s+1)})]})})]})})]}),o.jsx(G,{icon:"chevron_left",color:"neutral",onClick:S}),o.jsx(G,{icon:"chevron_right",color:"neutral",onClick:E})]})}),fm=q(()=>{const t=Qe(),{state:e}=ue(),{app:s}=bs(),r=()=>{e!=null&&e.hasOwnProperty("previous")&&e.previous.includes(`/sessions/${s}`)?t(`/sessions/${s}`):t("/sessions")};return o.jsxs("div",{className:I.sessionHeadRow,children:[o.jsx(G,{dataTest:"goBack",icon:"arrow_back",color:"neutral",onClick:r}),o.jsx($,{spacing:2,flexWrap:"wrap",children:o.jsx(mm,{})})]})}),wm=q(()=>{const{sessionsStore:t,globalStore:e}=M(),{app:s,id:r}=bs(),{t:n}=W();return y.useEffect(()=>{let i=!0;return(async()=>{!i||!s||!r||(e.updateApp(s),t.setAppPath(s),e.setIsAutoRefreshActive(!0),e.autoReload(r))})(),()=>{i=!1,e.stopAutoReload(),r&&t.clearSessionState(r)}},[s,r]),Im(n("routes.session")+" - "+(s||"")),!s||!r?o.jsx(o.Fragment,{}):o.jsxs("div",{className:I.root,children:[o.jsx(fm,{}),o.jsx(gm,{id:r,app:s}),o.jsx(rm,{app:s,id:r})]})}),cs=y.lazy(()=>xe(()=>import("./Overview-943b92a8.js"),["./Overview-943b92a8.js","./vendor-e59bfd4a.js","./PageHeader-7c95fa6a.js","./Overview.module-f8d3e44b.js"],import.meta.url)),er=y.lazy(()=>xe(()=>import("./Sessions-ecc17500.js"),["./Sessions-ecc17500.js","./vendor-e59bfd4a.js","./AvatarWithTitle-10cf263d.js"],import.meta.url)),vt=y.lazy(()=>xe(()=>import("./Logs-a70a2f90.js"),["./Logs-a70a2f90.js","./vendor-e59bfd4a.js"],import.meta.url)),_m=y.lazy(()=>xe(()=>import("./ConfigServer-6896d827.js"),["./ConfigServer-6896d827.js","./vendor-e59bfd4a.js","./ConfigUI-1a86fda2.js","./Config-072d6dfc.js","./Applications.module-d9c8da72.js"],import.meta.url)),vm=y.lazy(()=>xe(()=>import("./AppsSwing-1c7e3eaa.js"),["./AppsSwing-1c7e3eaa.js","./vendor-e59bfd4a.js","./ConfigUI-1a86fda2.js","./Config-072d6dfc.js","./Applications.module-d9c8da72.js","./AvatarWithTitle-10cf263d.js"],import.meta.url)),ym=y.lazy(()=>xe(()=>import("./AppsView-47e27c3f.js"),["./AppsView-47e27c3f.js","./vendor-e59bfd4a.js","./PageHeader-7c95fa6a.js","./Overview.module-f8d3e44b.js","./Applications.module-d9c8da72.js","./AvatarWithTitle-10cf263d.js"],import.meta.url)),bm=y.lazy(()=>xe(()=>import("./LogsInstancesList-1f55cdd0.js"),["./LogsInstancesList-1f55cdd0.js","./vendor-e59bfd4a.js"],import.meta.url)),Sm=y.lazy(()=>xe(()=>import("./Scaling-e2ad463b.js"),["./Scaling-e2ad463b.js","./vendor-e59bfd4a.js","./Config-072d6dfc.js"],import.meta.url)),xm=y.lazy(()=>xe(()=>import("./QuickstartPage-742f4876.js"),["./QuickstartPage-742f4876.js","./vendor-e59bfd4a.js","./QuickstartConfig-21cb9e01.js"],import.meta.url)),Cm=y.lazy(()=>xe(()=>import("./AppsQuickstart-64bb1f08.js"),["./AppsQuickstart-64bb1f08.js","./vendor-e59bfd4a.js","./QuickstartConfig-21cb9e01.js","./PageHeader-7c95fa6a.js","./Applications.module-d9c8da72.js"],import.meta.url)),Tm=[{component:o.jsx(xm,{}),path:"quickstart"},{component:o.jsx(Cm,{}),path:"quickstart/app"},{component:o.jsx(cs,{}),path:"overview"},{component:o.jsx(cs,{}),path:"overview/servers"},{component:o.jsx(cs,{}),path:"overview/sessionpools"},{component:o.jsx(_m,{}),path:"overview/server-config"},{component:o.jsx(Sm,{}),path:"overview/scaling"},{component:o.jsx(er,{}),path:"sessions"},{component:o.jsx(er,{}),path:"sessions/:app"},{component:o.jsx(wm,{}),path:"sessions/:app/:id"},{component:o.jsx(bm,{}),path:"logs/session/:app"},{component:o.jsx(vt,{}),path:"logs"},{component:o.jsx(vt,{}),path:"logs/:type"},{component:o.jsx(vt,{}),path:"logs/:type/:app"},{component:o.jsx(vt,{}),path:"logs/:type/:app/:id"},{component:o.jsx(vt,{}),path:"logs/:type/:app/:id/:spId"},{component:o.jsx(ym,{}),path:"apps"},{component:o.jsx(vm,{}),path:"apps/:app"}],Im=t=>{document.title=`${t} | Admin Console | Webswing`},Rm="_wPageNotFound_15qqz_1",Am={wPageNotFound:Rm},km=()=>(W(),o.jsx("div",{className:Am.wPageNotFound,children:o.jsx(Cs,{message:T.t("TOAST_404")})})),Lm="_footer_h1jxf_1",Pm="_center_h1jxf_4",Nm="_root_h1jxf_8",Dm="_card_h1jxf_16",jm="_logoFlex_h1jxf_27",Om="_buttons_h1jxf_31",Em="_cardFlex_h1jxf_34",Fm="_loginContent_h1jxf_42",Bt={footer:Lm,center:Pm,root:Nm,card:Dm,logoFlex:jm,buttons:Om,cardFlex:Em,loginContent:Fm},$m=q(({header:t,bTryAgainBtn:e=!0,bLoginBtn:s=!0,subtitle:r})=>{const{t:n}=W(),{permissionsStore:i}=M(),a=()=>{i.isLoggedIn()?ie.logout():ie.displayLogin()};return o.jsx("div",{className:Bt.root,children:o.jsxs(ye,{className:Bt.card,classes:{content:Bt.cardFlex},children:[o.jsx(_r,{}),o.jsx(ct,{title:n(t||"error.header")}),o.jsxs("p",{children:[o.jsx("p",{children:n(r||"error.clickBelow")}),o.jsx("small",{dangerouslySetInnerHTML:{__html:n("error.contactUs")}})]}),o.jsx(G.Group,{className:Bt.buttons,buttons:[{show:s,size:"small",color:"blue",label:n("general.login"),onClick:a},{show:e,size:"small",color:"neutral",label:n("error.tryAgain"),onClick:()=>window.location.reload()}]})]})})}),Mm="_root_2hclg_1",Gm="_container_2hclg_6",qm="_quickstartRoot_2hclg_14",Bm="_wrapper_2hclg_19",zm="_collapsed_2hclg_30",Vm="_menuIcon_2hclg_34",Um="_homeContent_2hclg_46",Hm="_wPageNotFound_2hclg_60",Vt={root:Mm,container:Gm,quickstartRoot:qm,wrapper:Bm,collapsed:zm,menuIcon:Vm,homeContent:Um,wPageNotFound:Hm},Wm=q(()=>{const{globalStore:t}=M();return o.jsxs(Jm,{children:[t.isQuickStartView&&o.jsx("div",{className:Vt.root,children:o.jsx("div",{className:Vt.quickstartRoot,children:o.jsx(tr,{})})}),!t.isQuickStartView&&o.jsxs("div",{className:Vt.root,children:[o.jsx(_p,{}),o.jsxs(eh,{children:[o.jsx(yh,{}),o.jsx(tr,{})]})]})]})}),Jm=q(({children:t})=>{var s,r,n,i;const{globalStore:e}=M();return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:(s=e.customization)==null?void 0:s.themeVariables}}),e.showErrorView?o.jsx($m,{header:(r=e.errorView)==null?void 0:r.header,bLoginBtn:(n=e.errorView)==null?void 0:n.bLoginBtn,subtitle:(i=e.errorView)==null?void 0:i.subtitle}):t]})}),tr=()=>{const{search:t}=ue();let e=new URLSearchParams(t).get("route");if(e==null){const s=sessionStorage.getItem("wsa_lastRoute");s!=null&&(e=s,sessionStorage.removeItem("wsa_lastRoute"))}return o.jsx("div",{className:Vt.container,children:o.jsx(y.Suspense,{fallback:o.jsx(De,{}),children:o.jsxs(Fr,{children:[o.jsx(Yt,{path:"*",element:o.jsx(km,{})}),Tm.map(s=>o.jsx(Yt,{path:"/"+s.path,element:s.component},s.path)),o.jsx(Yt,{path:"/",element:e?o.jsx(Ns,{to:e}):o.jsx(Ns,{to:"/overview"})})]})})})},Km=q(()=>{const{globalStore:t,permissionsStore:e}=M(),s=()=>{ie.healthCheck().then(n=>{n==="error"?t.toggleErrorView(!0,{header:"error.healthFailed",bLoginBtn:!1,subtitle:"error.healthFailedSubtitle"}):ie.getAccessToken().then(i=>{i&&i.length&&(e.reload(),t.loadAvailableLangs(),t.loadServerUrl(),t.loadCustomizationConfig())})})},r=()=>e.checkingPermissions&&!t.showErrorView;return y.useEffect(()=>{s()},[]),r()?o.jsx(De.Branded,{}):o.jsxs(o.Fragment,{children:[o.jsx($r,{basename:vr,children:o.jsx(Wm,{})}),o.jsx(Do,{})]})});vp().then(xp).then(()=>{vs.render(o.jsx(pa,{store:St,children:o.jsx(Km,{})}),document.getElementById("root"))}).catch(t=>{console.error(t)});export{Ym as $,Qo as A,G as B,ye as C,wr as D,qe as E,$ as F,yt as G,ct as H,D as I,te as J,yg as K,De as L,ve as M,Cs as N,Xm as O,Rs as P,fr as Q,Xg as R,_e as S,ee as T,br as U,cr as V,bg as W,fe as X,U as Y,Cn as Z,Jt as _,af as a,tf as a0,lf as a1,of as a2,Gt as a3,_r as a4,nf as a5,cf as a6,j as a7,ie as a8,es as a9,lr as b,ge as c,Is as d,z as e,pe as f,tt as g,zs as h,L as i,rf as j,Im as k,Zr as l,Gs as m,sf as n,be as o,yr as p,xs as q,Qt as r,ef as s,om as t,M as u,nm as v,Oe as w,Sr as x,Vl as y,Yg as z};
