import{o as p,r as g,u as m,j as s,c as S}from"./vendor-e59bfd4a.js";import{u as C,k as h,j as v,e as x,O as y,Q as j}from"./index-51b49a5b.js";import{C as b}from"./ConfigUI-1a86fda2.js";import{c as o}from"./Applications.module-d9c8da72.js";import"./Config-072d6dfc.js";const D=p(()=>{var i,l,c;const{permissionsStore:u,globalStore:n,configStore:e}=C(),[f,d]=g.useState("loading.."),{t:k,i18n:t}=m(),r=a=>{(a.ctrlKey||a.metaKey)&&a.key==="s"&&(a.preventDefault(),e.setConfig())};return g.useEffect(()=>(e.loadConfig(),n.loadInfo().then(()=>{d("")}),n.updateApp(""),document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r),e.clearConfigData()}),[]),h(t.t("routes.serconfig")),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:o.StatusPanel,children:[s.jsx("span",{className:o.StatusPanelLabel,children:"Status: "}),s.jsx(v,{status:(i=n.info)==null?void 0:i.status,loadMessage:f})]}),s.jsx(b,{readonly:!u.get("configEdit"),identify:"serverConfig",path:x,value:(l=e.config)==null?void 0:l.webConfig,hide:y,translations:(c=t.getDataByLanguage(t.language))==null?void 0:c.translation,lang:t.language}),s.jsx(j,{className:S(o.floatingButtons,{[o.activeApply]:e.activeApply}),buttons:[{label:t.t("Apply"),size:"small",color:"blue",onClick:()=>e.setConfig()},{label:t.t("Reset"),size:"small",color:"white",onClick:()=>e.resetConfig()}]})]})});export{D as default};
